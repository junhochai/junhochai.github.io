<!DOCTYPE html>
<html lang="en"><head>
<script src="regression-lecture-final (1)_files/libs/clipboard/clipboard.min.js"></script>
<script src="regression-lecture-final (1)_files/libs/quarto-html/tabby.min.js"></script>
<script src="regression-lecture-final (1)_files/libs/quarto-html/popper.min.js"></script>
<script src="regression-lecture-final (1)_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="regression-lecture-final (1)_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="regression-lecture-final (1)_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="regression-lecture-final (1)_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="regression-lecture-final (1)_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.555">

  <meta name="author" content="Dr.&nbsp;Jun Ho Chai">
  <title>Linear Regression</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="regression-lecture-final (1)_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="regression-lecture-final (1)_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="regression-lecture-final (1)_files/libs/revealjs/dist/theme/quarto.css">
  <link href="regression-lecture-final (1)_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="regression-lecture-final (1)_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script type="module" src="regression-lecture-final (1)_files/libs/quarto-ojs/quarto-ojs-runtime.js"></script>
  <link href="regression-lecture-final (1)_files/libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Linear Regression</h1>
  <p class="subtitle">RSM2074 Lecture Week 5</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Jun Ho Chai 
</div>
</div>
</div>

</section>
<section>
<section id="linear-regression" class="title-slide slide level1 center" data-background-color="#2c5aa0">
<h1>Linear Regression</h1>

</section>
<section id="the-plan-for-today" class="slide level2">
<h2>The Plan for Today</h2>
<ul>
<li>Overview of Correlations</li>
<li>How is Regression different from Correlation?</li>
<li>Regression Coefficients: Slope and Intercept</li>
<li>The R² Statistic</li>
<li>Comparing Regression with ANOVA</li>
<li>Conducting a Simple Linear Regression</li>
</ul>
</section></section>
<section>
<section id="correlations-review" class="title-slide slide level1 center" data-background-color="#4a90a4">
<h1>Correlations Review</h1>

</section>
<section id="we-should-already-know-how-correlations-work" class="slide level2">
<h2>We should already know how correlations work</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="33" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 32;"><span id="cb1-33"><a href=""></a>{</span>
<span id="cb1-34"><a href=""></a>  <span class="kw">const</span> base_consultation_data <span class="op">=</span> [</span>
<span id="cb1-35"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span></span>
<span id="cb1-36"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">91</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span></span>
<span id="cb1-37"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span></span>
<span id="cb1-38"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span></span>
<span id="cb1-39"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span></span>
<span id="cb1-40"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span></span>
<span id="cb1-41"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span></span>
<span id="cb1-42"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span></span>
<span id="cb1-43"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span></span>
<span id="cb1-44"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">77</span>}</span>
<span id="cb1-45"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb1-46"><a href=""></a>  </span>
<span id="cb1-47"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb1-48"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb1-49"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(base_consultation_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"wellbeing"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span>})</span>
<span id="cb1-50"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb1-51"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Spent Consulting Students This Week"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb1-52"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb1-53"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb1-54"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb1-55"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span></span>
<span id="cb1-56"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb1-57"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="explore-correlation-strength" class="slide level2">
<h2>Explore Correlation Strength</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="65" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 64;"><span id="cb2-65"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;p&gt;&lt;strong&gt;Adjust relationship strength:&lt;/strong&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="67" data-source-offset="-61"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 66;"><span id="cb3-67"><a href=""></a>viewof correlation_strength <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.1</span><span class="op">,</span> <span class="fl">0.99</span>]<span class="op">,</span> {</span>
<span id="cb3-68"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb3-69"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.05</span><span class="op">,</span></span>
<span id="cb3-70"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Correlation strength (r)"</span></span>
<span id="cb3-71"><a href=""></a>})</span>
<span id="cb3-72"><a href=""></a></span>
<span id="cb3-73"><a href=""></a>viewof data_pattern <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb3-74"><a href=""></a>  [<span class="st">"Linear"</span><span class="op">,</span> <span class="st">"Curved"</span>]<span class="op">,</span></span>
<span id="cb3-75"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Linear"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Data pattern:"</span>}</span>
<span id="cb3-76"><a href=""></a>)</span>
<span id="cb3-77"><a href=""></a></span>
<span id="cb3-78"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #e8f4f8; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb3-79"><a href=""></a><span class="vs">&lt;strong&gt;Pearson's r:&lt;/strong&gt; </span><span class="sc">${</span>correlation_strength<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;</span></span>
<span id="cb3-80"><a href=""></a><span class="vs">&lt;strong&gt;Interpretation:&lt;/strong&gt; </span><span class="sc">${</span>correlation_strength <span class="op">&gt;</span> <span class="fl">0.7</span> <span class="op">?</span> <span class="st">"Strong"</span> <span class="op">:</span> correlation_strength <span class="op">&gt;</span> <span class="fl">0.4</span> <span class="op">?</span> <span class="st">"Moderate"</span> <span class="op">:</span> <span class="st">"Weak"</span><span class="sc">}</span><span class="vs"> relationship</span></span>
<span id="cb3-81"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="85" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 84;"><span id="cb4-85"><a href=""></a>{</span>
<span id="cb4-86"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">80</span><span class="op">;</span>  <span class="co">// More points for better scatter</span></span>
<span id="cb4-87"><a href=""></a>  <span class="kw">let</span> data<span class="op">;</span></span>
<span id="cb4-88"><a href=""></a>  </span>
<span id="cb4-89"><a href=""></a>  <span class="cf">if</span> (data_pattern <span class="op">===</span> <span class="st">"Linear"</span>) {</span>
<span id="cb4-90"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb4-91"><a href=""></a>    <span class="kw">const</span> base_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> <span class="dv">2</span> <span class="op">*</span> xi <span class="op">+</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb4-92"><a href=""></a>    <span class="kw">const</span> noise_factor <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>((<span class="dv">1</span> <span class="op">-</span> correlation_strength <span class="op">*</span> correlation_strength) <span class="op">/</span> (correlation_strength <span class="op">*</span> correlation_strength)) <span class="op">*</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb4-93"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> base_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> noise_factor <span class="op">*</span> <span class="dv">8</span>)<span class="op">;</span></span>
<span id="cb4-94"><a href=""></a>    data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb4-95"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb4-96"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">8</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span>)<span class="op">;</span></span>
<span id="cb4-97"><a href=""></a>    <span class="kw">const</span> base_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">pow</span>(xi <span class="op">-</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">2</span>) <span class="op">+</span> <span class="dv">5</span>)<span class="op">;</span></span>
<span id="cb4-98"><a href=""></a>    <span class="kw">const</span> noise_factor <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb4-99"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> base_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> noise_factor)<span class="op">;</span></span>
<span id="cb4-100"><a href=""></a>    data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb4-101"><a href=""></a>  }</span>
<span id="cb4-102"><a href=""></a>  </span>
<span id="cb4-103"><a href=""></a>  <span class="co">// Calculate actual correlation</span></span>
<span id="cb4-104"><a href=""></a>  <span class="kw">const</span> mean_x <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">x</span>)<span class="op">;</span></span>
<span id="cb4-105"><a href=""></a>  <span class="kw">const</span> mean_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb4-106"><a href=""></a>  <span class="kw">const</span> r <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">*</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y))) <span class="op">/</span> </span>
<span id="cb4-107"><a href=""></a>           <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">**</span> <span class="dv">2</span>)) <span class="op">*</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>)))<span class="op">;</span></span>
<span id="cb4-108"><a href=""></a>  </span>
<span id="cb4-109"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span>})]<span class="op">;</span></span>
<span id="cb4-110"><a href=""></a>  </span>
<span id="cb4-111"><a href=""></a>  <span class="co">// ALWAYS show linear regression line, even for curves (to show it looks "wrong")</span></span>
<span id="cb4-112"><a href=""></a>  marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb4-113"><a href=""></a>    Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"5,5"</span>})</span>
<span id="cb4-114"><a href=""></a>  )<span class="op">;</span></span>
<span id="cb4-115"><a href=""></a>  </span>
<span id="cb4-116"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-117"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb4-118"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Variable X"</span>}<span class="op">,</span></span>
<span id="cb4-119"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Variable Y"</span>}<span class="op">,</span></span>
<span id="cb4-120"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-121"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> data_pattern <span class="op">===</span> <span class="st">"Curved"</span> <span class="op">?</span> </span>
<span id="cb4-122"><a href=""></a>      <span class="vs">`Linear line looks WRONG on curved data! r = </span><span class="sc">${</span>r<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> (misleading for curves)`</span> <span class="op">:</span></span>
<span id="cb4-123"><a href=""></a>      <span class="vs">`Actual correlation: r = </span><span class="sc">${</span>r<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> | r only measures LINEAR relationships!`</span></span>
<span id="cb4-124"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb4-125"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="correlation" class="slide level2">
<h2>Correlation</h2>
<p><strong>Key Points:</strong></p>
<p>• Correlations require <strong>two continuous variables</strong></p>
<p>• No IV/DV</p>
<p>• <strong>Correlation ≠ causation</strong></p>
</section>
<section id="pearsons-r-statistic" class="slide level2">
<h2>Pearson’s r Statistic</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="141" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 140;"><span id="cb5-141"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 24px; text-align: center; margin: 30px 0;"&gt;</span></span>
<span id="cb5-142"><a href=""></a><span class="vs">&lt;strong&gt;What's a pirate's favourite letter?&lt;/strong&gt;</span></span>
<span id="cb5-143"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb5-144"><a href=""></a><span class="vs">&lt;span style="color: #d32f2f; font-size: 48px;"&gt;R!&lt;/span&gt;</span></span>
<span id="cb5-145"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="expression">

</div>
</div>
</div>
<p>r is <strong>NOT</strong> based on how steep the line is (the slope)</p>
<p>r <strong>IS</strong> based on how spread out the points are from an imaginary line</p>
</section></section>
<section>
<section id="regression-vs-correlation" class="title-slide slide level1 center" data-background-color="#7b68ee">
<h1>Regression vs Correlation</h1>

</section>
<section id="at-first-glance-regression-appears-the-same-as-correlation" class="slide level2">
<h2>At first glance, Regression appears the same as Correlation</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="158" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 157;"><span id="cb6-158"><a href=""></a>{</span>
<span id="cb6-159"><a href=""></a>  <span class="kw">const</span> consultation_scatter <span class="op">=</span> [</span>
<span id="cb6-160"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">94</span>}<span class="op">,</span></span>
<span id="cb6-161"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">91</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span></span>
<span id="cb6-162"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span></span>
<span id="cb6-163"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span></span>
<span id="cb6-164"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span></span>
<span id="cb6-165"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span></span>
<span id="cb6-166"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span></span>
<span id="cb6-167"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span></span>
<span id="cb6-168"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span></span>
<span id="cb6-169"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">77</span>}</span>
<span id="cb6-170"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb6-171"><a href=""></a>  </span>
<span id="cb6-172"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb6-173"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb6-174"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(consultation_scatter<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"wellbeing"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span>})<span class="op">,</span></span>
<span id="cb6-175"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(consultation_scatter<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"wellbeing"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})</span>
<span id="cb6-176"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb6-177"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Spent Consulting Students This Week"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb6-178"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb6-179"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-180"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb6-181"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span></span>
<span id="cb6-182"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb6-183"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="note" class="slide level2">
<h2>Note</h2>
<p>• <strong>Correlation says:</strong> Mental wellbeing is <strong>associated with</strong> Healthy lifestyle</p>
<p>• <strong>Regression says:</strong> Healthy lifestyle <strong>predicts</strong> Mental Wellbeing</p>
</section>
<section id="correlation-vs-regression-thinking" class="slide level2">
<h2>Correlation vs Regression Thinking</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="196" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 195;"><span id="cb7-196"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;p style="font-size: 12px;"&gt;&lt;strong&gt;Explore the difference:&lt;/strong&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="198" data-source-offset="-80"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 197;"><span id="cb8-198"><a href=""></a>viewof show_approach <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb8-199"><a href=""></a>  [<span class="st">"Correlation view"</span><span class="op">,</span> <span class="st">"Regression view"</span>]<span class="op">,</span></span>
<span id="cb8-200"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Regression view"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Show:"</span>}</span>
<span id="cb8-201"><a href=""></a>)</span>
<span id="cb8-202"><a href=""></a></span>
<span id="cb8-203"><a href=""></a>viewof residual_variance <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.5</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span> {</span>
<span id="cb8-204"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">1.5</span><span class="op">,</span></span>
<span id="cb8-205"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span></span>
<span id="cb8-206"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Residual variance (error)"</span></span>
<span id="cb8-207"><a href=""></a>})</span>
<span id="cb8-208"><a href=""></a></span>
<span id="cb8-209"><a href=""></a>viewof swap_axes <span class="op">=</span> show_approach <span class="op">===</span> <span class="st">"Correlation view"</span> <span class="op">?</span> </span>
<span id="cb8-210"><a href=""></a>  Inputs<span class="op">.</span><span class="fu">checkbox</span>([<span class="st">"Swap X and Y axes"</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> []}) <span class="op">:</span></span>
<span id="cb8-211"><a href=""></a>  Inputs<span class="op">.</span><span class="fu">checkbox</span>([<span class="st">"Swap X and Y axes"</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> []<span class="op">,</span> <span class="dt">disabled</span><span class="op">:</span> <span class="kw">true</span>})</span>
<span id="cb8-212"><a href=""></a></span>
<span id="cb8-213"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #fff9c4; padding: 10px; margin-top: 15px; border-radius: 5px; font-size: 11px;"&gt;</span></span>
<span id="cb8-214"><a href=""></a><span class="vs">&lt;strong&gt;Correlation:&lt;/strong&gt; Bidirectional - can swap X and Y&lt;br/&gt;</span></span>
<span id="cb8-215"><a href=""></a><span class="vs">&lt;strong&gt;Regression:&lt;/strong&gt; Directional - X predicts Y&lt;br/&gt;</span></span>
<span id="cb8-216"><a href=""></a><span class="vs">&lt;em&gt;Neither implies causation!&lt;/em&gt;</span></span>
<span id="cb8-217"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-5" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="221" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 220;"><span id="cb9-221"><a href=""></a>{</span>
<span id="cb9-222"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">60</span><span class="op">;</span></span>
<span id="cb9-223"><a href=""></a>  <span class="kw">const</span> base_x <span class="op">=</span> [<span class="fl">2.5</span><span class="op">,</span> <span class="fl">3.1</span><span class="op">,</span> <span class="fl">3.8</span><span class="op">,</span> <span class="fl">4.2</span><span class="op">,</span> <span class="fl">4.9</span><span class="op">,</span> <span class="fl">5.3</span><span class="op">,</span> <span class="fl">5.8</span><span class="op">,</span> <span class="fl">6.4</span><span class="op">,</span> <span class="fl">6.9</span><span class="op">,</span> <span class="fl">7.5</span><span class="op">,</span> <span class="fl">8.1</span><span class="op">,</span> <span class="fl">8.6</span><span class="op">,</span> <span class="fl">9.2</span><span class="op">,</span> <span class="fl">9.8</span><span class="op">,</span> </span>
<span id="cb9-224"><a href=""></a>                  <span class="fl">2.8</span><span class="op">,</span> <span class="fl">3.4</span><span class="op">,</span> <span class="fl">4.1</span><span class="op">,</span> <span class="fl">4.6</span><span class="op">,</span> <span class="fl">5.1</span><span class="op">,</span> <span class="fl">5.7</span><span class="op">,</span> <span class="fl">6.2</span><span class="op">,</span> <span class="fl">6.7</span><span class="op">,</span> <span class="fl">7.3</span><span class="op">,</span> <span class="fl">7.8</span><span class="op">,</span> <span class="fl">8.4</span><span class="op">,</span> <span class="fl">8.9</span><span class="op">,</span></span>
<span id="cb9-225"><a href=""></a>                  <span class="fl">3.2</span><span class="op">,</span> <span class="fl">3.7</span><span class="op">,</span> <span class="fl">4.4</span><span class="op">,</span> <span class="fl">4.8</span><span class="op">,</span> <span class="fl">5.4</span><span class="op">,</span> <span class="fl">5.9</span><span class="op">,</span> <span class="fl">6.5</span><span class="op">,</span> <span class="fl">7.1</span><span class="op">,</span> <span class="fl">7.6</span><span class="op">,</span> <span class="fl">8.2</span><span class="op">,</span> <span class="fl">8.7</span><span class="op">,</span> <span class="fl">9.3</span><span class="op">,</span></span>
<span id="cb9-226"><a href=""></a>                  <span class="fl">2.9</span><span class="op">,</span> <span class="fl">3.5</span><span class="op">,</span> <span class="fl">4.0</span><span class="op">,</span> <span class="fl">4.7</span><span class="op">,</span> <span class="fl">5.2</span><span class="op">,</span> <span class="fl">5.8</span><span class="op">,</span> <span class="fl">6.3</span><span class="op">,</span> <span class="fl">6.8</span><span class="op">,</span> <span class="fl">7.4</span><span class="op">,</span> <span class="fl">7.9</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="fl">9.0</span><span class="op">,</span></span>
<span id="cb9-227"><a href=""></a>                  <span class="fl">3.0</span><span class="op">,</span> <span class="fl">3.6</span><span class="op">,</span> <span class="fl">4.3</span><span class="op">,</span> <span class="fl">4.9</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="fl">6.0</span><span class="op">,</span> <span class="fl">6.6</span><span class="op">,</span> <span class="fl">7.2</span><span class="op">,</span> <span class="fl">7.7</span><span class="op">,</span> <span class="fl">8.3</span>]<span class="op">;</span></span>
<span id="cb9-228"><a href=""></a>  </span>
<span id="cb9-229"><a href=""></a>  <span class="kw">let</span> data_original <span class="op">=</span> base_x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb9-230"><a href=""></a>    <span class="kw">const</span> true_y <span class="op">=</span> <span class="op">-</span><span class="fl">1.5</span> <span class="op">*</span> xi <span class="op">+</span> <span class="dv">25</span><span class="op">;</span></span>
<span id="cb9-231"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> true_y <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(i <span class="op">*</span> <span class="fl">0.5</span>) <span class="op">*</span> residual_variance <span class="op">*</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb9-232"><a href=""></a>    <span class="cf">return</span> {<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y}<span class="op">;</span></span>
<span id="cb9-233"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb9-234"><a href=""></a>  </span>
<span id="cb9-235"><a href=""></a>  <span class="kw">let</span> data <span class="op">=</span> (show_approach <span class="op">===</span> <span class="st">"Correlation view"</span> <span class="op">&amp;&amp;</span> swap_axes<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> </span>
<span id="cb9-236"><a href=""></a>    data_original<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> d<span class="op">.</span><span class="at">y</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> d<span class="op">.</span><span class="at">x</span>})) <span class="op">:</span> </span>
<span id="cb9-237"><a href=""></a>    data_original<span class="op">;</span></span>
<span id="cb9-238"><a href=""></a>  </span>
<span id="cb9-239"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span>})]<span class="op">;</span></span>
<span id="cb9-240"><a href=""></a>  </span>
<span id="cb9-241"><a href=""></a>  <span class="cf">if</span> (show_approach <span class="op">===</span> <span class="st">"Correlation view"</span>) {</span>
<span id="cb9-242"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb9-243"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"gray"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"8,4"</span>})</span>
<span id="cb9-244"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb9-245"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb9-246"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb9-247"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb9-248"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb9-249"><a href=""></a>  }</span>
<span id="cb9-250"><a href=""></a>  </span>
<span id="cb9-251"><a href=""></a>  <span class="kw">const</span> mean_x <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">x</span>)<span class="op">;</span></span>
<span id="cb9-252"><a href=""></a>  <span class="kw">const</span> mean_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb9-253"><a href=""></a>  <span class="kw">const</span> r <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">*</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y))) <span class="op">/</span> </span>
<span id="cb9-254"><a href=""></a>           <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">**</span> <span class="dv">2</span>)) <span class="op">*</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>)))<span class="op">;</span></span>
<span id="cb9-255"><a href=""></a>  </span>
<span id="cb9-256"><a href=""></a>  <span class="kw">const</span> x_label <span class="op">=</span> (show_approach <span class="op">===</span> <span class="st">"Correlation view"</span> <span class="op">&amp;&amp;</span> swap_axes<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> <span class="st">"Mental Wellbeing"</span> <span class="op">:</span> <span class="st">"Hours Exercising (week)"</span><span class="op">;</span></span>
<span id="cb9-257"><a href=""></a>  <span class="kw">const</span> y_label <span class="op">=</span> (show_approach <span class="op">===</span> <span class="st">"Correlation view"</span> <span class="op">&amp;&amp;</span> swap_axes<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> <span class="st">"Hours Exercising (week)"</span> <span class="op">:</span> <span class="st">"Mental Wellbeing"</span><span class="op">;</span></span>
<span id="cb9-258"><a href=""></a>  </span>
<span id="cb9-259"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb9-260"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb9-261"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="vs">`Predictor (x) - </span><span class="sc">${</span>x_label<span class="sc">}</span><span class="vs">`</span>}<span class="op">,</span></span>
<span id="cb9-262"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="vs">`Outcome (y) - </span><span class="sc">${</span>y_label<span class="sc">}</span><span class="vs">`</span>}<span class="op">,</span></span>
<span id="cb9-263"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-264"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb9-265"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb9-266"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Gray dashed = correlation (bidirectional) | Red solid = regression (directional) | r = </span><span class="sc">${</span>r<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb9-267"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb9-268"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Key Difference:</strong> Correlation is symmetric; Regression is directional!</p>
</section>
<section id="regression-terminology" class="slide level2">
<h2>Regression Terminology</h2>
<p><strong>One variable is always the outcome variable:</strong></p>
<p>• It’s your <strong>DV</strong> (depends on other variables)</p>
<p>• Often called <strong>y</strong></p>
<p><strong>Other variables are called predictors:</strong></p>
<p>• Like <strong>IVs</strong> (affect your outcome)</p>
<p>• Often called <strong>x</strong></p>
<p>• <strong>Larger changes</strong> = <strong>steeper slope</strong></p>
</section></section>
<section>
<section id="the-regression-line" class="title-slide slide level1 center" data-background-color="#228b22">
<h1>The Regression Line</h1>

</section>
<section id="how-the-regression-line-works" class="slide level2">
<h2>How the Regression Line Works</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb10" data-startfrom="296" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 295;"><span id="cb10-296"><a href=""></a>{</span>
<span id="cb10-297"><a href=""></a>  <span class="kw">const</span> scatter_pairs <span class="op">=</span> [</span>
<span id="cb10-298"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span></span>
<span id="cb10-299"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span></span>
<span id="cb10-300"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span></span>
<span id="cb10-301"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span></span>
<span id="cb10-302"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">78</span>}</span>
<span id="cb10-303"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb10-304"><a href=""></a>  </span>
<span id="cb10-305"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb10-306"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb10-307"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(scatter_pairs<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span>})<span class="op">,</span></span>
<span id="cb10-308"><a href=""></a>      Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">75</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Multiple observations at each x value creates proper scatter"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">11</span>})</span>
<span id="cb10-309"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb10-310"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Exercising (week) (x)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb10-311"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing (y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb10-312"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb10-313"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"Real data has natural variability - multiple y values for similar x values"</span></span>
<span id="cb10-314"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb10-315"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="correlation-vs-regression-lines" class="slide level2">
<h2>Correlation vs Regression Lines</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Correlation Trendline</strong></p>
<ul>
<li><p>The line is really a <strong>cluster</strong> that shape like a line</p></li>
<li><p>Says: “x and y tend to move together this closely”</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Regression Line</strong></p>
<ul>
<li><p>This line is <strong>directional</strong></p></li>
<li><p>Allows you to <strong>predict</strong> new data points</p></li>
<li><p>Says: “If x is here, y is predicted to be there”</p></li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="regression-formula" class="title-slide slide level1 center" data-background-color="#ff6347">
<h1>Regression Formula</h1>

</section>
<section id="the-regression-equation" class="slide level2">
<h2>The Regression Equation</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="346" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 345;"><span id="cb11-346"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; font-size: 60px; margin: 40px 0; font-weight: bold;"&gt;</span></span>
<span id="cb11-347"><a href=""></a><span class="vs">y = βx + c</span></span>
<span id="cb11-348"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb11-349"><a href=""></a></span>
<span id="cb11-350"><a href=""></a><span class="vs">&lt;div style="display: flex; justify-content: space-around; font-size: 22px; margin-top: 40px;"&gt;</span></span>
<span id="cb11-351"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb11-352"><a href=""></a><span class="vs">&lt;strong style="color: #1f77b4; font-size: 36px;"&gt;y&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-353"><a href=""></a><span class="vs">The value of the&lt;br/&gt;</span></span>
<span id="cb11-354"><a href=""></a><span class="vs">&lt;strong&gt;outcome variable&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-355"><a href=""></a><span class="vs">Also called a DV</span></span>
<span id="cb11-356"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb11-357"><a href=""></a></span>
<span id="cb11-358"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb11-359"><a href=""></a><span class="vs">&lt;strong style="color: #ff7f0e; font-size: 36px;"&gt;β&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-360"><a href=""></a><span class="vs">&lt;strong&gt;The slope&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-361"><a href=""></a><span class="vs">Amount that y changes&lt;br/&gt;</span></span>
<span id="cb11-362"><a href=""></a><span class="vs">for each change in x</span></span>
<span id="cb11-363"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb11-364"><a href=""></a></span>
<span id="cb11-365"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb11-366"><a href=""></a><span class="vs">&lt;strong style="color: #2ca02c; font-size: 36px;"&gt;x&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-367"><a href=""></a><span class="vs">The value of the&lt;br/&gt;</span></span>
<span id="cb11-368"><a href=""></a><span class="vs">&lt;strong&gt;predictor&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-369"><a href=""></a><span class="vs">Also called an IV</span></span>
<span id="cb11-370"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb11-371"><a href=""></a></span>
<span id="cb11-372"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb11-373"><a href=""></a><span class="vs">&lt;strong style="color: #d62728; font-size: 36px;"&gt;c&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-374"><a href=""></a><span class="vs">&lt;strong&gt;The intercept&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb11-375"><a href=""></a><span class="vs">The value of y&lt;br/&gt;</span></span>
<span id="cb11-376"><a href=""></a><span class="vs">if x was 0</span></span>
<span id="cb11-377"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb11-378"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="play-with-your-own-regression-line" class="slide level2">
<h2>Play with Your Own Regression Line</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="386" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 385;"><span id="cb12-386"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4 style="font-size: 13px;"&gt;Adjust parameters:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="388" data-source-offset="-60"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 387;"><span id="cb13-388"><a href=""></a>viewof slope_better <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span> {</span>
<span id="cb13-389"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">4</span> <span class="op">-</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb13-390"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span></span>
<span id="cb13-391"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Slope (β)"</span></span>
<span id="cb13-392"><a href=""></a>})</span>
<span id="cb13-393"><a href=""></a></span>
<span id="cb13-394"><a href=""></a>viewof intercept_better <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">5</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> {</span>
<span id="cb13-395"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb13-396"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb13-397"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Intercept (c)"</span></span>
<span id="cb13-398"><a href=""></a>})</span>
<span id="cb13-399"><a href=""></a></span>
<span id="cb13-400"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #f0f0f0; padding: 10px; margin-top: 15px; border-radius: 5px; font-size: 12px;"&gt;</span></span>
<span id="cb13-401"><a href=""></a><span class="vs">&lt;strong&gt;Your equation:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-402"><a href=""></a><span class="vs">y = </span><span class="sc">${</span>slope_better<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">x + </span><span class="sc">${</span>intercept_better<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span></span>
<span id="cb13-403"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-4" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="405" data-source-offset="-523"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 404;"><span id="cb14-405"><a href=""></a>viewof show_best_fit <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">checkbox</span>([<span class="st">"Show best fit line"</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> []})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-5" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="409" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 408;"><span id="cb15-409"><a href=""></a>{</span>
<span id="cb15-410"><a href=""></a>  <span class="kw">const</span> x_data <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="fl">2.5</span><span class="op">,</span> <span class="fl">2.5</span><span class="op">,</span> <span class="fl">2.5</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="fl">11.5</span><span class="op">,</span> <span class="fl">11.5</span>]<span class="op">;</span></span>
<span id="cb15-411"><a href=""></a>  <span class="kw">const</span> y_data <span class="op">=</span> [<span class="dv">12</span><span class="op">,</span> <span class="dv">14</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="dv">13</span><span class="op">,</span> <span class="dv">17</span><span class="op">,</span> <span class="dv">11</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">13</span><span class="op">,</span> <span class="dv">18</span><span class="op">,</span> <span class="dv">16</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">14</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">16</span><span class="op">,</span> <span class="dv">21</span><span class="op">,</span> <span class="dv">19</span><span class="op">,</span> <span class="dv">23</span><span class="op">,</span> <span class="dv">17</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">;</span></span>
<span id="cb15-412"><a href=""></a></span>
<span id="cb15-413"><a href=""></a>  <span class="kw">const</span> x_line <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">13</span>]<span class="op">;</span></span>
<span id="cb15-414"><a href=""></a>  <span class="kw">const</span> y_line <span class="op">=</span> x_line<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> slope_better <span class="op">*</span> xi <span class="op">+</span> intercept_better)<span class="op">;</span></span>
<span id="cb15-415"><a href=""></a></span>
<span id="cb15-416"><a href=""></a>  <span class="kw">const</span> true_slope <span class="op">=</span> <span class="fl">1.2</span><span class="op">;</span></span>
<span id="cb15-417"><a href=""></a>  <span class="kw">const</span> true_intercept <span class="op">=</span> <span class="dv">8</span><span class="op">;</span></span>
<span id="cb15-418"><a href=""></a>  <span class="kw">const</span> y_true_line <span class="op">=</span> x_line<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> true_slope <span class="op">*</span> xi <span class="op">+</span> true_intercept)<span class="op">;</span></span>
<span id="cb15-419"><a href=""></a></span>
<span id="cb15-420"><a href=""></a>  <span class="kw">const</span> errors <span class="op">=</span> x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>((slope_better <span class="op">*</span> xi <span class="op">+</span> intercept_better) <span class="op">-</span> y_data[i]))<span class="op">;</span></span>
<span id="cb15-421"><a href=""></a>  <span class="kw">const</span> total_error <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(errors)<span class="op">;</span></span>
<span id="cb15-422"><a href=""></a>  <span class="kw">const</span> best_fit_error <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>((true_slope <span class="op">*</span> xi <span class="op">+</span> true_intercept) <span class="op">-</span> y_data[i])))<span class="op">;</span></span>
<span id="cb15-423"><a href=""></a></span>
<span id="cb15-424"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [</span>
<span id="cb15-425"><a href=""></a>    Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">0</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_line[<span class="dv">0</span>]}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">1</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_line[<span class="dv">1</span>]}]<span class="op">,</span> </span>
<span id="cb15-426"><a href=""></a>              {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb15-427"><a href=""></a>    Plot<span class="op">.</span><span class="fu">dot</span>(x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_data[i]}))<span class="op">,</span> </span>
<span id="cb15-428"><a href=""></a>             {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb15-429"><a href=""></a>    Plot<span class="op">.</span><span class="fu">link</span>(x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({</span>
<span id="cb15-430"><a href=""></a>      <span class="dt">x1</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> y_data[i]<span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> slope_better <span class="op">*</span> xi <span class="op">+</span> intercept_better</span>
<span id="cb15-431"><a href=""></a>    }))<span class="op">,</span> {</span>
<span id="cb15-432"><a href=""></a>      <span class="dt">x1</span><span class="op">:</span> <span class="st">"x1"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> <span class="st">"x2"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span></span>
<span id="cb15-433"><a href=""></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"3,3"</span></span>
<span id="cb15-434"><a href=""></a>    })</span>
<span id="cb15-435"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb15-436"><a href=""></a></span>
<span id="cb15-437"><a href=""></a>  <span class="cf">if</span> (show_best_fit<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb15-438"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb15-439"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">0</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_true_line[<span class="dv">0</span>]}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">1</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_true_line[<span class="dv">1</span>]}]<span class="op">,</span> </span>
<span id="cb15-440"><a href=""></a>                {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"8,4"</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.8</span>})</span>
<span id="cb15-441"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb15-442"><a href=""></a>  }</span>
<span id="cb15-443"><a href=""></a></span>
<span id="cb15-444"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb15-445"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb15-446"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">13</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"x (Predictor)"</span>}<span class="op">,</span></span>
<span id="cb15-447"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">5</span><span class="op">,</span> <span class="dv">25</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"y (Outcome)"</span>}<span class="op">,</span></span>
<span id="cb15-448"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb15-449"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Your error: </span><span class="sc">${</span>total_error<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> | Best fit: </span><span class="sc">${</span>best_fit_error<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> | </span><span class="sc">${</span>total_error <span class="op">&lt;</span> best_fit_error <span class="op">*</span> <span class="fl">1.1</span> <span class="op">?</span> <span class="st">"🎯 Close!"</span> <span class="op">:</span> <span class="st">"Keep trying!"</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb15-450"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb15-451"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Challenge:</strong> Can you beat the best-fit line? Green dashed = optimal</p>
</section></section>
<section>
<section id="understanding-prediction-error" class="title-slide slide level1 center" data-background-color="#9370db">
<h1>Understanding Prediction Error</h1>

</section>
<section id="error-natural-human-variability" class="slide level2">
<h2>Error = Natural Human Variability</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb16" data-startfrom="462" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 461;"><span id="cb16-462"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 28px; text-align: center; margin: 40px 0; line-height: 1.6;"&gt;</span></span>
<span id="cb16-463"><a href=""></a><span class="vs">&lt;p&gt;&lt;strong&gt;Why isn't prediction perfect?&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb16-464"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb16-465"><a href=""></a><span class="vs">&lt;p&gt;Humans are naturally variable! Even with the same study hours,&lt;br/&gt;</span></span>
<span id="cb16-466"><a href=""></a><span class="vs">different students get different exam scores because of:&lt;/p&gt;</span></span>
<span id="cb16-467"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb16-468"><a href=""></a><span class="vs">&lt;div style="font-size: 24px; text-align: middle; max-width: 600px; margin: 0 auto;"&gt;</span></span>
<span id="cb16-469"><a href=""></a><span class="vs">• &lt;strong&gt;Sleep quality&lt;/strong&gt; the night before&lt;br/&gt;</span></span>
<span id="cb16-470"><a href=""></a><span class="vs">• &lt;strong&gt;Test anxiety&lt;/strong&gt; levels&lt;br/&gt;</span></span>
<span id="cb16-471"><a href=""></a><span class="vs">• &lt;strong&gt;Prior knowledge&lt;/strong&gt; differences&lt;br/&gt;</span></span>
<span id="cb16-472"><a href=""></a><span class="vs">• &lt;strong&gt;Motivation&lt;/strong&gt; on that day&lt;br/&gt;</span></span>
<span id="cb16-473"><a href=""></a><span class="vs">• &lt;strong&gt;Luck&lt;/strong&gt; with question topics&lt;br/&gt;</span></span>
<span id="cb16-474"><a href=""></a><span class="vs">• &lt;strong&gt;Coffee consumption&lt;/strong&gt; 😊</span></span>
<span id="cb16-475"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb16-476"><a href=""></a><span class="vs">&lt;p style="color: #d32f2f;"&gt;&lt;strong&gt;Error term = All the natural variability&lt;br/&gt;</span></span>
<span id="cb16-477"><a href=""></a><span class="vs">we cannot explain with our predictor&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb16-478"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="perfect-prediction-vs-reality" class="slide level2">
<h2>Perfect Prediction vs Reality</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb17" data-startfrom="485" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 484;"><span id="cb17-485"><a href=""></a>viewof error_scenario <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb17-486"><a href=""></a>  [<span class="st">"Perfect prediction"</span><span class="op">,</span> <span class="st">"Some variability"</span><span class="op">,</span> <span class="st">"Lots of variability"</span>]<span class="op">,</span></span>
<span id="cb17-487"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Some variability"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Scenario:"</span>}</span>
<span id="cb17-488"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb18" data-startfrom="493" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 492;"><span id="cb18-493"><a href=""></a>{</span>
<span id="cb18-494"><a href=""></a>  <span class="kw">const</span> x_vals <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">11</span>)<span class="op">;</span></span>
<span id="cb18-495"><a href=""></a>  <span class="kw">let</span> data_points <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb18-496"><a href=""></a>  </span>
<span id="cb18-497"><a href=""></a>  <span class="cf">if</span> (error_scenario <span class="op">===</span> <span class="st">"Perfect prediction"</span>) {</span>
<span id="cb18-498"><a href=""></a>    x_vals<span class="op">.</span><span class="fu">forEach</span>(x <span class="kw">=&gt;</span> {</span>
<span id="cb18-499"><a href=""></a>      data_points<span class="op">.</span><span class="fu">push</span>({<span class="dt">x</span><span class="op">:</span> x<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">3</span>})<span class="op">;</span></span>
<span id="cb18-500"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb18-501"><a href=""></a>  } <span class="cf">else</span> <span class="cf">if</span> (error_scenario <span class="op">===</span> <span class="st">"Some variability"</span>) {</span>
<span id="cb18-502"><a href=""></a>    x_vals<span class="op">.</span><span class="fu">forEach</span>(x <span class="kw">=&gt;</span> {</span>
<span id="cb18-503"><a href=""></a>      <span class="kw">const</span> base_y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb18-504"><a href=""></a>      <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb18-505"><a href=""></a>        data_points<span class="op">.</span><span class="fu">push</span>({<span class="dt">x</span><span class="op">:</span> x <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> base_y <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">4</span>})<span class="op">;</span></span>
<span id="cb18-506"><a href=""></a>      }</span>
<span id="cb18-507"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb18-508"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb18-509"><a href=""></a>    x_vals<span class="op">.</span><span class="fu">forEach</span>(x <span class="kw">=&gt;</span> {</span>
<span id="cb18-510"><a href=""></a>      <span class="kw">const</span> base_y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb18-511"><a href=""></a>      <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">4</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb18-512"><a href=""></a>        data_points<span class="op">.</span><span class="fu">push</span>({<span class="dt">x</span><span class="op">:</span> x <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> base_y <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">10</span>})<span class="op">;</span></span>
<span id="cb18-513"><a href=""></a>      }</span>
<span id="cb18-514"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb18-515"><a href=""></a>  }</span>
<span id="cb18-516"><a href=""></a>  </span>
<span id="cb18-517"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb18-518"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb18-519"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">3</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">25</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb18-520"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.7</span>})</span>
<span id="cb18-521"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb18-522"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">11</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Study Hours (x)"</span>}<span class="op">,</span></span>
<span id="cb18-523"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">30</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Exam Score (y)"</span>}<span class="op">,</span></span>
<span id="cb18-524"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb18-525"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> error_scenario <span class="op">===</span> <span class="st">"Perfect prediction"</span> <span class="op">?</span> <span class="st">"Impossible: No human variability"</span> <span class="op">:</span></span>
<span id="cb18-526"><a href=""></a>             error_scenario <span class="op">===</span> <span class="st">"Some variability"</span> <span class="op">?</span> <span class="st">"Realistic: Some natural variability"</span> <span class="op">:</span></span>
<span id="cb18-527"><a href=""></a>             <span class="st">"Common: Many unmeasured factors matter"</span></span>
<span id="cb18-528"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb18-529"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="the-r²-statistic" class="title-slide slide level1 center" data-background-color="#4682b4">
<h1>The R² Statistic</h1>

</section>
<section id="whats-a-pirates-favourite-test-statistic" class="slide level2">
<h2><strong>What’s a pirate’s favourite test statistic?</strong></h2>
<p><strong>R²!</strong></p>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb19" data-startfrom="540" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 539;"><span id="cb19-540"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; font-size: 25px; margin: 30px 0;"&gt;</span></span>
<span id="cb19-541"><a href=""></a><span class="vs">&lt;strong&gt;R² = Proportion of variance in Y explained by X&lt;/strong&gt;</span></span>
<span id="cb19-542"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb19-543"><a href=""></a><span class="vs">&lt;div style="font-size: 26px;"&gt;</span></span>
<span id="cb19-544"><a href=""></a><span class="vs">If R² = 0.60, then:&lt;br/&gt;</span></span>
<span id="cb19-545"><a href=""></a><span class="vs">• 60% of variation in Y is due to X&lt;br/&gt;</span></span>
<span id="cb19-546"><a href=""></a><span class="vs">• 40% of variation is due to other factors (natural variability)</span></span>
<span id="cb19-547"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb19-548"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-15" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="r²-a-measure-of-precision" class="slide level2">
<h2>R²: A Measure of Precision</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb20" data-startfrom="557" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 556;"><span id="cb20-557"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;p style="font-size: 12px;"&gt;&lt;strong&gt;Compare R² values:&lt;/strong&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb21" data-startfrom="559" data-source-offset="-75"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 558;"><span id="cb21-559"><a href=""></a>viewof r_squared_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.05</span><span class="op">,</span> <span class="fl">0.98</span>]<span class="op">,</span> {</span>
<span id="cb21-560"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">0.6</span><span class="op">,</span></span>
<span id="cb21-561"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.05</span><span class="op">,</span></span>
<span id="cb21-562"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Target R²"</span></span>
<span id="cb21-563"><a href=""></a>})</span>
<span id="cb21-564"><a href=""></a></span>
<span id="cb21-565"><a href=""></a>viewof dataset_size <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">40</span><span class="op">,</span> <span class="dv">120</span>]<span class="op">,</span> {</span>
<span id="cb21-566"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span></span>
<span id="cb21-567"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb21-568"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Number of points"</span></span>
<span id="cb21-569"><a href=""></a>})</span>
<span id="cb21-570"><a href=""></a></span>
<span id="cb21-571"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #e8f4f8; padding: 10px; margin-top: 15px; border-radius: 5px; font-size: 11px;"&gt;</span></span>
<span id="cb21-572"><a href=""></a><span class="vs">&lt;strong&gt;R²:&lt;/strong&gt; </span><span class="sc">${</span>r_squared_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;</span></span>
<span id="cb21-573"><a href=""></a><span class="sc">${</span>(r_squared_dramatic <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">% explained&lt;br/&gt;</span></span>
<span id="cb21-574"><a href=""></a><span class="sc">${</span>(<span class="dv">100</span> <span class="op">-</span> r_squared_dramatic <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">% unexplained</span></span>
<span id="cb21-575"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-16-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb22" data-startfrom="579" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 578;"><span id="cb22-579"><a href=""></a>{</span>
<span id="cb22-580"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> dataset_size<span class="op">;</span></span>
<span id="cb22-581"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">12</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span>)<span class="op">;</span></span>
<span id="cb22-582"><a href=""></a>  </span>
<span id="cb22-583"><a href=""></a>  <span class="kw">const</span> slope <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb22-584"><a href=""></a>  <span class="kw">const</span> intercept <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb22-585"><a href=""></a>  <span class="kw">const</span> true_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> slope <span class="op">*</span> xi <span class="op">+</span> intercept)<span class="op">;</span></span>
<span id="cb22-586"><a href=""></a>  </span>
<span id="cb22-587"><a href=""></a>  <span class="kw">const</span> var_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">variance</span>(true_y)<span class="op">;</span></span>
<span id="cb22-588"><a href=""></a>  <span class="kw">const</span> noise_multiplier <span class="op">=</span> r_squared_dramatic <span class="op">&lt;</span> <span class="fl">0.3</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> r_squared_dramatic <span class="op">&lt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="dv">4</span> <span class="op">:</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb22-589"><a href=""></a>  <span class="kw">const</span> sd_residual <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(var_y <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> r_squared_dramatic)) <span class="op">*</span> noise_multiplier<span class="op">;</span></span>
<span id="cb22-590"><a href=""></a>  <span class="kw">const</span> y <span class="op">=</span> true_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> sd_residual)<span class="op">;</span></span>
<span id="cb22-591"><a href=""></a>  </span>
<span id="cb22-592"><a href=""></a>  <span class="kw">const</span> data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb22-593"><a href=""></a>  </span>
<span id="cb22-594"><a href=""></a>  <span class="kw">const</span> mean_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(y)<span class="op">;</span></span>
<span id="cb22-595"><a href=""></a>  <span class="kw">const</span> ss_tot <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> (yi <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb22-596"><a href=""></a>  <span class="kw">const</span> predicted_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> slope <span class="op">*</span> xi <span class="op">+</span> intercept)<span class="op">;</span></span>
<span id="cb22-597"><a href=""></a>  <span class="kw">const</span> ss_res <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(y<span class="op">.</span><span class="fu">map</span>((yi<span class="op">,</span> i) <span class="kw">=&gt;</span> (yi <span class="op">-</span> predicted_y[i]) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb22-598"><a href=""></a>  <span class="kw">const</span> actual_r2 <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span> <span class="op">-</span> (ss_res <span class="op">/</span> ss_tot))<span class="op">;</span></span>
<span id="cb22-599"><a href=""></a>  </span>
<span id="cb22-600"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb22-601"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb22-602"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.7</span>})<span class="op">,</span></span>
<span id="cb22-603"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})</span>
<span id="cb22-604"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb22-605"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (x)"</span>}<span class="op">,</span></span>
<span id="cb22-606"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (y)"</span>}<span class="op">,</span></span>
<span id="cb22-607"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb22-608"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Target R² = </span><span class="sc">${</span>r_squared_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> | Actual = </span><span class="sc">${</span>actual_r2<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> | </span><span class="sc">${</span>actual_r2 <span class="op">&gt;</span> <span class="fl">0.8</span> <span class="op">?</span> <span class="st">"Very tight!"</span> <span class="op">:</span> actual_r2 <span class="op">&gt;</span> <span class="fl">0.5</span> <span class="op">?</span> <span class="st">"Moderate"</span> <span class="op">:</span> <span class="st">"Loose fit"</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb22-609"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb22-610"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="the-β-statistic" class="title-slide slide level1 center" data-background-color="#dc143c">
<h1>The β Statistic</h1>

</section>
<section id="β-a-measure-of-magnitude" class="slide level2">
<h2>β: A Measure of Magnitude</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb23" data-startfrom="619" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 618;"><span id="cb23-619"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; font-size: 28px; margin: 30px 0;"&gt;</span></span>
<span id="cb23-620"><a href=""></a><span class="vs">&lt;strong&gt;β = How much y changes each time x changes&lt;/strong&gt;</span></span>
<span id="cb23-621"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb23-622"><a href=""></a><span class="vs">&lt;div style="font-size: 28px;"&gt;</span></span>
<span id="cb23-623"><a href=""></a><span class="vs">• This is the &lt;strong&gt;slope&lt;/strong&gt; of the regression line&lt;br/&gt;</span></span>
<span id="cb23-624"><a href=""></a><span class="vs">• Larger β = steeper line &lt;br/&gt;</span></span>
<span id="cb23-625"><a href=""></a><span class="vs">• β ≠ how close points are to line</span></span>
<span id="cb23-626"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb23-627"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-18" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="β-vs-r²-comparison" class="slide level2">
<h2>β vs R² Comparison</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb24" data-startfrom="635" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 634;"><span id="cb24-635"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4 style="font-size: 13px;"&gt;Set characteristics:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-19-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb25" data-startfrom="637" data-source-offset="-62"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 636;"><span id="cb25-637"><a href=""></a>viewof beta_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span> {</span>
<span id="cb25-638"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb25-639"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb25-640"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"β (Slope)"</span></span>
<span id="cb25-641"><a href=""></a>})</span>
<span id="cb25-642"><a href=""></a></span>
<span id="cb25-643"><a href=""></a>viewof r2_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.1</span><span class="op">,</span> <span class="fl">0.95</span>]<span class="op">,</span> {</span>
<span id="cb25-644"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">0.6</span><span class="op">,</span></span>
<span id="cb25-645"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span></span>
<span id="cb25-646"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"R² (Precision)"</span></span>
<span id="cb25-647"><a href=""></a>})</span>
<span id="cb25-648"><a href=""></a></span>
<span id="cb25-649"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #fff3cd; padding: 10px; margin-top: 15px; border-radius: 5px; font-size: 11px;"&gt;</span></span>
<span id="cb25-650"><a href=""></a><span class="vs">&lt;strong&gt;β:&lt;/strong&gt; </span><span class="sc">${</span>beta_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;</span></span>
<span id="cb25-651"><a href=""></a><span class="vs">&lt;strong&gt;R²:&lt;/strong&gt; </span><span class="sc">${</span>r2_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb25-652"><a href=""></a><span class="vs">&lt;strong&gt;</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(beta_dramatic) <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> <span class="st">"HIGH"</span> <span class="op">:</span> <span class="st">"LOW"</span><span class="sc">}</span><span class="vs"> magnitude&lt;br/&gt;</span></span>
<span id="cb25-653"><a href=""></a><span class="sc">${</span>r2_dramatic <span class="op">&gt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="st">"HIGH"</span> <span class="op">:</span> <span class="st">"LOW"</span><span class="sc">}</span><span class="vs"> precision&lt;/strong&gt;</span></span>
<span id="cb25-654"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-19-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-19-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-19-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb26" data-startfrom="658" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 657;"><span id="cb26-658"><a href=""></a>{</span>
<span id="cb26-659"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">70</span><span class="op">;</span></span>
<span id="cb26-660"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">8</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span>)<span class="op">;</span></span>
<span id="cb26-661"><a href=""></a>  <span class="kw">const</span> true_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> beta_dramatic <span class="op">*</span> xi <span class="op">+</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb26-662"><a href=""></a>  </span>
<span id="cb26-663"><a href=""></a>  <span class="kw">const</span> var_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">variance</span>(true_y)<span class="op">;</span></span>
<span id="cb26-664"><a href=""></a>  <span class="kw">const</span> scatter_factor <span class="op">=</span> r2_dramatic <span class="op">&lt;</span> <span class="fl">0.3</span> <span class="op">?</span> <span class="dv">6</span> <span class="op">:</span> r2_dramatic <span class="op">&lt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb26-665"><a href=""></a>  <span class="kw">const</span> sd_residual <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(var_y <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> r2_dramatic)) <span class="op">*</span> scatter_factor<span class="op">;</span></span>
<span id="cb26-666"><a href=""></a>  <span class="kw">const</span> y <span class="op">=</span> true_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> sd_residual)<span class="op">;</span></span>
<span id="cb26-667"><a href=""></a>  </span>
<span id="cb26-668"><a href=""></a>  <span class="kw">const</span> data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb26-669"><a href=""></a>  </span>
<span id="cb26-670"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb26-671"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb26-672"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.6</span>})<span class="op">,</span></span>
<span id="cb26-673"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb26-674"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb26-675"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (x)"</span>}<span class="op">,</span></span>
<span id="cb26-676"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">10</span><span class="op">,</span> <span class="dv">90</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (y)"</span>}<span class="op">,</span></span>
<span id="cb26-677"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb26-678"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`β = </span><span class="sc">${</span>beta_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> (steepness) | R² = </span><span class="sc">${</span>r2_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> (tightness)`</span></span>
<span id="cb26-679"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb26-680"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="patterns" class="slide level2">
<h2><strong>Patterns:</strong></h2>
<p>• Low β + Low R² = Flat &amp; scattered :(</p>
<p>• High β + Low R² = Steep but scattered</p>
<p>• Low β + High R² = Flat but precise</p>
<p>• High β + High R² = Strong &amp; precise :)</p>
</section></section>
<section>
<section id="anova-vs-regression" class="title-slide slide level1 center" data-background-color="#2e8b57">
<h1>ANOVA vs Regression</h1>

</section>
<section id="anova-vs-regression-1" class="slide level2">
<h2>ANOVA vs Regression</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb27" data-startfrom="698" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 697;"><span id="cb27-698"><a href=""></a>{</span>
<span id="cb27-699"><a href=""></a>  <span class="kw">const</span> group_data <span class="op">=</span> [</span>
<span id="cb27-700"><a href=""></a>    <span class="op">...</span>d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">20</span>)<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> ({<span class="dt">group</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">12</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span>}))<span class="op">,</span></span>
<span id="cb27-701"><a href=""></a>    <span class="op">...</span>d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">20</span>)<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> ({<span class="dt">group</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">2</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">16</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span>}))<span class="op">,</span></span>
<span id="cb27-702"><a href=""></a>    <span class="op">...</span>d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">20</span>)<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> ({<span class="dt">group</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">3</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">20</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span>}))</span>
<span id="cb27-703"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb27-704"><a href=""></a>  </span>
<span id="cb27-705"><a href=""></a>  <span class="kw">const</span> reg_data <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">60</span>)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> {</span>
<span id="cb27-706"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> (i <span class="op">/</span> <span class="dv">60</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.1</span><span class="op">;</span></span>
<span id="cb27-707"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> <span class="dv">4</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">12</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">4</span><span class="op">;</span></span>
<span id="cb27-708"><a href=""></a>    <span class="cf">return</span> {<span class="dt">x</span><span class="op">:</span> x<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y}<span class="op">;</span></span>
<span id="cb27-709"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb27-710"><a href=""></a>  </span>
<span id="cb27-711"><a href=""></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display: flex; gap: 20px; justify-content: center;"&gt;</span></span>
<span id="cb27-712"><a href=""></a><span class="vs">  </span></span>
<span id="cb27-713"><a href=""></a><span class="vs">  &lt;div style="flex: 1;"&gt;</span></span>
<span id="cb27-714"><a href=""></a><span class="vs">  &lt;h3 style="text-align: center; font-size: 20px;"&gt;ANOVA: Categorical IV&lt;/h3&gt;</span></span>
<span id="cb27-715"><a href=""></a><span class="vs">  </span><span class="sc">${</span>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb27-716"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb27-717"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(group_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb27-718"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="dv">12</span><span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="dv">12</span><span class="op">+</span><span class="dv">3</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb27-719"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="dv">16</span><span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="dv">16</span><span class="op">+</span><span class="dv">3</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb27-720"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="dv">20</span><span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="dv">20</span><span class="op">+</span><span class="dv">3</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb27-721"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">12</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">16</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">20</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb27-722"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">12</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">16</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">20</span>}]<span class="op">,</span> </span>
<span id="cb27-723"><a href=""></a>               {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})</span>
<span id="cb27-724"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb27-725"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Group (categorical)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="fl">0.5</span><span class="op">,</span> <span class="fl">3.5</span>]<span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span>]}<span class="op">,</span></span>
<span id="cb27-726"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (Y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">5</span><span class="op">,</span> <span class="dv">25</span>]}<span class="op">,</span></span>
<span id="cb27-727"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-728"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span></span>
<span id="cb27-729"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb27-730"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"Based on the group mean plus some random error"</span></span>
<span id="cb27-731"><a href=""></a>  })<span class="sc">}</span></span>
<span id="cb27-732"><a href=""></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb27-733"><a href=""></a><span class="vs">  </span></span>
<span id="cb27-734"><a href=""></a><span class="vs">  &lt;div style="flex: 1;"&gt;</span></span>
<span id="cb27-735"><a href=""></a><span class="vs">  &lt;h3 style="text-align: center; font-size: 20px;"&gt;Regression: Continuous IV&lt;/h3&gt;</span></span>
<span id="cb27-736"><a href=""></a><span class="vs">  </span><span class="sc">${</span>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb27-737"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb27-738"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(reg_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb27-739"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(reg_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})</span>
<span id="cb27-740"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb27-741"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (continuous)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="fl">0.5</span><span class="op">,</span> <span class="fl">3.5</span>]}<span class="op">,</span></span>
<span id="cb27-742"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (Y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">5</span><span class="op">,</span> <span class="dv">25</span>]}<span class="op">,</span></span>
<span id="cb27-743"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-744"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span></span>
<span id="cb27-745"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb27-746"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"Based on the predictor plus some random error"</span></span>
<span id="cb27-747"><a href=""></a>  })<span class="sc">}</span></span>
<span id="cb27-748"><a href=""></a><span class="vs">  </span></span>
<span id="cb27-749"><a href=""></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb27-750"><a href=""></a><span class="vs">  </span></span>
<span id="cb27-751"><a href=""></a><span class="vs">  &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb27-752"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-21" data-nodetype="expression">

</div>
</div>
</div>
<p>Both Use Same Logic: Observed Known Value → Signal ± Error</p>
</section></section>
<section>
<section id="example" class="title-slide slide level1 center" data-background-color="#ffa500">
<h1>Example</h1>

</section>
<section id="research-question-does-temperature-predict-ice-cream-sales" class="slide level2">
<h2>Research Question: Does temperature predict ice cream sales?</h2>
<p>• <strong>Predictor (IV):</strong> Temperature (°C)</p>
<p>• <strong>Outcome (DV):</strong> Ice cream sales (RM)</p>
<p>• <strong>Hypothesis:</strong> High temperature leads to higher sales.</p>
</section>
<section id="example-ice-cream-data" class="slide level2">
<h2>Example: Ice Cream Data</h2>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb28" data-startfrom="771" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 770;"><span id="cb28-771"><a href=""></a>ice_data <span class="op">=</span> [</span>
<span id="cb28-772"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">8000</span>}<span class="op">,</span></span>
<span id="cb28-773"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">7000</span>}<span class="op">,</span></span>
<span id="cb28-774"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">8500</span>}<span class="op">,</span></span>
<span id="cb28-775"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">22</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">10000</span>}<span class="op">,</span></span>
<span id="cb28-776"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">11500</span>}<span class="op">,</span></span>
<span id="cb28-777"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">28</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">13000</span>}<span class="op">,</span></span>
<span id="cb28-778"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">15000</span>}<span class="op">,</span></span>
<span id="cb28-779"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">33</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">14500</span>}<span class="op">,</span></span>
<span id="cb28-780"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">16000</span>}<span class="op">,</span></span>
<span id="cb28-781"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">38</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">17000</span>}</span>
<span id="cb28-782"><a href=""></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-22" data-nodetype="declaration">

</div>
</div>
</div>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb29" data-startfrom="788" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 787;"><span id="cb29-788"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4&gt;Explore the regression:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb30" data-startfrom="790" data-source-offset="-40"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 789;"><span id="cb30-790"><a href=""></a>viewof predict_temp <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">15</span><span class="op">,</span> <span class="dv">40</span>]<span class="op">,</span> {</span>
<span id="cb30-791"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span></span>
<span id="cb30-792"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb30-793"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Predict sales at temperature (°C):"</span></span>
<span id="cb30-794"><a href=""></a>})</span>
<span id="cb30-795"><a href=""></a></span>
<span id="cb30-796"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #f8d7da; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb30-797"><a href=""></a><span class="vs">&lt;strong&gt;Prediction at </span><span class="sc">${</span>predict_temp<span class="sc">}</span><span class="vs">°C:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb30-798"><a href=""></a><span class="vs">&lt;strong style="font-size: 24px;"&gt;RM </span><span class="sc">${</span>(<span class="dv">430</span> <span class="op">*</span> predict_temp <span class="op">+</span> <span class="dv">500</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">&lt;/strong&gt;</span></span>
<span id="cb30-799"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb30-800"><a href=""></a><span class="vs">&lt;em&gt;Each 1°C increase → +RM430&lt;/em&gt;</span></span>
<span id="cb30-801"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-23-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb31" data-startfrom="805" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 804;"><span id="cb31-805"><a href=""></a>{</span>
<span id="cb31-806"><a href=""></a>  <span class="co">// Regression coefficients from your slides: β = 430, intercept ≈ 500</span></span>
<span id="cb31-807"><a href=""></a>  <span class="kw">const</span> slope <span class="op">=</span> <span class="dv">430</span><span class="op">;</span></span>
<span id="cb31-808"><a href=""></a>  <span class="kw">const</span> intercept <span class="op">=</span> <span class="dv">500</span><span class="op">;</span></span>
<span id="cb31-809"><a href=""></a>  </span>
<span id="cb31-810"><a href=""></a>  <span class="kw">const</span> predicted_y <span class="op">=</span> ice_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> slope <span class="op">*</span> d<span class="op">.</span><span class="at">temp</span> <span class="op">+</span> intercept)<span class="op">;</span></span>
<span id="cb31-811"><a href=""></a>  <span class="kw">const</span> line_data <span class="op">=</span> [{<span class="dt">x</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> slope <span class="op">*</span> <span class="dv">15</span> <span class="op">+</span> intercept}<span class="op">,</span> </span>
<span id="cb31-812"><a href=""></a>                     {<span class="dt">x</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> slope <span class="op">*</span> <span class="dv">40</span> <span class="op">+</span> intercept}]<span class="op">;</span></span>
<span id="cb31-813"><a href=""></a>  </span>
<span id="cb31-814"><a href=""></a>  <span class="co">// Calculate R²</span></span>
<span id="cb31-815"><a href=""></a>  <span class="kw">const</span> mean_sales <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(ice_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>)<span class="op">;</span></span>
<span id="cb31-816"><a href=""></a>  <span class="kw">const</span> ss_tot <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(ice_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">sales</span> <span class="op">-</span> mean_sales) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb31-817"><a href=""></a>  <span class="kw">const</span> ss_res <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(ice_data<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">sales</span> <span class="op">-</span> predicted_y[i]) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb31-818"><a href=""></a>  <span class="kw">const</span> r2 <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> (ss_res <span class="op">/</span> ss_tot)<span class="op">;</span></span>
<span id="cb31-819"><a href=""></a>  </span>
<span id="cb31-820"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb31-821"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb31-822"><a href=""></a>      <span class="co">// Data points</span></span>
<span id="cb31-823"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(ice_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> </span>
<span id="cb31-824"><a href=""></a>                          <span class="dt">fill</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> </span>
<span id="cb31-825"><a href=""></a>                          <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb31-826"><a href=""></a>      <span class="co">// Regression line</span></span>
<span id="cb31-827"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>(line_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> </span>
<span id="cb31-828"><a href=""></a>                            <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb31-829"><a href=""></a>      <span class="co">// Prediction point</span></span>
<span id="cb31-830"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">temp</span><span class="op">:</span> predict_temp<span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> slope <span class="op">*</span> predict_temp <span class="op">+</span> intercept}]<span class="op">,</span></span>
<span id="cb31-831"><a href=""></a>               {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> </span>
<span id="cb31-832"><a href=""></a>                <span class="dt">fill</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})</span>
<span id="cb31-833"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb31-834"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature (°C)"</span>}<span class="op">,</span></span>
<span id="cb31-835"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Ice Cream Sales (RM)"</span><span class="op">,</span> <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span>}<span class="op">,</span></span>
<span id="cb31-836"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`R² = </span><span class="sc">${</span>r2<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> → Temperature explains </span><span class="sc">${</span>(r2<span class="op">*</span><span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">% of sales variation`</span></span>
<span id="cb31-837"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb31-838"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-24" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Interpretation:</strong> Temperature significantly predicts sales (<em>R²</em> = 0.947).</p>
</section>
<section id="example-exam-score-prediction" class="slide level2">
<h2>Example: Exam Score Prediction</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb32" data-startfrom="848" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 847;"><span id="cb32-848"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4 style="font-size: 11px; color: black;"&gt;Research Scenario:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb33" data-startfrom="850" data-source-offset="-74"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 849;"><span id="cb33-850"><a href=""></a>viewof new_x_realistic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> {</span>
<span id="cb33-851"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span></span>
<span id="cb33-852"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb33-853"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Study hours/week:"</span></span>
<span id="cb33-854"><a href=""></a>})</span>
<span id="cb33-855"><a href=""></a></span>
<span id="cb33-856"><a href=""></a>viewof scenario_type <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb33-857"><a href=""></a>  [<span class="st">"High precision"</span><span class="op">,</span> <span class="st">"Moderate"</span><span class="op">,</span> <span class="st">"Low precision"</span>]<span class="op">,</span></span>
<span id="cb33-858"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Moderate"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Relationship:"</span>}</span>
<span id="cb33-859"><a href=""></a>)</span>
<span id="cb33-860"><a href=""></a></span>
<span id="cb33-861"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #f0f8ff; padding: 8px; margin-top: 12px; border-radius: 5px; font-size: 22px; color: black;"&gt;</span></span>
<span id="cb33-862"><a href=""></a><span class="vs">&lt;strong&gt;Predicted Score:&lt;/strong&gt; </span><span class="sc">${</span>(<span class="fl">4.2</span> <span class="op">*</span> new_x_realistic <span class="op">+</span> <span class="dv">45</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%&lt;br/&gt;</span></span>
<span id="cb33-863"><a href=""></a><span class="vs">&lt;strong&gt;95% CI:&lt;/strong&gt; [</span><span class="sc">${</span>(<span class="fl">4.2</span> <span class="op">*</span> new_x_realistic <span class="op">+</span> <span class="dv">45</span> <span class="op">-</span> (scenario_type <span class="op">===</span> <span class="st">"High precision"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Moderate"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> <span class="dv">15</span>))<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%, </span></span>
<span id="cb33-864"><a href=""></a><span class="sc">${</span>(<span class="fl">4.2</span> <span class="op">*</span> new_x_realistic <span class="op">+</span> <span class="dv">45</span> <span class="op">+</span> (scenario_type <span class="op">===</span> <span class="st">"High precision"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Moderate"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> <span class="dv">15</span>))<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%]&lt;br/&gt;</span></span>
<span id="cb33-865"><a href=""></a><span class="vs">&lt;em&gt;Each hour → +4.2%&lt;/em&gt;</span></span>
<span id="cb33-866"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-25-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb34" data-startfrom="870" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 869;"><span id="cb34-870"><a href=""></a>{</span>
<span id="cb34-871"><a href=""></a>  <span class="kw">let</span> training_data <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb34-872"><a href=""></a>  <span class="kw">const</span> base_slope <span class="op">=</span> <span class="fl">4.2</span><span class="op">;</span></span>
<span id="cb34-873"><a href=""></a>  <span class="kw">const</span> base_intercept <span class="op">=</span> <span class="dv">45</span><span class="op">;</span></span>
<span id="cb34-874"><a href=""></a>  </span>
<span id="cb34-875"><a href=""></a>  <span class="kw">const</span> iterations <span class="op">=</span> scenario_type <span class="op">===</span> <span class="st">"High precision"</span> <span class="op">?</span> <span class="dv">60</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Moderate"</span> <span class="op">?</span> <span class="dv">75</span> <span class="op">:</span> <span class="dv">90</span><span class="op">;</span></span>
<span id="cb34-876"><a href=""></a>  <span class="kw">const</span> noise <span class="op">=</span> scenario_type <span class="op">===</span> <span class="st">"High precision"</span> <span class="op">?</span> <span class="dv">6</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Moderate"</span> <span class="op">?</span> <span class="dv">16</span> <span class="op">:</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb34-877"><a href=""></a>  </span>
<span id="cb34-878"><a href=""></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> iterations<span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb34-879"><a href=""></a>    <span class="kw">const</span> hours <span class="op">=</span> (i <span class="op">/</span> iterations) <span class="op">*</span> <span class="dv">14</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb34-880"><a href=""></a>    <span class="kw">const</span> score <span class="op">=</span> base_slope <span class="op">*</span> hours <span class="op">+</span> base_intercept <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> noise<span class="op">;</span></span>
<span id="cb34-881"><a href=""></a>    training_data<span class="op">.</span><span class="fu">push</span>({<span class="dt">hours</span><span class="op">:</span> hours<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="dv">100</span><span class="op">,</span> score))})<span class="op">;</span></span>
<span id="cb34-882"><a href=""></a>  }</span>
<span id="cb34-883"><a href=""></a>  </span>
<span id="cb34-884"><a href=""></a>  <span class="kw">const</span> predicted_score <span class="op">=</span> base_slope <span class="op">*</span> new_x_realistic <span class="op">+</span> base_intercept<span class="op">;</span></span>
<span id="cb34-885"><a href=""></a>  <span class="kw">const</span> ci_width <span class="op">=</span> scenario_type <span class="op">===</span> <span class="st">"High precision"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Moderate"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> <span class="dv">15</span><span class="op">;</span></span>
<span id="cb34-886"><a href=""></a>  </span>
<span id="cb34-887"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb34-888"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb34-889"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(training_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"score"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"lightblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.6</span>})<span class="op">,</span></span>
<span id="cb34-890"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(training_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"score"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb34-891"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">hours</span><span class="op">:</span> new_x_realistic<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> predicted_score}]<span class="op">,</span></span>
<span id="cb34-892"><a href=""></a>               {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"score"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb34-893"><a href=""></a>      Plot<span class="op">.</span><span class="fu">link</span>([{<span class="dt">x1</span><span class="op">:</span> new_x_realistic<span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> predicted_score <span class="op">-</span> ci_width<span class="op">,</span> </span>
<span id="cb34-894"><a href=""></a>                  <span class="dt">x2</span><span class="op">:</span> new_x_realistic<span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> predicted_score <span class="op">+</span> ci_width}]<span class="op">,</span></span>
<span id="cb34-895"><a href=""></a>                {<span class="dt">x1</span><span class="op">:</span> <span class="st">"x1"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> <span class="st">"x2"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.5</span>})</span>
<span id="cb34-896"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb34-897"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Study Hours/Week"</span>}<span class="op">,</span></span>
<span id="cb34-898"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Exam Score (%)"</span>}<span class="op">,</span></span>
<span id="cb34-899"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb34-900"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`More scattered data = wider CI = less precise predictions`</span></span>
<span id="cb34-901"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb34-902"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-26" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="example-apa-reporting" class="slide level2">
<h2>Example: APA Reporting</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb35" data-startfrom="910" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 909;"><span id="cb35-910"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: white; padding: 25px; border-radius: 10px; font-family: 'Times New Roman', serif; font-size: 20px; line-height: 1.7; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"&gt;</span></span>
<span id="cb35-911"><a href=""></a></span>
<span id="cb35-912"><a href=""></a><span class="vs">&lt;p&gt;&lt;strong&gt;A simple linear regression analysis&lt;/strong&gt; was used to investigate whether the temperature on each day (in degrees C) predicted the amount of money earned in ice cream sales (in RM).&lt;/p&gt;</span></span>
<span id="cb35-913"><a href=""></a></span>
<span id="cb35-914"><a href=""></a><span class="vs">&lt;p&gt;Temperature &lt;strong&gt;significantly and positively predicted&lt;/strong&gt; ice cream sales, &lt;em&gt;R²&lt;/em&gt; = .36, &lt;em&gt;F&lt;/em&gt;(1,98) = 56.07, &lt;em&gt;p&lt;/em&gt; &amp;lt; .001, indicating that temperature &lt;strong&gt;explained 36% of the variance&lt;/strong&gt; in ice cream sales.&lt;/p&gt;</span></span>
<span id="cb35-915"><a href=""></a></span>
<span id="cb35-916"><a href=""></a><span class="vs">&lt;p&gt;The standardised coefficient indicated that as temperature increased by 1 SD, ice cream sales increased by &lt;strong&gt;.60 SD&lt;/strong&gt;.&lt;/p&gt;</span></span>
<span id="cb35-917"><a href=""></a></span>
<span id="cb35-918"><a href=""></a><span class="vs">&lt;hr style="margin: 20px 0;"&gt;</span></span>
<span id="cb35-919"><a href=""></a></span>
<span id="cb35-920"><a href=""></a><span class="vs">&lt;div style="background: #f5f5f5; padding: 20px; border-left: 5px solid #2196F3; font-size: 20px; line-height: 1.8;"&gt;</span></span>
<span id="cb35-921"><a href=""></a><span class="vs">&lt;strong&gt;Key APA Reporting Elements:&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb35-922"><a href=""></a><span class="vs">✓ Name the test: "Simple linear regression"&lt;br/&gt;</span></span>
<span id="cb35-923"><a href=""></a><span class="vs">✓ Describe relationship: "significantly predicted"&lt;br/&gt;</span></span>
<span id="cb35-924"><a href=""></a><span class="vs">✓ Report R²: "explained 36% of variance"&lt;br/&gt;</span></span>
<span id="cb35-925"><a href=""></a><span class="vs">✓ Include statistics: F, df, p-value&lt;br/&gt;</span></span>
<span id="cb35-926"><a href=""></a><span class="vs">✓ Interpret standardised coefficient (SD units)</span></span>
<span id="cb35-927"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb35-928"><a href=""></a></span>
<span id="cb35-929"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-27" data-nodetype="expression">

</div>
</div>
</div>
</section></section>
<section>
<section id="standardised-beta" class="title-slide slide level1 center" data-background-color="#800080">
<h1>Standardised Beta</h1>

</section>
<section id="the-problem-how-much-is-a-lot" class="slide level2">
<h2>The Problem: How much is “a lot”?</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb36" data-startfrom="939" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 938;"><span id="cb36-939"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 28px; text-align: center; margin: 30px 0;"&gt;</span></span>
<span id="cb36-940"><a href=""></a><span class="vs">&lt;p&gt;Every degree increase in temperature gets you another &lt;strong&gt;RM 430&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb36-941"><a href=""></a><span class="vs">&lt;p&gt;</span></span>
<span id="cb36-942"><a href=""></a><span class="vs">• RM 430 &lt;/br&gt;</span></span>
<span id="cb36-943"><a href=""></a><span class="vs">• £75  &lt;/br&gt;</span></span>
<span id="cb36-944"><a href=""></a><span class="vs">• $96  &lt;/br&gt;</span></span>
<span id="cb36-945"><a href=""></a><span class="vs">• 0.0000059 BTC  &lt;/br&gt;&lt;/p&gt;</span></span>
<span id="cb36-946"><a href=""></a><span class="vs">&lt;p style="color: red; margin-top: 20px;"&gt;When we use β, it is &lt;strong&gt;not standardised&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb36-947"><a href=""></a><span class="vs">Cannot be compared across different measures!&lt;/p&gt;</span></span>
<span id="cb36-948"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-28" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="standardised-beta-comparison" class="slide level2">
<h2>Standardised Beta Comparison</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb37" data-startfrom="956" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 955;"><span id="cb37-956"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4 style="font-size: 12px;"&gt;Compare effect sizes:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb38" data-startfrom="958" data-source-offset="-63"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 957;"><span id="cb38-958"><a href=""></a>viewof currency_type <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb38-959"><a href=""></a>  [<span class="st">"RM"</span><span class="op">,</span> <span class="st">"$"</span><span class="op">,</span> <span class="st">"£"</span>]<span class="op">,</span></span>
<span id="cb38-960"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"RM"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Currency:"</span>}</span>
<span id="cb38-961"><a href=""></a>)</span>
<span id="cb38-962"><a href=""></a></span>
<span id="cb38-963"><a href=""></a>viewof temp_unit <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb38-964"><a href=""></a>  [<span class="st">"°C"</span><span class="op">,</span> <span class="st">"°F"</span>]<span class="op">,</span></span>
<span id="cb38-965"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"°C"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature:"</span>}</span>
<span id="cb38-966"><a href=""></a>)</span>
<span id="cb38-967"><a href=""></a></span>
<span id="cb38-968"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #fff8dc; padding: 10px; margin-top: 15px; border-radius: 5px; font-size: 20px;"&gt;</span></span>
<span id="cb38-969"><a href=""></a><span class="vs">&lt;strong&gt;Unstandardised β changes!&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb38-970"><a href=""></a><span class="vs">Different units = different values&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb38-971"><a href=""></a><span class="vs">&lt;strong&gt;Standardised β constant!&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb38-972"><a href=""></a><span class="vs">Unit-free (SD units)&lt;br/&gt;</span></span>
<span id="cb38-973"><a href=""></a><span class="vs">Allows cross-study comparison</span></span>
<span id="cb38-974"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-29-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb39" data-startfrom="978" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 977;"><span id="cb39-978"><a href=""></a>{</span>
<span id="cb39-979"><a href=""></a>  <span class="kw">const</span> currency_multiplier <span class="op">=</span> currency_type <span class="op">===</span> <span class="st">"RM"</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> currency_type <span class="op">===</span> <span class="st">"$"</span> <span class="op">?</span> <span class="fl">0.22</span> <span class="op">:</span> <span class="fl">0.18</span><span class="op">;</span></span>
<span id="cb39-980"><a href=""></a>  <span class="kw">const</span> temp_multiplier <span class="op">=</span> temp_unit <span class="op">===</span> <span class="st">"°C"</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="fl">1.8</span><span class="op">;</span></span>
<span id="cb39-981"><a href=""></a>  <span class="kw">const</span> temp_offset <span class="op">=</span> temp_unit <span class="op">===</span> <span class="st">"°C"</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> <span class="dv">32</span><span class="op">;</span></span>
<span id="cb39-982"><a href=""></a>  </span>
<span id="cb39-983"><a href=""></a>  <span class="kw">const</span> base_data <span class="op">=</span> [</span>
<span id="cb39-984"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">5000</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">4800</span>}<span class="op">,</span> </span>
<span id="cb39-985"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">8500</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">8200</span>}<span class="op">,</span></span>
<span id="cb39-986"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">12500</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">12100</span>}<span class="op">,</span></span>
<span id="cb39-987"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">17000</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">16400</span>}<span class="op">,</span></span>
<span id="cb39-988"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">21000</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">20600</span>}</span>
<span id="cb39-989"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb39-990"><a href=""></a>  </span>
<span id="cb39-991"><a href=""></a>  <span class="kw">const</span> converted_data <span class="op">=</span> base_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({</span>
<span id="cb39-992"><a href=""></a>    <span class="dt">temp</span><span class="op">:</span> d<span class="op">.</span><span class="at">temp_c</span> <span class="op">*</span> temp_multiplier <span class="op">+</span> temp_offset<span class="op">,</span></span>
<span id="cb39-993"><a href=""></a>    <span class="dt">sales</span><span class="op">:</span> d<span class="op">.</span><span class="at">sales_rm</span> <span class="op">*</span> currency_multiplier</span>
<span id="cb39-994"><a href=""></a>  }))<span class="op">;</span></span>
<span id="cb39-995"><a href=""></a>  </span>
<span id="cb39-996"><a href=""></a>  <span class="kw">const</span> mean_temp <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">temp</span>)<span class="op">;</span></span>
<span id="cb39-997"><a href=""></a>  <span class="kw">const</span> mean_sales <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>)<span class="op">;</span></span>
<span id="cb39-998"><a href=""></a>  <span class="kw">const</span> slope <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(converted_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">temp</span> <span class="op">-</span> mean_temp) <span class="op">*</span> (d<span class="op">.</span><span class="at">sales</span> <span class="op">-</span> mean_sales))) <span class="op">/</span> </span>
<span id="cb39-999"><a href=""></a>                d3<span class="op">.</span><span class="fu">sum</span>(converted_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">temp</span> <span class="op">-</span> mean_temp) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb39-1000"><a href=""></a>  </span>
<span id="cb39-1001"><a href=""></a>  <span class="kw">const</span> sd_temp <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">variance</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">temp</span>))<span class="op">;</span></span>
<span id="cb39-1002"><a href=""></a>  <span class="kw">const</span> sd_sales <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">variance</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>))<span class="op">;</span></span>
<span id="cb39-1003"><a href=""></a>  <span class="kw">const</span> standardised_beta <span class="op">=</span> slope <span class="op">*</span> (sd_temp <span class="op">/</span> sd_sales)<span class="op">;</span></span>
<span id="cb39-1004"><a href=""></a>  </span>
<span id="cb39-1005"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb39-1006"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb39-1007"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(converted_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span>})<span class="op">,</span></span>
<span id="cb39-1008"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(converted_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})</span>
<span id="cb39-1009"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb39-1010"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="vs">`Temperature (</span><span class="sc">${</span>temp_unit<span class="sc">}</span><span class="vs">)`</span>}<span class="op">,</span></span>
<span id="cb39-1011"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="vs">`Sales (</span><span class="sc">${</span>currency_type<span class="sc">}</span><span class="vs">)`</span>}<span class="op">,</span></span>
<span id="cb39-1012"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb39-1013"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Unstandardised β = </span><span class="sc">${</span>slope<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> (unit-dependent) | Standardised β = </span><span class="sc">${</span>standardised_beta<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> (unit-free)`</span></span>
<span id="cb39-1014"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb39-1015"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-30" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="summary" class="title-slide slide level1 center" data-background-color="#2f4f4f">
<h1>Summary</h1>

</section>
<section id="what-we-learned-today" class="slide level2">
<h2>What We Learned Today</h2>
<p>✓ <strong>Simple Linear Regression</strong> determines if continuous variable predicts continuous outcome</p>
<p>✓ <strong>Slope (β)</strong> tells how much y changes with each change in x</p>
<p>✓ <strong>R²</strong> tells how much variance explained by predictor</p>
<p>✓ <strong>Regression Line:</strong> y = βx + c</p>
<p>✓ <strong>ANOVA &amp; Regression:</strong> Same logic (Known → Predicted ± error)</p>
<p>✓ <strong>Standardised Beta</strong> allows cross-study comparison</p>
<p>✓ <strong>Error = Natural Variability</strong> we cannot explain</p>
</section>
<section id="real-world-the-coffee-shop-mystery" class="slide level2">
<h2>Real-World: The Coffee Shop Mystery</h2>
<p><strong>Scenario:</strong> Coffee shop owner notices more sales on sunny days. Is it weather or something else?</p>
<p>Using regression we can:</p>
<ul>
<li><p><strong>Quantify</strong> relationship (β = extra RM per degree?)</p></li>
<li><p><strong>Assess precision</strong> (R² = variance explained?)</p></li>
<li><p><strong>Make predictions</strong> (30°C tomorrow → predict RM 2,450)</p></li>
<li><p><strong>Control confounds</strong> (sunshine OR temperature OR day of week?)</p></li>
</ul>
</section>
<section id="next-week-multiple-regression" class="slide level2">
<h2>Next Week: Multiple Regression</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb40" data-startfrom="1054" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1053;"><span id="cb40-1054"><a href=""></a>{</span>
<span id="cb40-1055"><a href=""></a>  <span class="co">// Simple 3D visualization for multiple regression</span></span>
<span id="cb40-1056"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">50</span><span class="op">;</span></span>
<span id="cb40-1057"><a href=""></a>  <span class="kw">const</span> data_3d <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb40-1058"><a href=""></a>  </span>
<span id="cb40-1059"><a href=""></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb40-1060"><a href=""></a>    <span class="kw">const</span> temp <span class="op">=</span> <span class="dv">15</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">25</span><span class="op">;</span></span>
<span id="cb40-1061"><a href=""></a>    <span class="kw">const</span> day_type <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">&gt;</span> <span class="fl">0.5</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span> <span class="co">// Weekend vs weekday</span></span>
<span id="cb40-1062"><a href=""></a>    <span class="kw">const</span> sales <span class="op">=</span> <span class="dv">1000</span> <span class="op">+</span> <span class="dv">400</span> <span class="op">*</span> temp <span class="op">+</span> <span class="dv">3000</span> <span class="op">*</span> day_type <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">2000</span><span class="op">;</span></span>
<span id="cb40-1063"><a href=""></a>    data_3d<span class="op">.</span><span class="fu">push</span>({</span>
<span id="cb40-1064"><a href=""></a>      <span class="dt">temp</span><span class="op">:</span> temp<span class="op">,</span></span>
<span id="cb40-1065"><a href=""></a>      <span class="dt">day</span><span class="op">:</span> day_type<span class="op">,</span></span>
<span id="cb40-1066"><a href=""></a>      <span class="dt">sales</span><span class="op">:</span> sales<span class="op">,</span></span>
<span id="cb40-1067"><a href=""></a>      <span class="dt">x_proj</span><span class="op">:</span> temp <span class="op">+</span> day_type <span class="op">*</span> <span class="dv">5</span><span class="op">,</span> <span class="co">// Project to 2D</span></span>
<span id="cb40-1068"><a href=""></a>      <span class="dt">y_proj</span><span class="op">:</span> sales <span class="op">/</span> <span class="dv">100</span> <span class="op">-</span> day_type <span class="op">*</span> <span class="dv">20</span></span>
<span id="cb40-1069"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb40-1070"><a href=""></a>  }</span>
<span id="cb40-1071"><a href=""></a>  </span>
<span id="cb40-1072"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb40-1073"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb40-1074"><a href=""></a>      <span class="co">// Simulate 3D by using size and opacity</span></span>
<span id="cb40-1075"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data_3d<span class="op">,</span> {</span>
<span id="cb40-1076"><a href=""></a>        <span class="dt">x</span><span class="op">:</span> <span class="st">"x_proj"</span><span class="op">,</span> </span>
<span id="cb40-1077"><a href=""></a>        <span class="dt">y</span><span class="op">:</span> <span class="st">"y_proj"</span><span class="op">,</span> </span>
<span id="cb40-1078"><a href=""></a>        <span class="dt">r</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="dv">3</span> <span class="op">+</span> d<span class="op">.</span><span class="at">day</span> <span class="op">*</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb40-1079"><a href=""></a>        <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">day</span> <span class="op">===</span> <span class="dv">1</span> <span class="op">?</span> <span class="st">"orange"</span> <span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span></span>
<span id="cb40-1080"><a href=""></a>        <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.6</span></span>
<span id="cb40-1081"><a href=""></a>      })<span class="op">,</span></span>
<span id="cb40-1082"><a href=""></a>      <span class="co">// Regression plane projection</span></span>
<span id="cb40-1083"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>([</span>
<span id="cb40-1084"><a href=""></a>        {<span class="dt">x</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">160</span>}</span>
<span id="cb40-1085"><a href=""></a>      ]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb40-1086"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>([</span>
<span id="cb40-1087"><a href=""></a>        {<span class="dt">x</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">45</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">175</span>}</span>
<span id="cb40-1088"><a href=""></a>      ]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"5,5"</span>})</span>
<span id="cb40-1089"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb40-1090"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature + Day Type (projected)"</span>}<span class="op">,</span></span>
<span id="cb40-1091"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Sales (projected)"</span>}<span class="op">,</span></span>
<span id="cb40-1092"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb40-1093"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb40-1094"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb40-1095"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"Orange = Weekend | Blue = Weekday | Multiple predictors = 3D visualization needed!"</span></span>
<span id="cb40-1096"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb40-1097"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-31" data-nodetype="expression">

</div>
</div>
</div>
<p>Multiple Linear Regression = Simple + more predictors</p>
<p>• Some IVs can be categorical!</p>
</section></section>
<section id="section" class="title-slide slide level1 center" data-background-color="#000080">
<h1></h1>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb41" data-startfrom="1108" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1107;"><span id="cb41-1108"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; color: white; font-size: 36px; margin-top: 80px;"&gt;</span></span>
<span id="cb41-1109"><a href=""></a><span class="vs">&lt;strong&gt;Thank You! &lt;/strong&gt;</span></span>
<span id="cb41-1110"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb41-1111"><a href=""></a><span class="vs">&lt;div style="font-size: 18px;"&gt;</span></span>
<span id="cb41-1112"><a href=""></a><span class="vs">Questions &amp; Discussion</span></span>
<span id="cb41-1113"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb41-1114"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-32" data-nodetype="expression">

</div>
</div>
</div>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="regression-lecture-final (1)_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="ojs-module-contents">
    eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgYmFzZV9jb25zdWx0YXRpb25fZGF0YSA9IFtcbiAgICB7aG91cnM6IDIsIHdlbGxiZWluZzogOTV9LCB7aG91cnM6IDIsIHdlbGxiZWluZzogOTN9LCB7aG91cnM6IDIsIHdlbGxiZWluZzogOTd9LFxuICAgIHtob3VyczogMywgd2VsbGJlaW5nOiA5M30sIHtob3VyczogMywgd2VsbGJlaW5nOiA5MX0sIHtob3VyczogMywgd2VsbGJlaW5nOiA5NX0sXG4gICAge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDkwfSwge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDg4fSwge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDkyfSwge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDg5fSxcbiAgICB7aG91cnM6IDUsIHdlbGxiZWluZzogODh9LCB7aG91cnM6IDUsIHdlbGxiZWluZzogODZ9LCB7aG91cnM6IDUsIHdlbGxiZWluZzogOTB9LCB7aG91cnM6IDUsIHdlbGxiZWluZzogODd9LFxuICAgIHtob3VyczogNiwgd2VsbGJlaW5nOiA4N30sIHtob3VyczogNiwgd2VsbGJlaW5nOiA4NX0sIHtob3VyczogNiwgd2VsbGJlaW5nOiA4OX0sIHtob3VyczogNiwgd2VsbGJlaW5nOiA4NH0sXG4gICAge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDg1fSwge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDgzfSwge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDg3fSwge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDgyfSxcbiAgICB7aG91cnM6IDgsIHdlbGxiZWluZzogODR9LCB7aG91cnM6IDgsIHdlbGxiZWluZzogODJ9LCB7aG91cnM6IDgsIHdlbGxiZWluZzogODZ9LCB7aG91cnM6IDgsIHdlbGxiZWluZzogODF9LFxuICAgIHtob3VyczogOSwgd2VsbGJlaW5nOiA4Mn0sIHtob3VyczogOSwgd2VsbGJlaW5nOiA4MH0sIHtob3VyczogOSwgd2VsbGJlaW5nOiA4NH0sIHtob3VyczogOSwgd2VsbGJlaW5nOiA3OX0sXG4gICAge2hvdXJzOiAxMCwgd2VsbGJlaW5nOiA4MX0sIHtob3VyczogMTAsIHdlbGxiZWluZzogNzl9LCB7aG91cnM6IDEwLCB3ZWxsYmVpbmc6IDgzfSwge2hvdXJzOiAxMCwgd2VsbGJlaW5nOiA3OH0sXG4gICAge2hvdXJzOiAxMSwgd2VsbGJlaW5nOiA4MH0sIHtob3VyczogMTEsIHdlbGxiZWluZzogNzh9LCB7aG91cnM6IDExLCB3ZWxsYmVpbmc6IDgyfSwge2hvdXJzOiAxMSwgd2VsbGJlaW5nOiA3N31cbiAgXTtcbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChiYXNlX2NvbnN1bHRhdGlvbl9kYXRhLCB7eDogXCJob3Vyc1wiLCB5OiBcIndlbGxiZWluZ1wiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA1fSlcbiAgICBdLFxuICAgIHg6IHtsYWJlbDogXCJIb3VycyBTcGVudCBDb25zdWx0aW5nIFN0dWRlbnRzIFRoaXMgV2Vla1wiLCBkb21haW46IFswLCAxMl19LFxuICAgIHk6IHtsYWJlbDogXCJNZW50YWwgV2VsbGJlaW5nXCIsIGRvbWFpbjogWzc1LCAxMDBdfSxcbiAgICBncmlkOiB0cnVlLFxuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA0MDBcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxwPjxzdHJvbmc+QWRqdXN0IHJlbGF0aW9uc2hpcCBzdHJlbmd0aDo8L3N0cm9uZz48L3A+YFxuXG52aWV3b2YgY29ycmVsYXRpb25fc3RyZW5ndGggPSBJbnB1dHMucmFuZ2UoWzAuMSwgMC45OV0sIHtcbiAgdmFsdWU6IDAuOCxcbiAgc3RlcDogMC4wNSxcbiAgbGFiZWw6IFwiQ29ycmVsYXRpb24gc3RyZW5ndGggKHIpXCJcbn0pXG5cbnZpZXdvZiBkYXRhX3BhdHRlcm4gPSBJbnB1dHMucmFkaW8oXG4gIFtcIkxpbmVhclwiLCBcIkN1cnZlZFwiXSxcbiAge3ZhbHVlOiBcIkxpbmVhclwiLCBsYWJlbDogXCJEYXRhIHBhdHRlcm46XCJ9XG4pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNlOGY0Zjg7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi10b3A6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbjxzdHJvbmc+UGVhcnNvbidzIHI6PC9zdHJvbmc+ICR7Y29ycmVsYXRpb25fc3RyZW5ndGgudG9GaXhlZCgyKX08YnIvPlxuPHN0cm9uZz5JbnRlcnByZXRhdGlvbjo8L3N0cm9uZz4gJHtjb3JyZWxhdGlvbl9zdHJlbmd0aCA+IDAuNyA/IFwiU3Ryb25nXCIgOiBjb3JyZWxhdGlvbl9zdHJlbmd0aCA+IDAuNCA/IFwiTW9kZXJhdGVcIiA6IFwiV2Vha1wifSByZWxhdGlvbnNoaXBcbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgbiA9IDgwOyAgLy8gTW9yZSBwb2ludHMgZm9yIGJldHRlciBzY2F0dGVyXG4gIGxldCBkYXRhO1xuICBcbiAgaWYgKGRhdGFfcGF0dGVybiA9PT0gXCJMaW5lYXJcIikge1xuICAgIGNvbnN0IHggPSBkMy5yYW5nZShuKS5tYXAoaSA9PiAoaSAvIG4pICogMTAgKyAyICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC41KTtcbiAgICBjb25zdCBiYXNlX3kgPSB4Lm1hcCh4aSA9PiAyICogeGkgKyAxMCk7XG4gICAgY29uc3Qgbm9pc2VfZmFjdG9yID0gTWF0aC5zcXJ0KCgxIC0gY29ycmVsYXRpb25fc3RyZW5ndGggKiBjb3JyZWxhdGlvbl9zdHJlbmd0aCkgLyAoY29ycmVsYXRpb25fc3RyZW5ndGggKiBjb3JyZWxhdGlvbl9zdHJlbmd0aCkpICogMztcbiAgICBjb25zdCB5ID0gYmFzZV95Lm1hcCh5aSA9PiB5aSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIG5vaXNlX2ZhY3RvciAqIDgpO1xuICAgIGRhdGEgPSB4Lm1hcCgoeGksIGkpID0+ICh7eDogeGksIHk6IHlbaV19KSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgeCA9IGQzLnJhbmdlKG4pLm1hcChpID0+IChpIC8gbikgKiA4ICsgMSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMyk7XG4gICAgY29uc3QgYmFzZV95ID0geC5tYXAoeGkgPT4gTWF0aC5wb3coeGkgLSA0LCAyKSArIDUpO1xuICAgIGNvbnN0IG5vaXNlX2ZhY3RvciA9IDI7XG4gICAgY29uc3QgeSA9IGJhc2VfeS5tYXAoeWkgPT4geWkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBub2lzZV9mYWN0b3IpO1xuICAgIGRhdGEgPSB4Lm1hcCgoeGksIGkpID0+ICh7eDogeGksIHk6IHlbaV19KSk7XG4gIH1cbiAgXG4gIC8vIENhbGN1bGF0ZSBhY3R1YWwgY29ycmVsYXRpb25cbiAgY29uc3QgbWVhbl94ID0gZDMubWVhbihkYXRhLCBkID0+IGQueCk7XG4gIGNvbnN0IG1lYW5feSA9IGQzLm1lYW4oZGF0YSwgZCA9PiBkLnkpO1xuICBjb25zdCByID0gZDMuc3VtKGRhdGEubWFwKGQgPT4gKGQueCAtIG1lYW5feCkgKiAoZC55IC0gbWVhbl95KSkpIC8gXG4gICAgICAgICAgIE1hdGguc3FydChkMy5zdW0oZGF0YS5tYXAoZCA9PiAoZC54IC0gbWVhbl94KSAqKiAyKSkgKiBkMy5zdW0oZGF0YS5tYXAoZCA9PiAoZC55IC0gbWVhbl95KSAqKiAyKSkpO1xuICBcbiAgY29uc3QgbWFya3MgPSBbUGxvdC5kb3QoZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgZmlsbDogXCJzdGVlbGJsdWVcIiwgcjogNH0pXTtcbiAgXG4gIC8vIEFMV0FZUyBzaG93IGxpbmVhciByZWdyZXNzaW9uIGxpbmUsIGV2ZW4gZm9yIGN1cnZlcyAodG8gc2hvdyBpdCBsb29rcyBcIndyb25nXCIpXG4gIG1hcmtzLnB1c2goXG4gICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAyLCBzdHJva2VEYXNoYXJyYXk6IFwiNSw1XCJ9KVxuICApO1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IG1hcmtzLFxuICAgIHg6IHtsYWJlbDogXCJWYXJpYWJsZSBYXCJ9LFxuICAgIHk6IHtsYWJlbDogXCJWYXJpYWJsZSBZXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgY2FwdGlvbjogZGF0YV9wYXR0ZXJuID09PSBcIkN1cnZlZFwiID8gXG4gICAgICBgTGluZWFyIGxpbmUgbG9va3MgV1JPTkcgb24gY3VydmVkIGRhdGEhIHIgPSAke3IudG9GaXhlZCgzKX0gKG1pc2xlYWRpbmcgZm9yIGN1cnZlcylgIDpcbiAgICAgIGBBY3R1YWwgY29ycmVsYXRpb246IHIgPSAke3IudG9GaXhlZCgzKX0gfCByIG9ubHkgbWVhc3VyZXMgTElORUFSIHJlbGF0aW9uc2hpcHMhYFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMjRweDsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cbjxzdHJvbmc+V2hhdCdzIGEgcGlyYXRlJ3MgZmF2b3VyaXRlIGxldHRlcj88L3N0cm9uZz5cbjxici8+PGJyLz5cbjxzcGFuIHN0eWxlPVwiY29sb3I6ICNkMzJmMmY7IGZvbnQtc2l6ZTogNDhweDtcIj5SITwvc3Bhbj5cbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgY29uc3VsdGF0aW9uX3NjYXR0ZXIgPSBbXG4gICAge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDk1fSwge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDkzfSwge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDk3fSwge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDk0fSxcbiAgICB7aG91cnM6IDMsIHdlbGxiZWluZzogOTN9LCB7aG91cnM6IDMsIHdlbGxiZWluZzogOTF9LCB7aG91cnM6IDMsIHdlbGxiZWluZzogOTV9LCB7aG91cnM6IDMsIHdlbGxiZWluZzogOTJ9LFxuICAgIHtob3VyczogNCwgd2VsbGJlaW5nOiA5MH0sIHtob3VyczogNCwgd2VsbGJlaW5nOiA4OH0sIHtob3VyczogNCwgd2VsbGJlaW5nOiA5Mn0sIHtob3VyczogNCwgd2VsbGJlaW5nOiA4OX0sXG4gICAge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDg4fSwge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDg2fSwge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDkwfSwge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDg3fSxcbiAgICB7aG91cnM6IDYsIHdlbGxiZWluZzogODd9LCB7aG91cnM6IDYsIHdlbGxiZWluZzogODV9LCB7aG91cnM6IDYsIHdlbGxiZWluZzogODl9LCB7aG91cnM6IDYsIHdlbGxiZWluZzogODR9LFxuICAgIHtob3VyczogNywgd2VsbGJlaW5nOiA4NX0sIHtob3VyczogNywgd2VsbGJlaW5nOiA4M30sIHtob3VyczogNywgd2VsbGJlaW5nOiA4N30sIHtob3VyczogNywgd2VsbGJlaW5nOiA4Mn0sXG4gICAge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDg0fSwge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDgyfSwge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDg2fSwge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDgxfSxcbiAgICB7aG91cnM6IDksIHdlbGxiZWluZzogODJ9LCB7aG91cnM6IDksIHdlbGxiZWluZzogODB9LCB7aG91cnM6IDksIHdlbGxiZWluZzogODR9LCB7aG91cnM6IDksIHdlbGxiZWluZzogNzl9LFxuICAgIHtob3VyczogMTAsIHdlbGxiZWluZzogODF9LCB7aG91cnM6IDEwLCB3ZWxsYmVpbmc6IDc5fSwge2hvdXJzOiAxMCwgd2VsbGJlaW5nOiA4M30sIHtob3VyczogMTAsIHdlbGxiZWluZzogNzh9LFxuICAgIHtob3VyczogMTEsIHdlbGxiZWluZzogODB9LCB7aG91cnM6IDExLCB3ZWxsYmVpbmc6IDc4fSwge2hvdXJzOiAxMSwgd2VsbGJlaW5nOiA4Mn0sIHtob3VyczogMTEsIHdlbGxiZWluZzogNzd9XG4gIF07XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5kb3QoY29uc3VsdGF0aW9uX3NjYXR0ZXIsIHt4OiBcImhvdXJzXCIsIHk6IFwid2VsbGJlaW5nXCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDV9KSxcbiAgICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkoY29uc3VsdGF0aW9uX3NjYXR0ZXIsIHt4OiBcImhvdXJzXCIsIHk6IFwid2VsbGJlaW5nXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDN9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIkhvdXJzIFNwZW50IENvbnN1bHRpbmcgU3R1ZGVudHMgVGhpcyBXZWVrXCIsIGRvbWFpbjogWzAsIDEyXX0sXG4gICAgeToge2xhYmVsOiBcIk1lbnRhbCBXZWxsYmVpbmdcIiwgZG9tYWluOiBbNzUsIDEwMF19LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgd2lkdGg6IDgwMCxcbiAgICBoZWlnaHQ6IDQwMFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPHAgc3R5bGU9XCJmb250LXNpemU6IDEycHg7XCI+PHN0cm9uZz5FeHBsb3JlIHRoZSBkaWZmZXJlbmNlOjwvc3Ryb25nPjwvcD5gXG5cbnZpZXdvZiBzaG93X2FwcHJvYWNoID0gSW5wdXRzLnJhZGlvKFxuICBbXCJDb3JyZWxhdGlvbiB2aWV3XCIsIFwiUmVncmVzc2lvbiB2aWV3XCJdLFxuICB7dmFsdWU6IFwiUmVncmVzc2lvbiB2aWV3XCIsIGxhYmVsOiBcIlNob3c6XCJ9XG4pXG5cbnZpZXdvZiByZXNpZHVhbF92YXJpYW5jZSA9IElucHV0cy5yYW5nZShbMC41LCA0XSwge1xuICB2YWx1ZTogMS41LFxuICBzdGVwOiAwLjEsXG4gIGxhYmVsOiBcIlJlc2lkdWFsIHZhcmlhbmNlIChlcnJvcilcIlxufSlcblxudmlld29mIHN3YXBfYXhlcyA9IHNob3dfYXBwcm9hY2ggPT09IFwiQ29ycmVsYXRpb24gdmlld1wiID8gXG4gIElucHV0cy5jaGVja2JveChbXCJTd2FwIFggYW5kIFkgYXhlc1wiXSwge3ZhbHVlOiBbXX0pIDpcbiAgSW5wdXRzLmNoZWNrYm94KFtcIlN3YXAgWCBhbmQgWSBheGVzXCJdLCB7dmFsdWU6IFtdLCBkaXNhYmxlZDogdHJ1ZX0pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmZmY5YzQ7IHBhZGRpbmc6IDEwcHg7IG1hcmdpbi10b3A6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgZm9udC1zaXplOiAxMXB4O1wiPlxuPHN0cm9uZz5Db3JyZWxhdGlvbjo8L3N0cm9uZz4gQmlkaXJlY3Rpb25hbCAtIGNhbiBzd2FwIFggYW5kIFk8YnIvPlxuPHN0cm9uZz5SZWdyZXNzaW9uOjwvc3Ryb25nPiBEaXJlY3Rpb25hbCAtIFggcHJlZGljdHMgWTxici8+XG48ZW0+TmVpdGhlciBpbXBsaWVzIGNhdXNhdGlvbiE8L2VtPlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC03IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICBjb25zdCBuID0gNjA7XG4gIGNvbnN0IGJhc2VfeCA9IFsyLjUsIDMuMSwgMy44LCA0LjIsIDQuOSwgNS4zLCA1LjgsIDYuNCwgNi45LCA3LjUsIDguMSwgOC42LCA5LjIsIDkuOCwgXG4gICAgICAgICAgICAgICAgICAyLjgsIDMuNCwgNC4xLCA0LjYsIDUuMSwgNS43LCA2LjIsIDYuNywgNy4zLCA3LjgsIDguNCwgOC45LFxuICAgICAgICAgICAgICAgICAgMy4yLCAzLjcsIDQuNCwgNC44LCA1LjQsIDUuOSwgNi41LCA3LjEsIDcuNiwgOC4yLCA4LjcsIDkuMyxcbiAgICAgICAgICAgICAgICAgIDIuOSwgMy41LCA0LjAsIDQuNywgNS4yLCA1LjgsIDYuMywgNi44LCA3LjQsIDcuOSwgOC41LCA5LjAsXG4gICAgICAgICAgICAgICAgICAzLjAsIDMuNiwgNC4zLCA0LjksIDUuNSwgNi4wLCA2LjYsIDcuMiwgNy43LCA4LjNdO1xuICBcbiAgbGV0IGRhdGFfb3JpZ2luYWwgPSBiYXNlX3gubWFwKCh4aSwgaSkgPT4ge1xuICAgIGNvbnN0IHRydWVfeSA9IC0xLjUgKiB4aSArIDI1O1xuICAgIGNvbnN0IHkgPSB0cnVlX3kgKyAoTWF0aC5zaW4oaSAqIDAuNSkgKiByZXNpZHVhbF92YXJpYW5jZSAqIDIpO1xuICAgIHJldHVybiB7eDogeGksIHk6IHl9O1xuICB9KTtcbiAgXG4gIGxldCBkYXRhID0gKHNob3dfYXBwcm9hY2ggPT09IFwiQ29ycmVsYXRpb24gdmlld1wiICYmIHN3YXBfYXhlcy5sZW5ndGggPiAwKSA/IFxuICAgIGRhdGFfb3JpZ2luYWwubWFwKGQgPT4gKHt4OiBkLnksIHk6IGQueH0pKSA6IFxuICAgIGRhdGFfb3JpZ2luYWw7XG4gIFxuICBjb25zdCBtYXJrcyA9IFtQbG90LmRvdChkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA0fSldO1xuICBcbiAgaWYgKHNob3dfYXBwcm9hY2ggPT09IFwiQ29ycmVsYXRpb24gdmlld1wiKSB7XG4gICAgbWFya3MucHVzaChcbiAgICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkoZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgc3Ryb2tlOiBcImdyYXlcIiwgc3Ryb2tlV2lkdGg6IDIsIHN0cm9rZURhc2hhcnJheTogXCI4LDRcIn0pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBtYXJrcy5wdXNoKFxuICAgICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSlcbiAgICApO1xuICB9XG4gIFxuICBjb25zdCBtZWFuX3ggPSBkMy5tZWFuKGRhdGEsIGQgPT4gZC54KTtcbiAgY29uc3QgbWVhbl95ID0gZDMubWVhbihkYXRhLCBkID0+IGQueSk7XG4gIGNvbnN0IHIgPSBkMy5zdW0oZGF0YS5tYXAoZCA9PiAoZC54IC0gbWVhbl94KSAqIChkLnkgLSBtZWFuX3kpKSkgLyBcbiAgICAgICAgICAgTWF0aC5zcXJ0KGQzLnN1bShkYXRhLm1hcChkID0+IChkLnggLSBtZWFuX3gpICoqIDIpKSAqIGQzLnN1bShkYXRhLm1hcChkID0+IChkLnkgLSBtZWFuX3kpICoqIDIpKSk7XG4gIFxuICBjb25zdCB4X2xhYmVsID0gKHNob3dfYXBwcm9hY2ggPT09IFwiQ29ycmVsYXRpb24gdmlld1wiICYmIHN3YXBfYXhlcy5sZW5ndGggPiAwKSA/IFwiTWVudGFsIFdlbGxiZWluZ1wiIDogXCJIb3VycyBFeGVyY2lzaW5nICh3ZWVrKVwiO1xuICBjb25zdCB5X2xhYmVsID0gKHNob3dfYXBwcm9hY2ggPT09IFwiQ29ycmVsYXRpb24gdmlld1wiICYmIHN3YXBfYXhlcy5sZW5ndGggPiAwKSA/IFwiSG91cnMgRXhlcmNpc2luZyAod2VlaylcIiA6IFwiTWVudGFsIFdlbGxiZWluZ1wiO1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IG1hcmtzLFxuICAgIHg6IHtsYWJlbDogYFByZWRpY3RvciAoeCkgLSAke3hfbGFiZWx9YH0sXG4gICAgeToge2xhYmVsOiBgT3V0Y29tZSAoeSkgLSAke3lfbGFiZWx9YH0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICB3aWR0aDogNzAwLFxuICAgIGhlaWdodDogNDAwLFxuICAgIGNhcHRpb246IGBHcmF5IGRhc2hlZCA9IGNvcnJlbGF0aW9uIChiaWRpcmVjdGlvbmFsKSB8IFJlZCBzb2xpZCA9IHJlZ3Jlc3Npb24gKGRpcmVjdGlvbmFsKSB8IHIgPSAke3IudG9GaXhlZCgzKX1gXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICBjb25zdCBzY2F0dGVyX3BhaXJzID0gW1xuICAgIHt4OiAyLCB5OiA5NX0sIHt4OiAyLCB5OiA5M30sIHt4OiAyLCB5OiA5N30sXG4gICAge3g6IDQsIHk6IDkwfSwge3g6IDQsIHk6IDg4fSwge3g6IDQsIHk6IDkyfSwge3g6IDQsIHk6IDg5fSxcbiAgICB7eDogNiwgeTogODd9LCB7eDogNiwgeTogODV9LCB7eDogNiwgeTogODl9LCB7eDogNiwgeTogODR9LFxuICAgIHt4OiA4LCB5OiA4NH0sIHt4OiA4LCB5OiA4Mn0sIHt4OiA4LCB5OiA4Nn0sIHt4OiA4LCB5OiA4MX0sXG4gICAge3g6IDEwLCB5OiA4MX0sIHt4OiAxMCwgeTogNzl9LCB7eDogMTAsIHk6IDgzfSwge3g6IDEwLCB5OiA3OH1cbiAgXTtcbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChzY2F0dGVyX3BhaXJzLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA1fSksXG4gICAgICBQbG90LnRleHQoW3t4OiA2LCB5OiA3NX1dLCB7eDogXCJ4XCIsIHk6IFwieVwiLCB0ZXh0OiBcIk11bHRpcGxlIG9ic2VydmF0aW9ucyBhdCBlYWNoIHggdmFsdWUgY3JlYXRlcyBwcm9wZXIgc2NhdHRlclwiLCBmb250U2l6ZTogMTF9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIkhvdXJzIEV4ZXJjaXNpbmcgKHdlZWspICh4KVwiLCBkb21haW46IFswLCAxMl19LFxuICAgIHk6IHtsYWJlbDogXCJNZW50YWwgV2VsbGJlaW5nICh5KVwiLCBkb21haW46IFs3NSwgMTAwXX0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBcIlJlYWwgZGF0YSBoYXMgbmF0dXJhbCB2YXJpYWJpbGl0eSAtIG11bHRpcGxlIHkgdmFsdWVzIGZvciBzaW1pbGFyIHggdmFsdWVzXCJcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogNjBweDsgbWFyZ2luOiA0MHB4IDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPlxueSA9IM6yeCArIGNcbjwvZGl2PlxuXG48ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7IGZvbnQtc2l6ZTogMjJweDsgbWFyZ2luLXRvcDogNDBweDtcIj5cbjxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG48c3Ryb25nIHN0eWxlPVwiY29sb3I6ICMxZjc3YjQ7IGZvbnQtc2l6ZTogMzZweDtcIj55PC9zdHJvbmc+PGJyLz5cblRoZSB2YWx1ZSBvZiB0aGU8YnIvPlxuPHN0cm9uZz5vdXRjb21lIHZhcmlhYmxlPC9zdHJvbmc+PGJyLz5cbkFsc28gY2FsbGVkIGEgRFZcbjwvZGl2PlxuXG48ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPlxuPHN0cm9uZyBzdHlsZT1cImNvbG9yOiAjZmY3ZjBlOyBmb250LXNpemU6IDM2cHg7XCI+zrI8L3N0cm9uZz48YnIvPlxuPHN0cm9uZz5UaGUgc2xvcGU8L3N0cm9uZz48YnIvPlxuQW1vdW50IHRoYXQgeSBjaGFuZ2VzPGJyLz5cbmZvciBlYWNoIGNoYW5nZSBpbiB4XG48L2Rpdj5cblxuPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbjxzdHJvbmcgc3R5bGU9XCJjb2xvcjogIzJjYTAyYzsgZm9udC1zaXplOiAzNnB4O1wiPng8L3N0cm9uZz48YnIvPlxuVGhlIHZhbHVlIG9mIHRoZTxici8+XG48c3Ryb25nPnByZWRpY3Rvcjwvc3Ryb25nPjxici8+XG5BbHNvIGNhbGxlZCBhbiBJVlxuPC9kaXY+XG5cbjxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG48c3Ryb25nIHN0eWxlPVwiY29sb3I6ICNkNjI3Mjg7IGZvbnQtc2l6ZTogMzZweDtcIj5jPC9zdHJvbmc+PGJyLz5cbjxzdHJvbmc+VGhlIGludGVyY2VwdDwvc3Ryb25nPjxici8+XG5UaGUgdmFsdWUgb2YgeTxici8+XG5pZiB4IHdhcyAwXG48L2Rpdj5cbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxoNCBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDtcIj5BZGp1c3QgcGFyYW1ldGVyczo8L2g0PmBcblxudmlld29mIHNsb3BlX2JldHRlciA9IElucHV0cy5yYW5nZShbLTMsIDZdLCB7XG4gIHZhbHVlOiBNYXRoLnJhbmRvbSgpICogNCAtIDEsXG4gIHN0ZXA6IDAuMSxcbiAgbGFiZWw6IFwiU2xvcGUgKM6yKVwiXG59KVxuXG52aWV3b2YgaW50ZXJjZXB0X2JldHRlciA9IElucHV0cy5yYW5nZShbLTUsIDE1XSwge1xuICB2YWx1ZTogTWF0aC5yYW5kb20oKSAqIDEwICsgMixcbiAgc3RlcDogMC4yLFxuICBsYWJlbDogXCJJbnRlcmNlcHQgKGMpXCJcbn0pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmMGYwZjA7IHBhZGRpbmc6IDEwcHg7IG1hcmdpbi10b3A6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgZm9udC1zaXplOiAxMnB4O1wiPlxuPHN0cm9uZz5Zb3VyIGVxdWF0aW9uOjwvc3Ryb25nPjxici8+XG55ID0gJHtzbG9wZV9iZXR0ZXIudG9GaXhlZCgxKX14ICsgJHtpbnRlcmNlcHRfYmV0dGVyLnRvRml4ZWQoMSl9XG48L2Rpdj5gXG5cbnZpZXdvZiBzaG93X2Jlc3RfZml0ID0gSW5wdXRzLmNoZWNrYm94KFtcIlNob3cgYmVzdCBmaXQgbGluZVwiXSwge3ZhbHVlOiBbXX0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTExIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICBjb25zdCB4X2RhdGEgPSBbMSwgMSwgMi41LCAyLjUsIDIuNSwgNCwgNCwgNCwgNS41LCA1LjUsIDUuNSwgNywgNywgNywgOC41LCA4LjUsIDguNSwgMTAsIDEwLCAxMCwgMTEuNSwgMTEuNV07XG4gIGNvbnN0IHlfZGF0YSA9IFsxMiwgMTQsIDgsIDEwLCA2LCAxNSwgMTMsIDE3LCAxMSwgOSwgMTMsIDE4LCAxNiwgMjAsIDE0LCAxMiwgMTYsIDIxLCAxOSwgMjMsIDE3LCAxNV07XG5cbiAgY29uc3QgeF9saW5lID0gWy0xLCAxM107XG4gIGNvbnN0IHlfbGluZSA9IHhfbGluZS5tYXAoeGkgPT4gc2xvcGVfYmV0dGVyICogeGkgKyBpbnRlcmNlcHRfYmV0dGVyKTtcblxuICBjb25zdCB0cnVlX3Nsb3BlID0gMS4yO1xuICBjb25zdCB0cnVlX2ludGVyY2VwdCA9IDg7XG4gIGNvbnN0IHlfdHJ1ZV9saW5lID0geF9saW5lLm1hcCh4aSA9PiB0cnVlX3Nsb3BlICogeGkgKyB0cnVlX2ludGVyY2VwdCk7XG5cbiAgY29uc3QgZXJyb3JzID0geF9kYXRhLm1hcCgoeGksIGkpID0+IE1hdGguYWJzKChzbG9wZV9iZXR0ZXIgKiB4aSArIGludGVyY2VwdF9iZXR0ZXIpIC0geV9kYXRhW2ldKSk7XG4gIGNvbnN0IHRvdGFsX2Vycm9yID0gZDMuc3VtKGVycm9ycyk7XG4gIGNvbnN0IGJlc3RfZml0X2Vycm9yID0gZDMuc3VtKHhfZGF0YS5tYXAoKHhpLCBpKSA9PiBNYXRoLmFicygodHJ1ZV9zbG9wZSAqIHhpICsgdHJ1ZV9pbnRlcmNlcHQpIC0geV9kYXRhW2ldKSkpO1xuXG4gIGNvbnN0IG1hcmtzID0gW1xuICAgIFBsb3QubGluZShbe3g6IHhfbGluZVswXSwgeTogeV9saW5lWzBdfSwge3g6IHhfbGluZVsxXSwgeTogeV9saW5lWzFdfV0sIFxuICAgICAgICAgICAgICB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAzfSksXG4gICAgUGxvdC5kb3QoeF9kYXRhLm1hcCgoeGksIGkpID0+ICh7eDogeGksIHk6IHlfZGF0YVtpXX0pKSwgXG4gICAgICAgICAgICAge3g6IFwieFwiLCB5OiBcInlcIiwgcjogNSwgZmlsbDogXCJzdGVlbGJsdWVcIiwgc3Ryb2tlOiBcIndoaXRlXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgUGxvdC5saW5rKHhfZGF0YS5tYXAoKHhpLCBpKSA9PiAoe1xuICAgICAgeDE6IHhpLCB5MTogeV9kYXRhW2ldLCB4MjogeGksIHkyOiBzbG9wZV9iZXR0ZXIgKiB4aSArIGludGVyY2VwdF9iZXR0ZXJcbiAgICB9KSksIHtcbiAgICAgIHgxOiBcIngxXCIsIHkxOiBcInkxXCIsIHgyOiBcIngyXCIsIHkyOiBcInkyXCIsXG4gICAgICBzdHJva2U6IFwib3JhbmdlXCIsIHN0cm9rZVdpZHRoOiAyLCBzdHJva2VEYXNoYXJyYXk6IFwiMywzXCJcbiAgICB9KVxuICBdO1xuXG4gIGlmIChzaG93X2Jlc3RfZml0Lmxlbmd0aCA+IDApIHtcbiAgICBtYXJrcy5wdXNoKFxuICAgICAgUGxvdC5saW5lKFt7eDogeF9saW5lWzBdLCB5OiB5X3RydWVfbGluZVswXX0sIHt4OiB4X2xpbmVbMV0sIHk6IHlfdHJ1ZV9saW5lWzFdfV0sIFxuICAgICAgICAgICAgICAgIHt4OiBcInhcIiwgeTogXCJ5XCIsIHN0cm9rZTogXCJncmVlblwiLCBzdHJva2VXaWR0aDogMiwgc3Ryb2tlRGFzaGFycmF5OiBcIjgsNFwiLCBvcGFjaXR5OiAwLjh9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogbWFya3MsXG4gICAgeDoge2RvbWFpbjogWy0xLCAxM10sIGxhYmVsOiBcInggKFByZWRpY3RvcilcIn0sXG4gICAgeToge2RvbWFpbjogWy01LCAyNV0sIGxhYmVsOiBcInkgKE91dGNvbWUpXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgY2FwdGlvbjogYFlvdXIgZXJyb3I6ICR7dG90YWxfZXJyb3IudG9GaXhlZCgxKX0gfCBCZXN0IGZpdDogJHtiZXN0X2ZpdF9lcnJvci50b0ZpeGVkKDEpfSB8ICR7dG90YWxfZXJyb3IgPCBiZXN0X2ZpdF9lcnJvciAqIDEuMSA/IFwi8J+OryBDbG9zZSFcIiA6IFwiS2VlcCB0cnlpbmchXCJ9YFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDI4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiA0MHB4IDA7IGxpbmUtaGVpZ2h0OiAxLjY7XCI+XG48cD48c3Ryb25nPldoeSBpc24ndCBwcmVkaWN0aW9uIHBlcmZlY3Q/PC9zdHJvbmc+PC9wPlxuPGJyLz5cbjxwPkh1bWFucyBhcmUgbmF0dXJhbGx5IHZhcmlhYmxlISBFdmVuIHdpdGggdGhlIHNhbWUgc3R1ZHkgaG91cnMsPGJyLz5cbmRpZmZlcmVudCBzdHVkZW50cyBnZXQgZGlmZmVyZW50IGV4YW0gc2NvcmVzIGJlY2F1c2Ugb2Y6PC9wPlxuPGJyLz5cbjxkaXYgc3R5bGU9XCJmb250LXNpemU6IDI0cHg7IHRleHQtYWxpZ246IG1pZGRsZTsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XG7igKIgPHN0cm9uZz5TbGVlcCBxdWFsaXR5PC9zdHJvbmc+IHRoZSBuaWdodCBiZWZvcmU8YnIvPlxu4oCiIDxzdHJvbmc+VGVzdCBhbnhpZXR5PC9zdHJvbmc+IGxldmVsczxici8+XG7igKIgPHN0cm9uZz5QcmlvciBrbm93bGVkZ2U8L3N0cm9uZz4gZGlmZmVyZW5jZXM8YnIvPlxu4oCiIDxzdHJvbmc+TW90aXZhdGlvbjwvc3Ryb25nPiBvbiB0aGF0IGRheTxici8+XG7igKIgPHN0cm9uZz5MdWNrPC9zdHJvbmc+IHdpdGggcXVlc3Rpb24gdG9waWNzPGJyLz5cbuKAoiA8c3Ryb25nPkNvZmZlZSBjb25zdW1wdGlvbjwvc3Ryb25nPiDwn5iKXG48L2Rpdj5cbjxwIHN0eWxlPVwiY29sb3I6ICNkMzJmMmY7XCI+PHN0cm9uZz5FcnJvciB0ZXJtID0gQWxsIHRoZSBuYXR1cmFsIHZhcmlhYmlsaXR5PGJyLz5cbndlIGNhbm5vdCBleHBsYWluIHdpdGggb3VyIHByZWRpY3Rvcjwvc3Ryb25nPjwvcD5cbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2YgZXJyb3Jfc2NlbmFyaW8gPSBJbnB1dHMucmFkaW8oXG4gIFtcIlBlcmZlY3QgcHJlZGljdGlvblwiLCBcIlNvbWUgdmFyaWFiaWxpdHlcIiwgXCJMb3RzIG9mIHZhcmlhYmlsaXR5XCJdLFxuICB7dmFsdWU6IFwiU29tZSB2YXJpYWJpbGl0eVwiLCBsYWJlbDogXCJTY2VuYXJpbzpcIn1cbilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIGNvbnN0IHhfdmFscyA9IGQzLnJhbmdlKDEsIDExKTtcbiAgbGV0IGRhdGFfcG9pbnRzID0gW107XG4gIFxuICBpZiAoZXJyb3Jfc2NlbmFyaW8gPT09IFwiUGVyZmVjdCBwcmVkaWN0aW9uXCIpIHtcbiAgICB4X3ZhbHMuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGRhdGFfcG9pbnRzLnB1c2goe3g6IHgsIHk6IDIgKiB4ICsgM30pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGVycm9yX3NjZW5hcmlvID09PSBcIlNvbWUgdmFyaWFiaWxpdHlcIikge1xuICAgIHhfdmFscy5mb3JFYWNoKHggPT4ge1xuICAgICAgY29uc3QgYmFzZV95ID0gMiAqIHggKyAzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZGF0YV9wb2ludHMucHVzaCh7eDogeCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMywgeTogYmFzZV95ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHhfdmFscy5mb3JFYWNoKHggPT4ge1xuICAgICAgY29uc3QgYmFzZV95ID0gMiAqIHggKyAzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgZGF0YV9wb2ludHMucHVzaCh7eDogeCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuNCwgeTogYmFzZV95ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QubGluZShbe3g6IDAsIHk6IDN9LCB7eDogMTEsIHk6IDI1fV0sIHt4OiBcInhcIiwgeTogXCJ5XCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDN9KSxcbiAgICAgIFBsb3QuZG90KGRhdGFfcG9pbnRzLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA0LCBvcGFjaXR5OiAwLjd9KVxuICAgIF0sXG4gICAgeDoge2RvbWFpbjogWzAsIDExXSwgbGFiZWw6IFwiU3R1ZHkgSG91cnMgKHgpXCJ9LFxuICAgIHk6IHtkb21haW46IFswLCAzMF0sIGxhYmVsOiBcIkV4YW0gU2NvcmUgKHkpXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgY2FwdGlvbjogZXJyb3Jfc2NlbmFyaW8gPT09IFwiUGVyZmVjdCBwcmVkaWN0aW9uXCIgPyBcIkltcG9zc2libGU6IE5vIGh1bWFuIHZhcmlhYmlsaXR5XCIgOlxuICAgICAgICAgICAgIGVycm9yX3NjZW5hcmlvID09PSBcIlNvbWUgdmFyaWFiaWxpdHlcIiA/IFwiUmVhbGlzdGljOiBTb21lIG5hdHVyYWwgdmFyaWFiaWxpdHlcIiA6XG4gICAgICAgICAgICAgXCJDb21tb246IE1hbnkgdW5tZWFzdXJlZCBmYWN0b3JzIG1hdHRlclwiXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1zaXplOiAyNXB4OyBtYXJnaW46IDMwcHggMDtcIj5cbjxzdHJvbmc+UsKyID0gUHJvcG9ydGlvbiBvZiB2YXJpYW5jZSBpbiBZIGV4cGxhaW5lZCBieSBYPC9zdHJvbmc+XG48YnIvPjxici8+XG48ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAyNnB4O1wiPlxuSWYgUsKyID0gMC42MCwgdGhlbjo8YnIvPlxu4oCiIDYwJSBvZiB2YXJpYXRpb24gaW4gWSBpcyBkdWUgdG8gWDxici8+XG7igKIgNDAlIG9mIHZhcmlhdGlvbiBpcyBkdWUgdG8gb3RoZXIgZmFjdG9ycyAobmF0dXJhbCB2YXJpYWJpbGl0eSlcbjwvZGl2PlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPHAgc3R5bGU9XCJmb250LXNpemU6IDEycHg7XCI+PHN0cm9uZz5Db21wYXJlIFLCsiB2YWx1ZXM6PC9zdHJvbmc+PC9wPmBcblxudmlld29mIHJfc3F1YXJlZF9kcmFtYXRpYyA9IElucHV0cy5yYW5nZShbMC4wNSwgMC45OF0sIHtcbiAgdmFsdWU6IDAuNixcbiAgc3RlcDogMC4wNSxcbiAgbGFiZWw6IFwiVGFyZ2V0IFLCslwiXG59KVxuXG52aWV3b2YgZGF0YXNldF9zaXplID0gSW5wdXRzLnJhbmdlKFs0MCwgMTIwXSwge1xuICB2YWx1ZTogODAsXG4gIHN0ZXA6IDEwLFxuICBsYWJlbDogXCJOdW1iZXIgb2YgcG9pbnRzXCJcbn0pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNlOGY0Zjg7IHBhZGRpbmc6IDEwcHg7IG1hcmdpbi10b3A6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsgZm9udC1zaXplOiAxMXB4O1wiPlxuPHN0cm9uZz5SwrI6PC9zdHJvbmc+ICR7cl9zcXVhcmVkX2RyYW1hdGljLnRvRml4ZWQoMil9PGJyLz5cbiR7KHJfc3F1YXJlZF9kcmFtYXRpYyAqIDEwMCkudG9GaXhlZCgwKX0lIGV4cGxhaW5lZDxici8+XG4keygxMDAgLSByX3NxdWFyZWRfZHJhbWF0aWMgKiAxMDApLnRvRml4ZWQoMCl9JSB1bmV4cGxhaW5lZFxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgbiA9IGRhdGFzZXRfc2l6ZTtcbiAgY29uc3QgeCA9IGQzLnJhbmdlKG4pLm1hcChpID0+IChpIC8gbikgKiAxMiArIDEgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjMpO1xuICBcbiAgY29uc3Qgc2xvcGUgPSAzO1xuICBjb25zdCBpbnRlcmNlcHQgPSA1O1xuICBjb25zdCB0cnVlX3kgPSB4Lm1hcCh4aSA9PiBzbG9wZSAqIHhpICsgaW50ZXJjZXB0KTtcbiAgXG4gIGNvbnN0IHZhcl95ID0gZDMudmFyaWFuY2UodHJ1ZV95KTtcbiAgY29uc3Qgbm9pc2VfbXVsdGlwbGllciA9IHJfc3F1YXJlZF9kcmFtYXRpYyA8IDAuMyA/IDggOiByX3NxdWFyZWRfZHJhbWF0aWMgPCAwLjYgPyA0IDogMjtcbiAgY29uc3Qgc2RfcmVzaWR1YWwgPSBNYXRoLnNxcnQodmFyX3kgKiAoMSAtIHJfc3F1YXJlZF9kcmFtYXRpYykpICogbm9pc2VfbXVsdGlwbGllcjtcbiAgY29uc3QgeSA9IHRydWVfeS5tYXAoeWkgPT4geWkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyICogc2RfcmVzaWR1YWwpO1xuICBcbiAgY29uc3QgZGF0YSA9IHgubWFwKCh4aSwgaSkgPT4gKHt4OiB4aSwgeTogeVtpXX0pKTtcbiAgXG4gIGNvbnN0IG1lYW5feSA9IGQzLm1lYW4oeSk7XG4gIGNvbnN0IHNzX3RvdCA9IGQzLnN1bSh5Lm1hcCh5aSA9PiAoeWkgLSBtZWFuX3kpICoqIDIpKTtcbiAgY29uc3QgcHJlZGljdGVkX3kgPSB4Lm1hcCh4aSA9PiBzbG9wZSAqIHhpICsgaW50ZXJjZXB0KTtcbiAgY29uc3Qgc3NfcmVzID0gZDMuc3VtKHkubWFwKCh5aSwgaSkgPT4gKHlpIC0gcHJlZGljdGVkX3lbaV0pICoqIDIpKTtcbiAgY29uc3QgYWN0dWFsX3IyID0gTWF0aC5tYXgoMCwgMSAtIChzc19yZXMgLyBzc190b3QpKTtcbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiAzLCBvcGFjaXR5OiAwLjd9KSxcbiAgICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkoZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogM30pXG4gICAgXSxcbiAgICB4OiB7bGFiZWw6IFwiUHJlZGljdG9yICh4KVwifSxcbiAgICB5OiB7bGFiZWw6IFwiT3V0Y29tZSAoeSlcIn0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBgVGFyZ2V0IFLCsiA9ICR7cl9zcXVhcmVkX2RyYW1hdGljLnRvRml4ZWQoMil9IHwgQWN0dWFsID0gJHthY3R1YWxfcjIudG9GaXhlZCgzKX0gfCAke2FjdHVhbF9yMiA+IDAuOCA/IFwiVmVyeSB0aWdodCFcIiA6IGFjdHVhbF9yMiA+IDAuNSA/IFwiTW9kZXJhdGVcIiA6IFwiTG9vc2UgZml0XCJ9YFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMjhweDsgbWFyZ2luOiAzMHB4IDA7XCI+XG48c3Ryb25nPs6yID0gSG93IG11Y2ggeSBjaGFuZ2VzIGVhY2ggdGltZSB4IGNoYW5nZXM8L3N0cm9uZz5cbjxici8+PGJyLz5cbjxkaXYgc3R5bGU9XCJmb250LXNpemU6IDI4cHg7XCI+XG7igKIgVGhpcyBpcyB0aGUgPHN0cm9uZz5zbG9wZTwvc3Ryb25nPiBvZiB0aGUgcmVncmVzc2lvbiBsaW5lPGJyLz5cbuKAoiBMYXJnZXIgzrIgPSBzdGVlcGVyIGxpbmUgPGJyLz5cbuKAoiDOsiDiiaAgaG93IGNsb3NlIHBvaW50cyBhcmUgdG8gbGluZVxuPC9kaXY+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8aDQgc3R5bGU9XCJmb250LXNpemU6IDEzcHg7XCI+U2V0IGNoYXJhY3RlcmlzdGljczo8L2g0PmBcblxudmlld29mIGJldGFfZHJhbWF0aWMgPSBJbnB1dHMucmFuZ2UoWy00LCA2XSwge1xuICB2YWx1ZTogMSxcbiAgc3RlcDogMC4yLFxuICBsYWJlbDogXCLOsiAoU2xvcGUpXCJcbn0pXG5cbnZpZXdvZiByMl9kcmFtYXRpYyA9IElucHV0cy5yYW5nZShbMC4xLCAwLjk1XSwge1xuICB2YWx1ZTogMC42LFxuICBzdGVwOiAwLjAxLFxuICBsYWJlbDogXCJSwrIgKFByZWNpc2lvbilcIlxufSlcblxuaHRtbGA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2ZmZjNjZDsgcGFkZGluZzogMTBweDsgbWFyZ2luLXRvcDogMTVweDsgYm9yZGVyLXJhZGl1czogNXB4OyBmb250LXNpemU6IDExcHg7XCI+XG48c3Ryb25nPs6yOjwvc3Ryb25nPiAke2JldGFfZHJhbWF0aWMudG9GaXhlZCgxKX08YnIvPlxuPHN0cm9uZz5SwrI6PC9zdHJvbmc+ICR7cjJfZHJhbWF0aWMudG9GaXhlZCgyKX08YnIvPjxici8+XG48c3Ryb25nPiR7TWF0aC5hYnMoYmV0YV9kcmFtYXRpYykgPiAyID8gXCJISUdIXCIgOiBcIkxPV1wifSBtYWduaXR1ZGU8YnIvPlxuJHtyMl9kcmFtYXRpYyA+IDAuNiA/IFwiSElHSFwiIDogXCJMT1dcIn0gcHJlY2lzaW9uPC9zdHJvbmc+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICBjb25zdCBuID0gNzA7XG4gIGNvbnN0IHggPSBkMy5yYW5nZShuKS5tYXAoaSA9PiAoaSAvIG4pICogOCArIDEgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjMpO1xuICBjb25zdCB0cnVlX3kgPSB4Lm1hcCh4aSA9PiBiZXRhX2RyYW1hdGljICogeGkgKyAyMCk7XG4gIFxuICBjb25zdCB2YXJfeSA9IGQzLnZhcmlhbmNlKHRydWVfeSk7XG4gIGNvbnN0IHNjYXR0ZXJfZmFjdG9yID0gcjJfZHJhbWF0aWMgPCAwLjMgPyA2IDogcjJfZHJhbWF0aWMgPCAwLjYgPyAzIDogMTtcbiAgY29uc3Qgc2RfcmVzaWR1YWwgPSBNYXRoLnNxcnQodmFyX3kgKiAoMSAtIHIyX2RyYW1hdGljKSkgKiBzY2F0dGVyX2ZhY3RvcjtcbiAgY29uc3QgeSA9IHRydWVfeS5tYXAoeWkgPT4geWkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyICogc2RfcmVzaWR1YWwpO1xuICBcbiAgY29uc3QgZGF0YSA9IHgubWFwKCh4aSwgaSkgPT4gKHt4OiB4aSwgeTogeVtpXX0pKTtcbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiAzLCBvcGFjaXR5OiAwLjZ9KSxcbiAgICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkoZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogNH0pXG4gICAgXSxcbiAgICB4OiB7ZG9tYWluOiBbMCwgMTBdLCBsYWJlbDogXCJQcmVkaWN0b3IgKHgpXCJ9LFxuICAgIHk6IHtkb21haW46IFstMTAsIDkwXSwgbGFiZWw6IFwiT3V0Y29tZSAoeSlcIn0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBgzrIgPSAke2JldGFfZHJhbWF0aWMudG9GaXhlZCgxKX0gKHN0ZWVwbmVzcykgfCBSwrIgPSAke3IyX2RyYW1hdGljLnRvRml4ZWQoMil9ICh0aWdodG5lc3MpYFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIGNvbnN0IGdyb3VwX2RhdGEgPSBbXG4gICAgLi4uZDMucmFuZ2UoMjApLm1hcCgoKSA9PiAoe2dyb3VwOiAxLCB4OiAxICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xNSwgeTogMTIgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA2fSkpLFxuICAgIC4uLmQzLnJhbmdlKDIwKS5tYXAoKCkgPT4gKHtncm91cDogMiwgeDogMiArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMTUsIHk6IDE2ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNn0pKSxcbiAgICAuLi5kMy5yYW5nZSgyMCkubWFwKCgpID0+ICh7Z3JvdXA6IDMsIHg6IDMgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjE1LCB5OiAyMCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDZ9KSlcbiAgXTtcbiAgXG4gIGNvbnN0IHJlZ19kYXRhID0gZDMucmFuZ2UoNjApLm1hcChpID0+IHtcbiAgICBjb25zdCB4ID0gKGkgLyA2MCkgKiAyICsgMSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMTtcbiAgICBjb25zdCB5ID0gNCAqIHggKyAxMiArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDQ7XG4gICAgcmV0dXJuIHt4OiB4LCB5OiB5fTtcbiAgfSk7XG4gIFxuICByZXR1cm4gaHRtbGA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiAyMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgXG4gIDxkaXYgc3R5bGU9XCJmbGV4OiAxO1wiPlxuICA8aDMgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMjBweDtcIj5BTk9WQTogQ2F0ZWdvcmljYWwgSVY8L2gzPlxuICAke1Bsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QuZG90KGdyb3VwX2RhdGEsIHt4OiBcInhcIiwgeTogXCJ5XCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDN9KSxcbiAgICAgIFBsb3QucnVsZVkoW3t4OiAxLCB5MTogMTItMywgeTI6IDEyKzN9XSwge3g6IFwieFwiLCB5MTogXCJ5MVwiLCB5MjogXCJ5MlwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LnJ1bGVZKFt7eDogMiwgeTE6IDE2LTMsIHkyOiAxNiszfV0sIHt4OiBcInhcIiwgeTE6IFwieTFcIiwgeTI6IFwieTJcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5ydWxlWShbe3g6IDMsIHkxOiAyMC0zLCB5MjogMjArM31dLCB7eDogXCJ4XCIsIHkxOiBcInkxXCIsIHkyOiBcInkyXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3g6IDEsIHk6IDEyfSwge3g6IDIsIHk6IDE2fSwge3g6IDMsIHk6IDIwfV0sIHt4OiBcInhcIiwgeTogXCJ5XCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDN9KSxcbiAgICAgIFBsb3QuZG90KFt7eDogMSwgeTogMTJ9LCB7eDogMiwgeTogMTZ9LCB7eDogMywgeTogMjB9XSwgXG4gICAgICAgICAgICAgICB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInJlZFwiLCByOiA2LCBzdHJva2U6IFwid2hpdGVcIiwgc3Ryb2tlV2lkdGg6IDJ9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIkdyb3VwIChjYXRlZ29yaWNhbClcIiwgZG9tYWluOiBbMC41LCAzLjVdLCB0aWNrczogWzEsMiwzXX0sXG4gICAgeToge2xhYmVsOiBcIk91dGNvbWUgKFkpXCIsIGRvbWFpbjogWzUsIDI1XX0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICB3aWR0aDogMzUwLFxuICAgIGhlaWdodDogMzAwLFxuICAgIGNhcHRpb246IFwiQmFzZWQgb24gdGhlIGdyb3VwIG1lYW4gcGx1cyBzb21lIHJhbmRvbSBlcnJvclwiXG4gIH0pfVxuICA8L2Rpdj5cbiAgXG4gIDxkaXYgc3R5bGU9XCJmbGV4OiAxO1wiPlxuICA8aDMgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMjBweDtcIj5SZWdyZXNzaW9uOiBDb250aW51b3VzIElWPC9oMz5cbiAgJHtQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChyZWdfZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgZmlsbDogXCJzdGVlbGJsdWVcIiwgcjogM30pLFxuICAgICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShyZWdfZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogM30pXG4gICAgXSxcbiAgICB4OiB7bGFiZWw6IFwiUHJlZGljdG9yIChjb250aW51b3VzKVwiLCBkb21haW46IFswLjUsIDMuNV19LFxuICAgIHk6IHtsYWJlbDogXCJPdXRjb21lIChZKVwiLCBkb21haW46IFs1LCAyNV19LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgd2lkdGg6IDM1MCxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICBjYXB0aW9uOiBcIkJhc2VkIG9uIHRoZSBwcmVkaWN0b3IgcGx1cyBzb21lIHJhbmRvbSBlcnJvclwiXG4gIH0pfVxuICBcbiAgPC9kaXY+XG4gIFxuICA8L2Rpdj5gO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImljZV9kYXRhID0gW1xuICB7dGVtcDogMTUsIHNhbGVzOiA4MDAwfSxcbiAge3RlbXA6IDE4LCBzYWxlczogNzAwMH0sXG4gIHt0ZW1wOiAyMCwgc2FsZXM6IDg1MDB9LFxuICB7dGVtcDogMjIsIHNhbGVzOiAxMDAwMH0sXG4gIHt0ZW1wOiAyNSwgc2FsZXM6IDExNTAwfSxcbiAge3RlbXA6IDI4LCBzYWxlczogMTMwMDB9LFxuICB7dGVtcDogMzAsIHNhbGVzOiAxNTAwMH0sXG4gIHt0ZW1wOiAzMywgc2FsZXM6IDE0NTAwfSxcbiAge3RlbXA6IDM1LCBzYWxlczogMTYwMDB9LFxuICB7dGVtcDogMzgsIHNhbGVzOiAxNzAwMH1cbl1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxoND5FeHBsb3JlIHRoZSByZWdyZXNzaW9uOjwvaDQ+YFxuXG52aWV3b2YgcHJlZGljdF90ZW1wID0gSW5wdXRzLnJhbmdlKFsxNSwgNDBdLCB7XG4gIHZhbHVlOiAyNSxcbiAgc3RlcDogMSxcbiAgbGFiZWw6IFwiUHJlZGljdCBzYWxlcyBhdCB0ZW1wZXJhdHVyZSAowrBDKTpcIlxufSlcblxuaHRtbGA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2Y4ZDdkYTsgcGFkZGluZzogMTVweDsgbWFyZ2luLXRvcDogMjBweDsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuPHN0cm9uZz5QcmVkaWN0aW9uIGF0ICR7cHJlZGljdF90ZW1wfcKwQzo8L3N0cm9uZz48YnIvPlxuPHN0cm9uZyBzdHlsZT1cImZvbnQtc2l6ZTogMjRweDtcIj5STSAkeyg0MzAgKiBwcmVkaWN0X3RlbXAgKyA1MDApLnRvRml4ZWQoMCl9PC9zdHJvbmc+XG48YnIvPjxici8+XG48ZW0+RWFjaCAxwrBDIGluY3JlYXNlIOKGkiArUk00MzA8L2VtPlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgLy8gUmVncmVzc2lvbiBjb2VmZmljaWVudHMgZnJvbSB5b3VyIHNsaWRlczogzrIgPSA0MzAsIGludGVyY2VwdCDiiYggNTAwXG4gIGNvbnN0IHNsb3BlID0gNDMwO1xuICBjb25zdCBpbnRlcmNlcHQgPSA1MDA7XG4gIFxuICBjb25zdCBwcmVkaWN0ZWRfeSA9IGljZV9kYXRhLm1hcChkID0+IHNsb3BlICogZC50ZW1wICsgaW50ZXJjZXB0KTtcbiAgY29uc3QgbGluZV9kYXRhID0gW3t4OiAxNSwgeTogc2xvcGUgKiAxNSArIGludGVyY2VwdH0sIFxuICAgICAgICAgICAgICAgICAgICAge3g6IDQwLCB5OiBzbG9wZSAqIDQwICsgaW50ZXJjZXB0fV07XG4gIFxuICAvLyBDYWxjdWxhdGUgUsKyXG4gIGNvbnN0IG1lYW5fc2FsZXMgPSBkMy5tZWFuKGljZV9kYXRhLCBkID0+IGQuc2FsZXMpO1xuICBjb25zdCBzc190b3QgPSBkMy5zdW0oaWNlX2RhdGEubWFwKGQgPT4gKGQuc2FsZXMgLSBtZWFuX3NhbGVzKSAqKiAyKSk7XG4gIGNvbnN0IHNzX3JlcyA9IGQzLnN1bShpY2VfZGF0YS5tYXAoKGQsIGkpID0+IChkLnNhbGVzIC0gcHJlZGljdGVkX3lbaV0pICoqIDIpKTtcbiAgY29uc3QgcjIgPSAxIC0gKHNzX3JlcyAvIHNzX3RvdCk7XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgLy8gRGF0YSBwb2ludHNcbiAgICAgIFBsb3QuZG90KGljZV9kYXRhLCB7eDogXCJ0ZW1wXCIsIHk6IFwic2FsZXNcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IFwib3JhbmdlXCIsIHI6IDYsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXA6IHRydWV9KSxcbiAgICAgIC8vIFJlZ3Jlc3Npb24gbGluZVxuICAgICAgUGxvdC5saW5lKGxpbmVfZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogM30pLFxuICAgICAgLy8gUHJlZGljdGlvbiBwb2ludFxuICAgICAgUGxvdC5kb3QoW3t0ZW1wOiBwcmVkaWN0X3RlbXAsIHNhbGVzOiBzbG9wZSAqIHByZWRpY3RfdGVtcCArIGludGVyY2VwdH1dLFxuICAgICAgICAgICAgICAge3g6IFwidGVtcFwiLCB5OiBcInNhbGVzXCIsIFxuICAgICAgICAgICAgICAgIGZpbGw6IFwiZ3JlZW5cIiwgcjogMTAsIHN0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMn0pXG4gICAgXSxcbiAgICB4OiB7bGFiZWw6IFwiVGVtcGVyYXR1cmUgKMKwQylcIn0sXG4gICAgeToge2xhYmVsOiBcIkljZSBDcmVhbSBTYWxlcyAoUk0pXCIsIGdyaWQ6IHRydWV9LFxuICAgIGNhcHRpb246IGBSwrIgPSAke3IyLnRvRml4ZWQoMyl9IOKGkiBUZW1wZXJhdHVyZSBleHBsYWlucyAkeyhyMioxMDApLnRvRml4ZWQoMSl9JSBvZiBzYWxlcyB2YXJpYXRpb25gXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGg0IHN0eWxlPVwiZm9udC1zaXplOiAxMXB4OyBjb2xvcjogYmxhY2s7XCI+UmVzZWFyY2ggU2NlbmFyaW86PC9oND5gXG5cbnZpZXdvZiBuZXdfeF9yZWFsaXN0aWMgPSBJbnB1dHMucmFuZ2UoWzAsIDE1XSwge1xuICB2YWx1ZTogOCxcbiAgc3RlcDogMC41LFxuICBsYWJlbDogXCJTdHVkeSBob3Vycy93ZWVrOlwiXG59KVxuXG52aWV3b2Ygc2NlbmFyaW9fdHlwZSA9IElucHV0cy5yYWRpbyhcbiAgW1wiSGlnaCBwcmVjaXNpb25cIiwgXCJNb2RlcmF0ZVwiLCBcIkxvdyBwcmVjaXNpb25cIl0sXG4gIHt2YWx1ZTogXCJNb2RlcmF0ZVwiLCBsYWJlbDogXCJSZWxhdGlvbnNoaXA6XCJ9XG4pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmMGY4ZmY7IHBhZGRpbmc6IDhweDsgbWFyZ2luLXRvcDogMTJweDsgYm9yZGVyLXJhZGl1czogNXB4OyBmb250LXNpemU6IDIycHg7IGNvbG9yOiBibGFjaztcIj5cbjxzdHJvbmc+UHJlZGljdGVkIFNjb3JlOjwvc3Ryb25nPiAkeyg0LjIgKiBuZXdfeF9yZWFsaXN0aWMgKyA0NSkudG9GaXhlZCgxKX0lPGJyLz5cbjxzdHJvbmc+OTUlIENJOjwvc3Ryb25nPiBbJHsoNC4yICogbmV3X3hfcmVhbGlzdGljICsgNDUgLSAoc2NlbmFyaW9fdHlwZSA9PT0gXCJIaWdoIHByZWNpc2lvblwiID8gMyA6IHNjZW5hcmlvX3R5cGUgPT09IFwiTW9kZXJhdGVcIiA/IDggOiAxNSkpLnRvRml4ZWQoMSl9JSwgXG4keyg0LjIgKiBuZXdfeF9yZWFsaXN0aWMgKyA0NSArIChzY2VuYXJpb190eXBlID09PSBcIkhpZ2ggcHJlY2lzaW9uXCIgPyAzIDogc2NlbmFyaW9fdHlwZSA9PT0gXCJNb2RlcmF0ZVwiID8gOCA6IDE1KSkudG9GaXhlZCgxKX0lXTxici8+XG48ZW0+RWFjaCBob3VyIOKGkiArNC4yJTwvZW0+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTI2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICBsZXQgdHJhaW5pbmdfZGF0YSA9IFtdO1xuICBjb25zdCBiYXNlX3Nsb3BlID0gNC4yO1xuICBjb25zdCBiYXNlX2ludGVyY2VwdCA9IDQ1O1xuICBcbiAgY29uc3QgaXRlcmF0aW9ucyA9IHNjZW5hcmlvX3R5cGUgPT09IFwiSGlnaCBwcmVjaXNpb25cIiA/IDYwIDogc2NlbmFyaW9fdHlwZSA9PT0gXCJNb2RlcmF0ZVwiID8gNzUgOiA5MDtcbiAgY29uc3Qgbm9pc2UgPSBzY2VuYXJpb190eXBlID09PSBcIkhpZ2ggcHJlY2lzaW9uXCIgPyA2IDogc2NlbmFyaW9fdHlwZSA9PT0gXCJNb2RlcmF0ZVwiID8gMTYgOiAzMDtcbiAgXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgY29uc3QgaG91cnMgPSAoaSAvIGl0ZXJhdGlvbnMpICogMTQgKyAwLjUgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjQ7XG4gICAgY29uc3Qgc2NvcmUgPSBiYXNlX3Nsb3BlICogaG91cnMgKyBiYXNlX2ludGVyY2VwdCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIG5vaXNlO1xuICAgIHRyYWluaW5nX2RhdGEucHVzaCh7aG91cnM6IGhvdXJzLCBzY29yZTogTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBzY29yZSkpfSk7XG4gIH1cbiAgXG4gIGNvbnN0IHByZWRpY3RlZF9zY29yZSA9IGJhc2Vfc2xvcGUgKiBuZXdfeF9yZWFsaXN0aWMgKyBiYXNlX2ludGVyY2VwdDtcbiAgY29uc3QgY2lfd2lkdGggPSBzY2VuYXJpb190eXBlID09PSBcIkhpZ2ggcHJlY2lzaW9uXCIgPyAzIDogc2NlbmFyaW9fdHlwZSA9PT0gXCJNb2RlcmF0ZVwiID8gOCA6IDE1O1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QuZG90KHRyYWluaW5nX2RhdGEsIHt4OiBcImhvdXJzXCIsIHk6IFwic2NvcmVcIiwgZmlsbDogXCJsaWdodGJsdWVcIiwgcjogMywgb3BhY2l0eTogMC42fSksXG4gICAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKHRyYWluaW5nX2RhdGEsIHt4OiBcImhvdXJzXCIsIHk6IFwic2NvcmVcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogM30pLFxuICAgICAgUGxvdC5kb3QoW3tob3VyczogbmV3X3hfcmVhbGlzdGljLCBzY29yZTogcHJlZGljdGVkX3Njb3JlfV0sXG4gICAgICAgICAgICAgICB7eDogXCJob3Vyc1wiLCB5OiBcInNjb3JlXCIsIGZpbGw6IFwiZ3JlZW5cIiwgcjogMTAsIHN0cm9rZTogXCJ3aGl0ZVwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5saW5rKFt7eDE6IG5ld194X3JlYWxpc3RpYywgeTE6IHByZWRpY3RlZF9zY29yZSAtIGNpX3dpZHRoLCBcbiAgICAgICAgICAgICAgICAgIHgyOiBuZXdfeF9yZWFsaXN0aWMsIHkyOiBwcmVkaWN0ZWRfc2NvcmUgKyBjaV93aWR0aH1dLFxuICAgICAgICAgICAgICAgIHt4MTogXCJ4MVwiLCB5MTogXCJ5MVwiLCB4MjogXCJ4MlwiLCB5MjogXCJ5MlwiLCBzdHJva2U6IFwiZ3JlZW5cIiwgc3Ryb2tlV2lkdGg6IDUsIG9wYWNpdHk6IDAuNX0pXG4gICAgXSxcbiAgICB4OiB7ZG9tYWluOiBbMCwgMTVdLCBsYWJlbDogXCJTdHVkeSBIb3Vycy9XZWVrXCJ9LFxuICAgIHk6IHtkb21haW46IFswLCAxMDBdLCBsYWJlbDogXCJFeGFtIFNjb3JlICglKVwifSxcbiAgICBncmlkOiB0cnVlLFxuICAgIGNhcHRpb246IGBNb3JlIHNjYXR0ZXJlZCBkYXRhID0gd2lkZXIgQ0kgPSBsZXNzIHByZWNpc2UgcHJlZGljdGlvbnNgXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IHdoaXRlOyBwYWRkaW5nOiAyNXB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBmb250LWZhbWlseTogJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmOyBmb250LXNpemU6IDIwcHg7IGxpbmUtaGVpZ2h0OiAxLjc7IGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsMCwwLDAuMSk7XCI+XG5cbjxwPjxzdHJvbmc+QSBzaW1wbGUgbGluZWFyIHJlZ3Jlc3Npb24gYW5hbHlzaXM8L3N0cm9uZz4gd2FzIHVzZWQgdG8gaW52ZXN0aWdhdGUgd2hldGhlciB0aGUgdGVtcGVyYXR1cmUgb24gZWFjaCBkYXkgKGluIGRlZ3JlZXMgQykgcHJlZGljdGVkIHRoZSBhbW91bnQgb2YgbW9uZXkgZWFybmVkIGluIGljZSBjcmVhbSBzYWxlcyAoaW4gUk0pLjwvcD5cblxuPHA+VGVtcGVyYXR1cmUgPHN0cm9uZz5zaWduaWZpY2FudGx5IGFuZCBwb3NpdGl2ZWx5IHByZWRpY3RlZDwvc3Ryb25nPiBpY2UgY3JlYW0gc2FsZXMsIDxlbT5SwrI8L2VtPiA9IC4zNiwgPGVtPkY8L2VtPigxLDk4KSA9IDU2LjA3LCA8ZW0+cDwvZW0+ICZsdDsgLjAwMSwgaW5kaWNhdGluZyB0aGF0IHRlbXBlcmF0dXJlIDxzdHJvbmc+ZXhwbGFpbmVkIDM2JSBvZiB0aGUgdmFyaWFuY2U8L3N0cm9uZz4gaW4gaWNlIGNyZWFtIHNhbGVzLjwvcD5cblxuPHA+VGhlIHN0YW5kYXJkaXNlZCBjb2VmZmljaWVudCBpbmRpY2F0ZWQgdGhhdCBhcyB0ZW1wZXJhdHVyZSBpbmNyZWFzZWQgYnkgMSBTRCwgaWNlIGNyZWFtIHNhbGVzIGluY3JlYXNlZCBieSA8c3Ryb25nPi42MCBTRDwvc3Ryb25nPi48L3A+XG5cbjxociBzdHlsZT1cIm1hcmdpbjogMjBweCAwO1wiPlxuXG48ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2Y1ZjVmNTsgcGFkZGluZzogMjBweDsgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjMjE5NkYzOyBmb250LXNpemU6IDIwcHg7IGxpbmUtaGVpZ2h0OiAxLjg7XCI+XG48c3Ryb25nPktleSBBUEEgUmVwb3J0aW5nIEVsZW1lbnRzOjwvc3Ryb25nPjxici8+PGJyLz5cbuKckyBOYW1lIHRoZSB0ZXN0OiBcIlNpbXBsZSBsaW5lYXIgcmVncmVzc2lvblwiPGJyLz5cbuKckyBEZXNjcmliZSByZWxhdGlvbnNoaXA6IFwic2lnbmlmaWNhbnRseSBwcmVkaWN0ZWRcIjxici8+XG7inJMgUmVwb3J0IFLCsjogXCJleHBsYWluZWQgMzYlIG9mIHZhcmlhbmNlXCI8YnIvPlxu4pyTIEluY2x1ZGUgc3RhdGlzdGljczogRiwgZGYsIHAtdmFsdWU8YnIvPlxu4pyTIEludGVycHJldCBzdGFuZGFyZGlzZWQgY29lZmZpY2llbnQgKFNEIHVuaXRzKVxuPC9kaXY+XG5cbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDI4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAzMHB4IDA7XCI+XG48cD5FdmVyeSBkZWdyZWUgaW5jcmVhc2UgaW4gdGVtcGVyYXR1cmUgZ2V0cyB5b3UgYW5vdGhlciA8c3Ryb25nPlJNIDQzMDwvc3Ryb25nPjwvcD5cbjxwPlxu4oCiIFJNIDQzMCA8L2JyPlxu4oCiIMKjNzUgIDwvYnI+XG7igKIgJDk2ICA8L2JyPlxu4oCiIDAuMDAwMDA1OSBCVEMgIDwvYnI+PC9wPlxuPHAgc3R5bGU9XCJjb2xvcjogcmVkOyBtYXJnaW4tdG9wOiAyMHB4O1wiPldoZW4gd2UgdXNlIM6yLCBpdCBpcyA8c3Ryb25nPm5vdCBzdGFuZGFyZGlzZWQ8L3N0cm9uZz48YnIvPlxuQ2Fubm90IGJlIGNvbXBhcmVkIGFjcm9zcyBkaWZmZXJlbnQgbWVhc3VyZXMhPC9wPlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGg0IHN0eWxlPVwiZm9udC1zaXplOiAxMnB4O1wiPkNvbXBhcmUgZWZmZWN0IHNpemVzOjwvaDQ+YFxuXG52aWV3b2YgY3VycmVuY3lfdHlwZSA9IElucHV0cy5yYWRpbyhcbiAgW1wiUk1cIiwgXCIkXCIsIFwiwqNcIl0sXG4gIHt2YWx1ZTogXCJSTVwiLCBsYWJlbDogXCJDdXJyZW5jeTpcIn1cbilcblxudmlld29mIHRlbXBfdW5pdCA9IElucHV0cy5yYWRpbyhcbiAgW1wiwrBDXCIsIFwiwrBGXCJdLFxuICB7dmFsdWU6IFwiwrBDXCIsIGxhYmVsOiBcIlRlbXBlcmF0dXJlOlwifVxuKVxuXG5odG1sYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZmOGRjOyBwYWRkaW5nOiAxMHB4OyBtYXJnaW4tdG9wOiAxNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IGZvbnQtc2l6ZTogMjBweDtcIj5cbjxzdHJvbmc+VW5zdGFuZGFyZGlzZWQgzrIgY2hhbmdlcyE8L3N0cm9uZz48YnIvPlxuRGlmZmVyZW50IHVuaXRzID0gZGlmZmVyZW50IHZhbHVlczxici8+PGJyLz5cbjxzdHJvbmc+U3RhbmRhcmRpc2VkIM6yIGNvbnN0YW50ITwvc3Ryb25nPjxici8+XG5Vbml0LWZyZWUgKFNEIHVuaXRzKTxici8+XG5BbGxvd3MgY3Jvc3Mtc3R1ZHkgY29tcGFyaXNvblxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zMCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgY3VycmVuY3lfbXVsdGlwbGllciA9IGN1cnJlbmN5X3R5cGUgPT09IFwiUk1cIiA/IDEgOiBjdXJyZW5jeV90eXBlID09PSBcIiRcIiA/IDAuMjIgOiAwLjE4O1xuICBjb25zdCB0ZW1wX211bHRpcGxpZXIgPSB0ZW1wX3VuaXQgPT09IFwiwrBDXCIgPyAxIDogMS44O1xuICBjb25zdCB0ZW1wX29mZnNldCA9IHRlbXBfdW5pdCA9PT0gXCLCsENcIiA/IDAgOiAzMjtcbiAgXG4gIGNvbnN0IGJhc2VfZGF0YSA9IFtcbiAgICB7dGVtcF9jOiAxNSwgc2FsZXNfcm06IDUwMDB9LCB7dGVtcF9jOiAxNSwgc2FsZXNfcm06IDQ4MDB9LCBcbiAgICB7dGVtcF9jOiAyMCwgc2FsZXNfcm06IDg1MDB9LCB7dGVtcF9jOiAyMCwgc2FsZXNfcm06IDgyMDB9LFxuICAgIHt0ZW1wX2M6IDI1LCBzYWxlc19ybTogMTI1MDB9LCB7dGVtcF9jOiAyNSwgc2FsZXNfcm06IDEyMTAwfSxcbiAgICB7dGVtcF9jOiAzMCwgc2FsZXNfcm06IDE3MDAwfSwge3RlbXBfYzogMzAsIHNhbGVzX3JtOiAxNjQwMH0sXG4gICAge3RlbXBfYzogMzUsIHNhbGVzX3JtOiAyMTAwMH0sIHt0ZW1wX2M6IDM1LCBzYWxlc19ybTogMjA2MDB9XG4gIF07XG4gIFxuICBjb25zdCBjb252ZXJ0ZWRfZGF0YSA9IGJhc2VfZGF0YS5tYXAoZCA9PiAoe1xuICAgIHRlbXA6IGQudGVtcF9jICogdGVtcF9tdWx0aXBsaWVyICsgdGVtcF9vZmZzZXQsXG4gICAgc2FsZXM6IGQuc2FsZXNfcm0gKiBjdXJyZW5jeV9tdWx0aXBsaWVyXG4gIH0pKTtcbiAgXG4gIGNvbnN0IG1lYW5fdGVtcCA9IGQzLm1lYW4oY29udmVydGVkX2RhdGEsIGQgPT4gZC50ZW1wKTtcbiAgY29uc3QgbWVhbl9zYWxlcyA9IGQzLm1lYW4oY29udmVydGVkX2RhdGEsIGQgPT4gZC5zYWxlcyk7XG4gIGNvbnN0IHNsb3BlID0gZDMuc3VtKGNvbnZlcnRlZF9kYXRhLm1hcChkID0+IChkLnRlbXAgLSBtZWFuX3RlbXApICogKGQuc2FsZXMgLSBtZWFuX3NhbGVzKSkpIC8gXG4gICAgICAgICAgICAgICAgZDMuc3VtKGNvbnZlcnRlZF9kYXRhLm1hcChkID0+IChkLnRlbXAgLSBtZWFuX3RlbXApICoqIDIpKTtcbiAgXG4gIGNvbnN0IHNkX3RlbXAgPSBNYXRoLnNxcnQoZDMudmFyaWFuY2UoY29udmVydGVkX2RhdGEsIGQgPT4gZC50ZW1wKSk7XG4gIGNvbnN0IHNkX3NhbGVzID0gTWF0aC5zcXJ0KGQzLnZhcmlhbmNlKGNvbnZlcnRlZF9kYXRhLCBkID0+IGQuc2FsZXMpKTtcbiAgY29uc3Qgc3RhbmRhcmRpc2VkX2JldGEgPSBzbG9wZSAqIChzZF90ZW1wIC8gc2Rfc2FsZXMpO1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QuZG90KGNvbnZlcnRlZF9kYXRhLCB7eDogXCJ0ZW1wXCIsIHk6IFwic2FsZXNcIiwgZmlsbDogXCJvcmFuZ2VcIiwgcjogNX0pLFxuICAgICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShjb252ZXJ0ZWRfZGF0YSwge3g6IFwidGVtcFwiLCB5OiBcInNhbGVzXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDN9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBgVGVtcGVyYXR1cmUgKCR7dGVtcF91bml0fSlgfSxcbiAgICB5OiB7bGFiZWw6IGBTYWxlcyAoJHtjdXJyZW5jeV90eXBlfSlgfSxcbiAgICBncmlkOiB0cnVlLFxuICAgIGNhcHRpb246IGBVbnN0YW5kYXJkaXNlZCDOsiA9ICR7c2xvcGUudG9GaXhlZCgxKX0gKHVuaXQtZGVwZW5kZW50KSB8IFN0YW5kYXJkaXNlZCDOsiA9ICR7c3RhbmRhcmRpc2VkX2JldGEudG9GaXhlZCgyKX0gKHVuaXQtZnJlZSlgXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgLy8gU2ltcGxlIDNEIHZpc3VhbGl6YXRpb24gZm9yIG11bHRpcGxlIHJlZ3Jlc3Npb25cbiAgY29uc3QgbiA9IDUwO1xuICBjb25zdCBkYXRhXzNkID0gW107XG4gIFxuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIGNvbnN0IHRlbXAgPSAxNSArIE1hdGgucmFuZG9tKCkgKiAyNTtcbiAgICBjb25zdCBkYXlfdHlwZSA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAxIDogMDsgLy8gV2Vla2VuZCB2cyB3ZWVrZGF5XG4gICAgY29uc3Qgc2FsZXMgPSAxMDAwICsgNDAwICogdGVtcCArIDMwMDAgKiBkYXlfdHlwZSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDIwMDA7XG4gICAgZGF0YV8zZC5wdXNoKHtcbiAgICAgIHRlbXA6IHRlbXAsXG4gICAgICBkYXk6IGRheV90eXBlLFxuICAgICAgc2FsZXM6IHNhbGVzLFxuICAgICAgeF9wcm9qOiB0ZW1wICsgZGF5X3R5cGUgKiA1LCAvLyBQcm9qZWN0IHRvIDJEXG4gICAgICB5X3Byb2o6IHNhbGVzIC8gMTAwIC0gZGF5X3R5cGUgKiAyMFxuICAgIH0pO1xuICB9XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgLy8gU2ltdWxhdGUgM0QgYnkgdXNpbmcgc2l6ZSBhbmQgb3BhY2l0eVxuICAgICAgUGxvdC5kb3QoZGF0YV8zZCwge1xuICAgICAgICB4OiBcInhfcHJvalwiLCBcbiAgICAgICAgeTogXCJ5X3Byb2pcIiwgXG4gICAgICAgIHI6IGQgPT4gMyArIGQuZGF5ICogMixcbiAgICAgICAgZmlsbDogZCA9PiBkLmRheSA9PT0gMSA/IFwib3JhbmdlXCIgOiBcInN0ZWVsYmx1ZVwiLFxuICAgICAgICBvcGFjaXR5OiAwLjZcbiAgICAgIH0pLFxuICAgICAgLy8gUmVncmVzc2lvbiBwbGFuZSBwcm9qZWN0aW9uXG4gICAgICBQbG90LmxpbmUoW1xuICAgICAgICB7eDogMTUsIHk6IDgwfSwge3g6IDQwLCB5OiAxNjB9XG4gICAgICBdLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW1xuICAgICAgICB7eDogMjAsIHk6IDgwfSwge3g6IDQ1LCB5OiAxNzV9XG4gICAgICBdLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAyLCBzdHJva2VEYXNoYXJyYXk6IFwiNSw1XCJ9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIlRlbXBlcmF0dXJlICsgRGF5IFR5cGUgKHByb2plY3RlZClcIn0sXG4gICAgeToge2xhYmVsOiBcIlNhbGVzIChwcm9qZWN0ZWQpXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgd2lkdGg6IDYwMCxcbiAgICBoZWlnaHQ6IDQwMCxcbiAgICBjYXB0aW9uOiBcIk9yYW5nZSA9IFdlZWtlbmQgfCBCbHVlID0gV2Vla2RheSB8IE11bHRpcGxlIHByZWRpY3RvcnMgPSAzRCB2aXN1YWxpemF0aW9uIG5lZWRlZCFcIlxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiAzNnB4OyBtYXJnaW4tdG9wOiA4MHB4O1wiPlxuPHN0cm9uZz5UaGFuayBZb3UhIDwvc3Ryb25nPlxuPGJyLz48YnIvPlxuPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDtcIj5cblF1ZXN0aW9ucyAmIERpc2N1c3Npb25cbjwvZGl2PlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdjb3JyZWxhdGlvbl9zdHJlbmd0aCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdkYXRhX3BhdHRlcm4nKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2hvd19hcHByb2FjaCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdyZXNpZHVhbF92YXJpYW5jZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzd2FwX2F4ZXMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2xvcGVfYmV0dGVyJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2ludGVyY2VwdF9iZXR0ZXInKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2hvd19iZXN0X2ZpdCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdlcnJvcl9zY2VuYXJpbycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdyX3NxdWFyZWRfZHJhbWF0aWMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnZGF0YXNldF9zaXplJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2JldGFfZHJhbWF0aWMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncjJfZHJhbWF0aWMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncHJlZGljdF90ZW1wJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ25ld194X3JlYWxpc3RpYycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzY2VuYXJpb190eXBlJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2N1cnJlbmN5X3R5cGUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndGVtcF91bml0JykifV19
    </script>
    <script type="module">
    if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
    window._ojs.paths.runtimeToDoc = "../../..";
    window._ojs.paths.runtimeToRoot = "../../..";
    window._ojs.paths.docToRoot = "";
    window._ojs.selfContained = false;
    window._ojs.runtime.interpretFromScriptTags();
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>
