<!DOCTYPE html>
<html lang="en"><head>
<script src="regression-lecture-final_files/libs/clipboard/clipboard.min.js"></script>
<script src="regression-lecture-final_files/libs/quarto-html/tabby.min.js"></script>
<script src="regression-lecture-final_files/libs/quarto-html/popper.min.js"></script>
<script src="regression-lecture-final_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="regression-lecture-final_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="regression-lecture-final_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="regression-lecture-final_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="regression-lecture-final_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.555">

  <meta name="author" content="Dr.&nbsp;Jun Ho Chai">
  <title>Linear Regression</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="regression-lecture-final_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="regression-lecture-final_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="regression-lecture-final_files/libs/revealjs/dist/theme/quarto.css">
  <link href="regression-lecture-final_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="regression-lecture-final_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="regression-lecture-final_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="regression-lecture-final_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="regression-lecture-final_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="regression-lecture-final_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script type="module" src="regression-lecture-final_files/libs/quarto-ojs/quarto-ojs-runtime.js"></script>
  <link href="regression-lecture-final_files/libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Linear Regression</h1>
  <p class="subtitle">RSM2074 Lecture Week 5</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Jun Ho Chai 
</div>
</div>
</div>

</section>
<section>
<section id="linear-regression" class="title-slide slide level1 center" data-background-color="#2c5aa0">
<h1>Linear Regression</h1>

</section>
<section id="the-plan-for-today" class="slide level2">
<h2>The Plan for Today</h2>
<ul>
<li>Overview of Correlations</li>
<li>How is Regression different from Correlation?</li>
<li>Regression Coefficients: Slope and Intercept</li>
<li>The RÂ² Statistic</li>
<li>Comparing Regression with ANOVA</li>
<li>Conducting a Simple Linear Regression</li>
</ul>
<p><strong>iCheckIn: XXXXX</strong></p>
</section></section>
<section>
<section id="correlations-review" class="title-slide slide level1 center" data-background-color="#4a90a4">
<h1>Correlations Review</h1>

</section>
<section id="we-should-already-know-how-correlations-work" class="slide level2">
<h2>We should already know how correlations work</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="33" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 32;"><span id="cb1-33"><a href=""></a>{</span>
<span id="cb1-34"><a href=""></a>  <span class="co">// Mental wellbeing vs consultation hours data - MORE scatter points</span></span>
<span id="cb1-35"><a href=""></a>  <span class="kw">const</span> base_consultation_data <span class="op">=</span> [</span>
<span id="cb1-36"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span></span>
<span id="cb1-37"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">91</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span></span>
<span id="cb1-38"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span></span>
<span id="cb1-39"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span></span>
<span id="cb1-40"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span></span>
<span id="cb1-41"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span></span>
<span id="cb1-42"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span></span>
<span id="cb1-43"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span></span>
<span id="cb1-44"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span></span>
<span id="cb1-45"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">77</span>}</span>
<span id="cb1-46"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb1-47"><a href=""></a>  </span>
<span id="cb1-48"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb1-49"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb1-50"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(base_consultation_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"wellbeing"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span>})</span>
<span id="cb1-51"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb1-52"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Spent Consulting Students This Week"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb1-53"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb1-54"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb1-55"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb1-56"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span></span>
<span id="cb1-57"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb1-58"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="interactive-explore-correlation-strength" class="slide level2">
<h2>Interactive: Explore Correlation Strength</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="66" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 65;"><span id="cb2-66"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;p&gt;&lt;strong&gt;Adjust relationship strength:&lt;/strong&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="68" data-source-offset="-61"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 67;"><span id="cb3-68"><a href=""></a>viewof correlation_strength <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.1</span><span class="op">,</span> <span class="fl">0.99</span>]<span class="op">,</span> {</span>
<span id="cb3-69"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb3-70"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.05</span><span class="op">,</span></span>
<span id="cb3-71"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Correlation strength (r)"</span></span>
<span id="cb3-72"><a href=""></a>})</span>
<span id="cb3-73"><a href=""></a></span>
<span id="cb3-74"><a href=""></a>viewof data_pattern <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb3-75"><a href=""></a>  [<span class="st">"Linear"</span><span class="op">,</span> <span class="st">"Curved"</span><span class="op">,</span> <span class="st">"No relationship"</span>]<span class="op">,</span></span>
<span id="cb3-76"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Linear"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Data pattern:"</span>}</span>
<span id="cb3-77"><a href=""></a>)</span>
<span id="cb3-78"><a href=""></a></span>
<span id="cb3-79"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #e8f4f8; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb3-80"><a href=""></a><span class="vs">&lt;strong&gt;Pearson's r:&lt;/strong&gt; </span><span class="sc">${</span>correlation_strength<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;</span></span>
<span id="cb3-81"><a href=""></a><span class="vs">&lt;strong&gt;Interpretation:&lt;/strong&gt; </span><span class="sc">${</span>correlation_strength <span class="op">&gt;</span> <span class="fl">0.7</span> <span class="op">?</span> <span class="st">"Strong"</span> <span class="op">:</span> correlation_strength <span class="op">&gt;</span> <span class="fl">0.4</span> <span class="op">?</span> <span class="st">"Moderate"</span> <span class="op">:</span> <span class="st">"Weak"</span><span class="sc">}</span><span class="vs"> relationship</span></span>
<span id="cb3-82"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="86" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 85;"><span id="cb4-86"><a href=""></a>{</span>
<span id="cb4-87"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">80</span><span class="op">;</span>  <span class="co">// More points for better scatter</span></span>
<span id="cb4-88"><a href=""></a>  <span class="kw">let</span> data<span class="op">;</span></span>
<span id="cb4-89"><a href=""></a>  </span>
<span id="cb4-90"><a href=""></a>  <span class="cf">if</span> (data_pattern <span class="op">===</span> <span class="st">"Linear"</span>) {</span>
<span id="cb4-91"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb4-92"><a href=""></a>    <span class="kw">const</span> base_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> <span class="dv">2</span> <span class="op">*</span> xi <span class="op">+</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb4-93"><a href=""></a>    <span class="kw">const</span> noise_factor <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>((<span class="dv">1</span> <span class="op">-</span> correlation_strength <span class="op">*</span> correlation_strength) <span class="op">/</span> (correlation_strength <span class="op">*</span> correlation_strength)) <span class="op">*</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb4-94"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> base_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> noise_factor <span class="op">*</span> <span class="dv">8</span>)<span class="op">;</span></span>
<span id="cb4-95"><a href=""></a>    data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb4-96"><a href=""></a>  } <span class="cf">else</span> <span class="cf">if</span> (data_pattern <span class="op">===</span> <span class="st">"Curved"</span>) {</span>
<span id="cb4-97"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">8</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span>)<span class="op">;</span></span>
<span id="cb4-98"><a href=""></a>    <span class="kw">const</span> base_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">pow</span>(xi <span class="op">-</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">2</span>) <span class="op">+</span> <span class="dv">5</span>)<span class="op">;</span></span>
<span id="cb4-99"><a href=""></a>    <span class="kw">const</span> noise_factor <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb4-100"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> base_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> noise_factor)<span class="op">;</span></span>
<span id="cb4-101"><a href=""></a>    data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb4-102"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb4-103"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.5</span>)<span class="op">;</span></span>
<span id="cb4-104"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">15</span> <span class="op">+</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb4-105"><a href=""></a>    data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb4-106"><a href=""></a>  }</span>
<span id="cb4-107"><a href=""></a>  </span>
<span id="cb4-108"><a href=""></a>  <span class="co">// Calculate actual correlation</span></span>
<span id="cb4-109"><a href=""></a>  <span class="kw">const</span> mean_x <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">x</span>)<span class="op">;</span></span>
<span id="cb4-110"><a href=""></a>  <span class="kw">const</span> mean_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb4-111"><a href=""></a>  <span class="kw">const</span> r <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">*</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y))) <span class="op">/</span> </span>
<span id="cb4-112"><a href=""></a>           <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">**</span> <span class="dv">2</span>)) <span class="op">*</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>)))<span class="op">;</span></span>
<span id="cb4-113"><a href=""></a>  </span>
<span id="cb4-114"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span>})]<span class="op">;</span></span>
<span id="cb4-115"><a href=""></a>  </span>
<span id="cb4-116"><a href=""></a>  <span class="co">// ALWAYS show linear regression line, even for curves (to show it looks "wrong")</span></span>
<span id="cb4-117"><a href=""></a>  marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb4-118"><a href=""></a>    Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"5,5"</span>})</span>
<span id="cb4-119"><a href=""></a>  )<span class="op">;</span></span>
<span id="cb4-120"><a href=""></a>  </span>
<span id="cb4-121"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-122"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb4-123"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Variable X"</span>}<span class="op">,</span></span>
<span id="cb4-124"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Variable Y"</span>}<span class="op">,</span></span>
<span id="cb4-125"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-126"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> data_pattern <span class="op">===</span> <span class="st">"Curved"</span> <span class="op">?</span> </span>
<span id="cb4-127"><a href=""></a>      <span class="vs">`Linear line looks WRONG on curved data! r = </span><span class="sc">${</span>r<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> (misleading for curves)`</span> <span class="op">:</span></span>
<span id="cb4-128"><a href=""></a>      <span class="vs">`Actual correlation: r = </span><span class="sc">${</span>r<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> | r only measures LINEAR relationships!`</span></span>
<span id="cb4-129"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb4-130"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Key Points:</strong> - Correlations require <strong>two continuous variables</strong> - There is <strong>no IV or DV</strong>, just âvariablesâ - <strong>Correlation â  causation!</strong> - r is based on how <strong>spread out</strong> points are from line, NOT how steep - r only applies to <strong>linear relationships</strong></p>
</section>
<section id="pearsons-r-statistic" class="slide level2">
<h2>Pearsonâs r Statistic</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="144" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 143;"><span id="cb5-144"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 36px; text-align: center; margin: 40px 0;"&gt;</span></span>
<span id="cb5-145"><a href=""></a><span class="vs">&lt;strong&gt;What's a pirate's favourite letter?&lt;/strong&gt;</span></span>
<span id="cb5-146"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb5-147"><a href=""></a><span class="vs">&lt;span style="color: #d32f2f; font-size: 72px;"&gt;R!&lt;/span&gt;</span></span>
<span id="cb5-148"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="expression">

</div>
</div>
</div>
<p>r is <strong>NOT</strong> based on how steep the line is (the slope)</p>
<p>r <strong>IS</strong> based on how spread out the points are from an imaginary line</p>
</section></section>
<section>
<section id="regression-vs-correlation" class="title-slide slide level1 center" data-background-color="#7b68ee">
<h1>Regression vs Correlation</h1>

</section>
<section id="at-first-glance-regression-appears-the-same-as-correlation" class="slide level2">
<h2>At first glance, Regression appears the same as Correlation</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="161" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 160;"><span id="cb6-161"><a href=""></a>{</span>
<span id="cb6-162"><a href=""></a>  <span class="co">// MORE scattered consultation data points</span></span>
<span id="cb6-163"><a href=""></a>  <span class="kw">const</span> consultation_scatter <span class="op">=</span> [</span>
<span id="cb6-164"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">94</span>}<span class="op">,</span></span>
<span id="cb6-165"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">91</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span></span>
<span id="cb6-166"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span></span>
<span id="cb6-167"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span></span>
<span id="cb6-168"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span></span>
<span id="cb6-169"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">7</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span></span>
<span id="cb6-170"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span></span>
<span id="cb6-171"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span></span>
<span id="cb6-172"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span></span>
<span id="cb6-173"><a href=""></a>    {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">80</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">hours</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">wellbeing</span><span class="op">:</span> <span class="dv">77</span>}</span>
<span id="cb6-174"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb6-175"><a href=""></a>  </span>
<span id="cb6-176"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb6-177"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb6-178"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(consultation_scatter<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"wellbeing"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span>})<span class="op">,</span></span>
<span id="cb6-179"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(consultation_scatter<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"wellbeing"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})</span>
<span id="cb6-180"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb6-181"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Spent Consulting Students This Week"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb6-182"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb6-183"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-184"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb6-185"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span></span>
<span id="cb6-186"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb6-187"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="expression">

</div>
</div>
</div>
<p><strong>Correlation says:</strong> Mental wellbeing is <strong>associated with</strong> Consultation Time<br>
<strong>Regression says:</strong> Consultation Time <strong>predicts</strong> Mental Wellbeing</p>
</section>
<section id="interactive-correlation-vs-regression-thinking" class="slide level2">
<h2>Interactive: Correlation vs Regression Thinking</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="198" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 197;"><span id="cb7-198"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;p&gt;&lt;strong&gt;Explore the difference:&lt;/strong&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="200" data-source-offset="-55"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 199;"><span id="cb8-200"><a href=""></a>viewof show_approach <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb8-201"><a href=""></a>  [<span class="st">"Correlation view"</span><span class="op">,</span> <span class="st">"Regression view"</span><span class="op">,</span> <span class="st">"Both approaches"</span>]<span class="op">,</span></span>
<span id="cb8-202"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Both approaches"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Show:"</span>}</span>
<span id="cb8-203"><a href=""></a>)</span>
<span id="cb8-204"><a href=""></a></span>
<span id="cb8-205"><a href=""></a>viewof noise_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.5</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span> {</span>
<span id="cb8-206"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">1.5</span><span class="op">,</span></span>
<span id="cb8-207"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span></span>
<span id="cb8-208"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Data scatter amount"</span></span>
<span id="cb8-209"><a href=""></a>})</span>
<span id="cb8-210"><a href=""></a></span>
<span id="cb8-211"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #fff9c4; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb8-212"><a href=""></a><span class="vs">&lt;strong&gt;Correlation:&lt;/strong&gt; Variables are associated&lt;br/&gt;</span></span>
<span id="cb8-213"><a href=""></a><span class="vs">&lt;strong&gt;Regression:&lt;/strong&gt; X predicts Y&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb8-214"><a href=""></a><span class="vs">&lt;em&gt;Neither implies causation without theory or experiments!&lt;/em&gt;</span></span>
<span id="cb8-215"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="219" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 218;"><span id="cb9-219"><a href=""></a>{</span>
<span id="cb9-220"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">60</span><span class="op">;</span>  <span class="co">// More scatter points</span></span>
<span id="cb9-221"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">8</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.4</span>)<span class="op">;</span></span>
<span id="cb9-222"><a href=""></a>  <span class="kw">const</span> true_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> <span class="op">-</span><span class="fl">1.5</span> <span class="op">*</span> xi <span class="op">+</span> <span class="dv">25</span>)<span class="op">;</span></span>
<span id="cb9-223"><a href=""></a>  <span class="kw">const</span> y <span class="op">=</span> true_y<span class="op">.</span><span class="fu">map</span>((yi<span class="op">,</span> i) <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> noise_dramatic <span class="op">*</span> <span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb9-224"><a href=""></a>  <span class="kw">const</span> data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb9-225"><a href=""></a>  </span>
<span id="cb9-226"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span>})]<span class="op">;</span></span>
<span id="cb9-227"><a href=""></a>  </span>
<span id="cb9-228"><a href=""></a>  <span class="cf">if</span> (show_approach <span class="op">===</span> <span class="st">"Correlation view"</span> <span class="op">||</span> show_approach <span class="op">===</span> <span class="st">"Both approaches"</span>) {</span>
<span id="cb9-229"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb9-230"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"gray"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"8,4"</span>})</span>
<span id="cb9-231"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb9-232"><a href=""></a>  }</span>
<span id="cb9-233"><a href=""></a>  </span>
<span id="cb9-234"><a href=""></a>  <span class="cf">if</span> (show_approach <span class="op">===</span> <span class="st">"Regression view"</span> <span class="op">||</span> show_approach <span class="op">===</span> <span class="st">"Both approaches"</span>) {</span>
<span id="cb9-235"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb9-236"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb9-237"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb9-238"><a href=""></a>  }</span>
<span id="cb9-239"><a href=""></a>  </span>
<span id="cb9-240"><a href=""></a>  <span class="co">// Calculate stats</span></span>
<span id="cb9-241"><a href=""></a>  <span class="kw">const</span> mean_x <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">x</span>)<span class="op">;</span></span>
<span id="cb9-242"><a href=""></a>  <span class="kw">const</span> mean_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb9-243"><a href=""></a>  <span class="kw">const</span> r <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">*</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y))) <span class="op">/</span> </span>
<span id="cb9-244"><a href=""></a>           <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">x</span> <span class="op">-</span> mean_x) <span class="op">**</span> <span class="dv">2</span>)) <span class="op">*</span> d3<span class="op">.</span><span class="fu">sum</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>)))<span class="op">;</span></span>
<span id="cb9-245"><a href=""></a>  </span>
<span id="cb9-246"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb9-247"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb9-248"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (x) - Hours Consulting"</span>}<span class="op">,</span></span>
<span id="cb9-249"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (y) - Mental Wellbeing"</span>}<span class="op">,</span></span>
<span id="cb9-250"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-251"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Gray dashed = "imaginary" correlation line | Red solid = "real" regression line | r = </span><span class="sc">${</span>r<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb9-252"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb9-253"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Key Difference:</strong> Regression gives you a <strong>real line</strong> for making predictions!</p>
</section>
<section id="regression-terminology" class="slide level2">
<h2>Regression Terminology</h2>
<p><strong>One variable is always the outcome variable</strong> - Itâs your <strong>DV</strong> (the thing that depends on other variables) - Often called <strong>y</strong></p>
<p><strong>Other variables are called predictors</strong> - These are like <strong>IVs</strong> (the things that affect your outcome) - Often called <strong>x</strong> - Predictors can affect outcomes by varying amounts - <strong>Larger changes</strong> in outcomes = <strong>steeper slope</strong></p>
</section></section>
<section>
<section id="the-regression-line" class="title-slide slide level1 center" data-background-color="#228b22">
<h1>The Regression Line</h1>

</section>
<section id="how-the-regression-line-works" class="slide level2">
<h2>How the Regression Line Works</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb10" data-startfrom="276" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 275;"><span id="cb10-276"><a href=""></a>{</span>
<span id="cb10-277"><a href=""></a>  <span class="co">// Multiple scatter points at each x value</span></span>
<span id="cb10-278"><a href=""></a>  <span class="kw">const</span> scatter_pairs <span class="op">=</span> [</span>
<span id="cb10-279"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span></span>
<span id="cb10-280"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span></span>
<span id="cb10-281"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span></span>
<span id="cb10-282"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span></span>
<span id="cb10-283"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">78</span>}</span>
<span id="cb10-284"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb10-285"><a href=""></a>  </span>
<span id="cb10-286"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb10-287"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb10-288"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(scatter_pairs<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span>})<span class="op">,</span></span>
<span id="cb10-289"><a href=""></a>      Plot<span class="op">.</span><span class="fu">text</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">75</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Multiple observations at each x value creates proper scatter"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">14</span>})</span>
<span id="cb10-290"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb10-291"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Consulting (x)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb10-292"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing (y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb10-293"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb10-294"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"Real data has natural variability - multiple y values for similar x values"</span></span>
<span id="cb10-295"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb10-296"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="correlation-vs-regression-lines" class="slide level2">
<h2>Correlation vs Regression Lines</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="303" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 302;"><span id="cb11-303"><a href=""></a>viewof line_comparison <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb11-304"><a href=""></a>  [<span class="st">"Show correlation line"</span><span class="op">,</span> <span class="st">"Show regression line"</span><span class="op">,</span> <span class="st">"Show both"</span>]<span class="op">,</span></span>
<span id="cb11-305"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Show both"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Display:"</span>}</span>
<span id="cb11-306"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="311" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 310;"><span id="cb12-311"><a href=""></a>{</span>
<span id="cb12-312"><a href=""></a>  <span class="co">// More realistic scatter data with multiple points per x</span></span>
<span id="cb12-313"><a href=""></a>  <span class="kw">const</span> realistic_data <span class="op">=</span> [</span>
<span id="cb12-314"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">95</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">93</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">97</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">94</span>}<span class="op">,</span></span>
<span id="cb12-315"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">90</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">88</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">92</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">91</span>}<span class="op">,</span></span>
<span id="cb12-316"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">87</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">85</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">89</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span></span>
<span id="cb12-317"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">84</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">82</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">86</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span></span>
<span id="cb12-318"><a href=""></a>    {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">81</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">79</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">83</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">78</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">80</span>}</span>
<span id="cb12-319"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb12-320"><a href=""></a>  </span>
<span id="cb12-321"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [Plot<span class="op">.</span><span class="fu">dot</span>(realistic_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">8</span>})]<span class="op">;</span></span>
<span id="cb12-322"><a href=""></a>  </span>
<span id="cb12-323"><a href=""></a>  <span class="cf">if</span> (line_comparison <span class="op">===</span> <span class="st">"Show correlation line"</span> <span class="op">||</span> line_comparison <span class="op">===</span> <span class="st">"Show both"</span>) {</span>
<span id="cb12-324"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb12-325"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(realistic_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"gray"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"8,4"</span>})</span>
<span id="cb12-326"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb12-327"><a href=""></a>  }</span>
<span id="cb12-328"><a href=""></a>  </span>
<span id="cb12-329"><a href=""></a>  <span class="cf">if</span> (line_comparison <span class="op">===</span> <span class="st">"Show regression line"</span> <span class="op">||</span> line_comparison <span class="op">===</span> <span class="st">"Show both"</span>) {</span>
<span id="cb12-330"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb12-331"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(realistic_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb12-332"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb12-333"><a href=""></a>  }</span>
<span id="cb12-334"><a href=""></a>  </span>
<span id="cb12-335"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb12-336"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb12-337"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Hours Consulting (x)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span>]}<span class="op">,</span></span>
<span id="cb12-338"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Mental Wellbeing (y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">75</span><span class="op">,</span> <span class="dv">100</span>]}<span class="op">,</span></span>
<span id="cb12-339"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-340"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb12-341"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span></span>
<span id="cb12-342"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb12-343"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-10" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Correlation Trendline (Gray Dashed)</strong> - This line is <strong>imaginary</strong> - Says: âx and y tend to move together this closelyâ</p>
</div><div class="column" style="width:50%;">
<p><strong>Regression Line (Red Solid)</strong><br>
- This line is <strong>totally real!</strong> - Allows you to <strong>predict</strong> new data points - Says: âIf x is here, y is predicted to be thereâ</p>
</div>
</div>
</section></section>
<section>
<section id="regression-formula" class="title-slide slide level1 center" data-background-color="#ff6347">
<h1>Regression Formula</h1>

</section>
<section id="the-regression-equation" class="slide level2">
<h2>The Regression Equation</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="366" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 365;"><span id="cb13-366"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; font-size: 64px; margin: 50px 0;"&gt;</span></span>
<span id="cb13-367"><a href=""></a><span class="vs">&lt;strong&gt;y = Î²x + c&lt;/strong&gt;</span></span>
<span id="cb13-368"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb13-369"><a href=""></a></span>
<span id="cb13-370"><a href=""></a><span class="vs">&lt;div style="display: flex; justify-content: space-around; font-size: 24px; margin-top: 40px;"&gt;</span></span>
<span id="cb13-371"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb13-372"><a href=""></a><span class="vs">&lt;strong style="color: #1f77b4; font-size: 32px;"&gt;y&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-373"><a href=""></a><span class="vs">The value of the&lt;br/&gt;</span></span>
<span id="cb13-374"><a href=""></a><span class="vs">&lt;strong&gt;outcome variable&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-375"><a href=""></a><span class="vs">Also called a DV</span></span>
<span id="cb13-376"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb13-377"><a href=""></a></span>
<span id="cb13-378"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb13-379"><a href=""></a><span class="vs">&lt;strong style="color: #ff7f0e; font-size: 32px;"&gt;Î²&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-380"><a href=""></a><span class="vs">&lt;strong&gt;The slope&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-381"><a href=""></a><span class="vs">The amount that y changes&lt;br/&gt;</span></span>
<span id="cb13-382"><a href=""></a><span class="vs">for every amount that x changes</span></span>
<span id="cb13-383"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb13-384"><a href=""></a></span>
<span id="cb13-385"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb13-386"><a href=""></a><span class="vs">&lt;strong style="color: #2ca02c; font-size: 32px;"&gt;x&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-387"><a href=""></a><span class="vs">The value of the&lt;br/&gt;</span></span>
<span id="cb13-388"><a href=""></a><span class="vs">&lt;strong&gt;predictor&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-389"><a href=""></a><span class="vs">Also called an IV</span></span>
<span id="cb13-390"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb13-391"><a href=""></a></span>
<span id="cb13-392"><a href=""></a><span class="vs">&lt;div style="text-align: center;"&gt;</span></span>
<span id="cb13-393"><a href=""></a><span class="vs">&lt;strong style="color: #d62728; font-size: 32px;"&gt;c&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-394"><a href=""></a><span class="vs">&lt;strong&gt;The intercept&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb13-395"><a href=""></a><span class="vs">The value of y&lt;br/&gt;</span></span>
<span id="cb13-396"><a href=""></a><span class="vs">if x was 0</span></span>
<span id="cb13-397"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb13-398"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="interactive-build-your-own-regression-line" class="slide level2">
<h2>Interactive: Build Your Own Regression Line</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="406" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 405;"><span id="cb14-406"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4&gt;Adjust the regression parameters:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="408" data-source-offset="-50"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 407;"><span id="cb15-408"><a href=""></a>viewof slope_better <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span> {</span>
<span id="cb15-409"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">4</span> <span class="op">-</span> <span class="dv">1</span><span class="op">,</span>  <span class="co">// Random starting point!</span></span>
<span id="cb15-410"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span></span>
<span id="cb15-411"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Slope (Î²)"</span></span>
<span id="cb15-412"><a href=""></a>})</span>
<span id="cb15-413"><a href=""></a></span>
<span id="cb15-414"><a href=""></a>viewof intercept_better <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">5</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> {</span>
<span id="cb15-415"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> <span class="dv">2</span><span class="op">,</span>  <span class="co">// Random starting point!</span></span>
<span id="cb15-416"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb15-417"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Intercept (c)"</span></span>
<span id="cb15-418"><a href=""></a>})</span>
<span id="cb15-419"><a href=""></a></span>
<span id="cb15-420"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #f0f0f0; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb15-421"><a href=""></a><span class="vs">&lt;strong&gt;Your equation:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb15-422"><a href=""></a><span class="vs">y = </span><span class="sc">${</span>slope_better<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">x + </span><span class="sc">${</span>intercept_better<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span></span>
<span id="cb15-423"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-4" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb16" data-startfrom="425" data-source-offset="-550"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 424;"><span id="cb16-425"><a href=""></a>viewof show_best_fit <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">checkbox</span>([<span class="st">"Show best fit line"</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> []})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-5" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb17" data-startfrom="429" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 428;"><span id="cb17-429"><a href=""></a>{</span>
<span id="cb17-430"><a href=""></a>  <span class="co">// More scattered and realistic data points - multiple points per x</span></span>
<span id="cb17-431"><a href=""></a>  <span class="kw">const</span> x_data <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="fl">2.5</span><span class="op">,</span> <span class="fl">2.5</span><span class="op">,</span> <span class="fl">2.5</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="fl">5.5</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="fl">8.5</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="fl">11.5</span><span class="op">,</span> <span class="fl">11.5</span>]<span class="op">;</span></span>
<span id="cb17-432"><a href=""></a>  <span class="kw">const</span> y_data <span class="op">=</span> [<span class="dv">12</span><span class="op">,</span> <span class="dv">14</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="dv">13</span><span class="op">,</span> <span class="dv">17</span><span class="op">,</span> <span class="dv">11</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">13</span><span class="op">,</span> <span class="dv">18</span><span class="op">,</span> <span class="dv">16</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">14</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">16</span><span class="op">,</span> <span class="dv">21</span><span class="op">,</span> <span class="dv">19</span><span class="op">,</span> <span class="dv">23</span><span class="op">,</span> <span class="dv">17</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">;</span>  <span class="co">// More variation!</span></span>
<span id="cb17-433"><a href=""></a></span>
<span id="cb17-434"><a href=""></a>  <span class="kw">const</span> x_line <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">13</span>]<span class="op">;</span></span>
<span id="cb17-435"><a href=""></a>  <span class="kw">const</span> y_line <span class="op">=</span> x_line<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> slope_better <span class="op">*</span> xi <span class="op">+</span> intercept_better)<span class="op">;</span></span>
<span id="cb17-436"><a href=""></a></span>
<span id="cb17-437"><a href=""></a>  <span class="co">// True regression line (steeper slope)</span></span>
<span id="cb17-438"><a href=""></a>  <span class="kw">const</span> true_slope <span class="op">=</span> <span class="fl">1.2</span><span class="op">;</span></span>
<span id="cb17-439"><a href=""></a>  <span class="kw">const</span> true_intercept <span class="op">=</span> <span class="dv">8</span><span class="op">;</span></span>
<span id="cb17-440"><a href=""></a>  <span class="kw">const</span> y_true_line <span class="op">=</span> x_line<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> true_slope <span class="op">*</span> xi <span class="op">+</span> true_intercept)<span class="op">;</span></span>
<span id="cb17-441"><a href=""></a></span>
<span id="cb17-442"><a href=""></a>  <span class="co">// Calculate prediction errors</span></span>
<span id="cb17-443"><a href=""></a>  <span class="kw">const</span> errors <span class="op">=</span> x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>((slope_better <span class="op">*</span> xi <span class="op">+</span> intercept_better) <span class="op">-</span> y_data[i]))<span class="op">;</span></span>
<span id="cb17-444"><a href=""></a>  <span class="kw">const</span> total_error <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(errors)<span class="op">;</span></span>
<span id="cb17-445"><a href=""></a>  <span class="kw">const</span> best_fit_error <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>((true_slope <span class="op">*</span> xi <span class="op">+</span> true_intercept) <span class="op">-</span> y_data[i])))<span class="op">;</span></span>
<span id="cb17-446"><a href=""></a></span>
<span id="cb17-447"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [</span>
<span id="cb17-448"><a href=""></a>    <span class="co">// Your line</span></span>
<span id="cb17-449"><a href=""></a>    Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">0</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_line[<span class="dv">0</span>]}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">1</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_line[<span class="dv">1</span>]}]<span class="op">,</span> </span>
<span id="cb17-450"><a href=""></a>              {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb17-451"><a href=""></a>    <span class="co">// Data points (bigger and more visible)</span></span>
<span id="cb17-452"><a href=""></a>    Plot<span class="op">.</span><span class="fu">dot</span>(x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_data[i]}))<span class="op">,</span> </span>
<span id="cb17-453"><a href=""></a>             {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb17-454"><a href=""></a>    <span class="co">// Error lines (more dramatic)</span></span>
<span id="cb17-455"><a href=""></a>    Plot<span class="op">.</span><span class="fu">link</span>(x_data<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({</span>
<span id="cb17-456"><a href=""></a>      <span class="dt">x1</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> y_data[i]<span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> slope_better <span class="op">*</span> xi <span class="op">+</span> intercept_better</span>
<span id="cb17-457"><a href=""></a>    }))<span class="op">,</span> {</span>
<span id="cb17-458"><a href=""></a>      <span class="dt">x1</span><span class="op">:</span> <span class="st">"x1"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> <span class="st">"x2"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span></span>
<span id="cb17-459"><a href=""></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"3,3"</span></span>
<span id="cb17-460"><a href=""></a>    })</span>
<span id="cb17-461"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb17-462"><a href=""></a></span>
<span id="cb17-463"><a href=""></a>  <span class="co">// Add best fit line if checked</span></span>
<span id="cb17-464"><a href=""></a>  <span class="cf">if</span> (show_best_fit<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb17-465"><a href=""></a>    marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb17-466"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">0</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_true_line[<span class="dv">0</span>]}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> x_line[<span class="dv">1</span>]<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y_true_line[<span class="dv">1</span>]}]<span class="op">,</span> </span>
<span id="cb17-467"><a href=""></a>                {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"8,4"</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.8</span>})</span>
<span id="cb17-468"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb17-469"><a href=""></a>  }</span>
<span id="cb17-470"><a href=""></a></span>
<span id="cb17-471"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb17-472"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb17-473"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">13</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"x (Predictor)"</span>}<span class="op">,</span></span>
<span id="cb17-474"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">5</span><span class="op">,</span> <span class="dv">25</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"y (Outcome)"</span>}<span class="op">,</span></span>
<span id="cb17-475"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb17-476"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Your error: </span><span class="sc">${</span>total_error<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> | Best fit error: </span><span class="sc">${</span>best_fit_error<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> | </span><span class="sc">${</span>total_error <span class="op">&lt;</span> best_fit_error <span class="op">*</span> <span class="fl">1.1</span> <span class="op">?</span> <span class="st">"ð¯ Very close!"</span> <span class="op">:</span> <span class="st">"Keep adjusting!"</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb17-477"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb17-478"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Challenge:</strong> Can you beat the best-fit line? Green dashed = optimal solution!</p>
</section></section>
<section>
<section id="understanding-prediction-error" class="title-slide slide level1 center" data-background-color="#9370db">
<h1>Understanding Prediction Error</h1>

</section>
<section id="error-natural-human-variability" class="slide level2">
<h2>Error = Natural Human Variability</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb18" data-startfrom="489" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 488;"><span id="cb18-489"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 28px; text-align: center; margin: 40px 0; line-height: 1.6;"&gt;</span></span>
<span id="cb18-490"><a href=""></a><span class="vs">&lt;p&gt;&lt;strong&gt;Why isn't prediction perfect?&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb18-491"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb18-492"><a href=""></a><span class="vs">&lt;p&gt;Humans are naturally variable! Even with the same study hours,&lt;br/&gt;</span></span>
<span id="cb18-493"><a href=""></a><span class="vs">different students get different exam scores because of:&lt;/p&gt;</span></span>
<span id="cb18-494"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb18-495"><a href=""></a><span class="vs">&lt;div style="font-size: 24px; text-align: left; max-width: 600px; margin: 0 auto;"&gt;</span></span>
<span id="cb18-496"><a href=""></a><span class="vs">â¢ &lt;strong&gt;Sleep quality&lt;/strong&gt; the night before&lt;br/&gt;</span></span>
<span id="cb18-497"><a href=""></a><span class="vs">â¢ &lt;strong&gt;Test anxiety&lt;/strong&gt; levels&lt;br/&gt;</span></span>
<span id="cb18-498"><a href=""></a><span class="vs">â¢ &lt;strong&gt;Prior knowledge&lt;/strong&gt; differences&lt;br/&gt;</span></span>
<span id="cb18-499"><a href=""></a><span class="vs">â¢ &lt;strong&gt;Motivation&lt;/strong&gt; on that day&lt;br/&gt;</span></span>
<span id="cb18-500"><a href=""></a><span class="vs">â¢ &lt;strong&gt;Luck&lt;/strong&gt; with question topics&lt;br/&gt;</span></span>
<span id="cb18-501"><a href=""></a><span class="vs">â¢ &lt;strong&gt;Coffee consumption&lt;/strong&gt; ð</span></span>
<span id="cb18-502"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb18-503"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb18-504"><a href=""></a><span class="vs">&lt;p style="color: #d32f2f;"&gt;&lt;strong&gt;Error term = All the natural variability&lt;br/&gt;</span></span>
<span id="cb18-505"><a href=""></a><span class="vs">we cannot explain with our predictor&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb18-506"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="perfect-prediction-vs-reality" class="slide level2">
<h2>Perfect Prediction vs Reality</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb19" data-startfrom="513" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 512;"><span id="cb19-513"><a href=""></a>viewof error_scenario <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb19-514"><a href=""></a>  [<span class="st">"Perfect prediction (no error)"</span><span class="op">,</span> <span class="st">"Some natural variability"</span><span class="op">,</span> <span class="st">"Lots of natural variability"</span>]<span class="op">,</span></span>
<span id="cb19-515"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Some natural variability"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Scenario:"</span>}</span>
<span id="cb19-516"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb20" data-startfrom="521" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 520;"><span id="cb20-521"><a href=""></a>{</span>
<span id="cb20-522"><a href=""></a>  <span class="kw">const</span> x_vals <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">11</span>)<span class="op">;</span></span>
<span id="cb20-523"><a href=""></a>  <span class="kw">let</span> y_vals<span class="op">,</span> error_level<span class="op">,</span> data_points <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb20-524"><a href=""></a>  </span>
<span id="cb20-525"><a href=""></a>  <span class="cf">if</span> (error_scenario <span class="op">===</span> <span class="st">"Perfect prediction (no error)"</span>) {</span>
<span id="cb20-526"><a href=""></a>    <span class="co">// Perfect - everyone gets exactly what's predicted</span></span>
<span id="cb20-527"><a href=""></a>    x_vals<span class="op">.</span><span class="fu">forEach</span>(x <span class="kw">=&gt;</span> {</span>
<span id="cb20-528"><a href=""></a>      data_points<span class="op">.</span><span class="fu">push</span>({<span class="dt">x</span><span class="op">:</span> x<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">3</span>})<span class="op">;</span></span>
<span id="cb20-529"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb20-530"><a href=""></a>    error_level <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb20-531"><a href=""></a>  } <span class="cf">else</span> <span class="cf">if</span> (error_scenario <span class="op">===</span> <span class="st">"Some natural variability"</span>) {</span>
<span id="cb20-532"><a href=""></a>    <span class="co">// Some variability - natural human differences</span></span>
<span id="cb20-533"><a href=""></a>    x_vals<span class="op">.</span><span class="fu">forEach</span>(x <span class="kw">=&gt;</span> {</span>
<span id="cb20-534"><a href=""></a>      <span class="kw">const</span> base_y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb20-535"><a href=""></a>      <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb20-536"><a href=""></a>        data_points<span class="op">.</span><span class="fu">push</span>({<span class="dt">x</span><span class="op">:</span> x <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> base_y <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">4</span>})<span class="op">;</span></span>
<span id="cb20-537"><a href=""></a>      }</span>
<span id="cb20-538"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb20-539"><a href=""></a>    error_level <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb20-540"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb20-541"><a href=""></a>    <span class="co">// Lots of variability - many other factors matter</span></span>
<span id="cb20-542"><a href=""></a>    x_vals<span class="op">.</span><span class="fu">forEach</span>(x <span class="kw">=&gt;</span> {</span>
<span id="cb20-543"><a href=""></a>      <span class="kw">const</span> base_y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb20-544"><a href=""></a>      <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">4</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb20-545"><a href=""></a>        data_points<span class="op">.</span><span class="fu">push</span>({<span class="dt">x</span><span class="op">:</span> x <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.4</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> base_y <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">10</span>})<span class="op">;</span></span>
<span id="cb20-546"><a href=""></a>      }</span>
<span id="cb20-547"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb20-548"><a href=""></a>    error_level <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb20-549"><a href=""></a>  }</span>
<span id="cb20-550"><a href=""></a>  </span>
<span id="cb20-551"><a href=""></a>  <span class="kw">const</span> line_data <span class="op">=</span> [{<span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">3</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">25</span>}]<span class="op">;</span></span>
<span id="cb20-552"><a href=""></a>  </span>
<span id="cb20-553"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb20-554"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb20-555"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>(line_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb20-556"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.7</span>})</span>
<span id="cb20-557"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb20-558"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">11</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Study Hours (x)"</span>}<span class="op">,</span></span>
<span id="cb20-559"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">30</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Exam Score (y)"</span>}<span class="op">,</span></span>
<span id="cb20-560"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb20-561"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> error_level <span class="op">===</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"Impossible: Perfect prediction means no human variability"</span> <span class="op">:</span></span>
<span id="cb20-562"><a href=""></a>             error_level <span class="op">===</span> <span class="dv">1</span> <span class="op">?</span> <span class="st">"Realistic: Some natural variability between people"</span> <span class="op">:</span></span>
<span id="cb20-563"><a href=""></a>             <span class="st">"Common: Lots of factors we didn't measure affect the outcome"</span></span>
<span id="cb20-564"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb20-565"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-16" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Key Insight:</strong> - <strong>Less error</strong> = our predictor explains most human variability - <strong>More error</strong> = many other unmeasured factors matter too</p>
</section></section>
<section>
<section id="the-rÂ²-statistic" class="title-slide slide level1 center" data-background-color="#4682b4">
<h1>The RÂ² Statistic</h1>

</section>
<section id="understanding-rÂ²-a-measure-of-precision" class="slide level2">
<h2>Understanding RÂ²: A Measure of Precision</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb21" data-startfrom="578" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 577;"><span id="cb21-578"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; font-size: 36px; margin: 40px 0;"&gt;</span></span>
<span id="cb21-579"><a href=""></a><span class="vs">&lt;strong&gt;RÂ² = Proportion of variance in Y explained by X&lt;/strong&gt;</span></span>
<span id="cb21-580"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb21-581"><a href=""></a><span class="vs">&lt;div style="font-size: 24px;"&gt;</span></span>
<span id="cb21-582"><a href=""></a><span class="vs">If RÂ² = 0.60, then:&lt;br/&gt;</span></span>
<span id="cb21-583"><a href=""></a><span class="vs">â¢ 60% of variation in Y is due to X&lt;br/&gt;</span></span>
<span id="cb21-584"><a href=""></a><span class="vs">â¢ 40% of variation is due to other factors (natural variability)</span></span>
<span id="cb21-585"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb21-586"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="expression">

</div>
</div>
</div>
<p><strong>Whatâs a pirateâs favourite test statistic?</strong> <strong>RÂ²!</strong></p>
</section>
<section id="interactive-rÂ²-exploration" class="slide level2">
<h2>Interactive: RÂ² Exploration</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb22" data-startfrom="596" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 595;"><span id="cb22-596"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;p&gt;&lt;strong&gt;Compare RÂ² values:&lt;/strong&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb23" data-startfrom="598" data-source-offset="-50"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 597;"><span id="cb23-598"><a href=""></a>viewof r_squared_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.05</span><span class="op">,</span> <span class="fl">0.98</span>]<span class="op">,</span> {</span>
<span id="cb23-599"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">0.6</span><span class="op">,</span></span>
<span id="cb23-600"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.05</span><span class="op">,</span></span>
<span id="cb23-601"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Target RÂ²"</span></span>
<span id="cb23-602"><a href=""></a>})</span>
<span id="cb23-603"><a href=""></a></span>
<span id="cb23-604"><a href=""></a>viewof dataset_size <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">40</span><span class="op">,</span> <span class="dv">120</span>]<span class="op">,</span> {</span>
<span id="cb23-605"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span></span>
<span id="cb23-606"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb23-607"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Number of data points"</span></span>
<span id="cb23-608"><a href=""></a>})</span>
<span id="cb23-609"><a href=""></a></span>
<span id="cb23-610"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #e8f4f8; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb23-611"><a href=""></a><span class="vs">&lt;strong&gt;Current RÂ²:&lt;/strong&gt; </span><span class="sc">${</span>r_squared_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;</span></span>
<span id="cb23-612"><a href=""></a><span class="vs">&lt;strong&gt;Interpretation:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb23-613"><a href=""></a><span class="sc">${</span>(r_squared_dramatic <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">% of variance explained&lt;br/&gt;</span></span>
<span id="cb23-614"><a href=""></a><span class="sc">${</span>(<span class="dv">100</span> <span class="op">-</span> r_squared_dramatic <span class="op">*</span> <span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">% due to natural variability</span></span>
<span id="cb23-615"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-18-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb24" data-startfrom="619" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 618;"><span id="cb24-619"><a href=""></a>{</span>
<span id="cb24-620"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> dataset_size<span class="op">;</span></span>
<span id="cb24-621"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">12</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span>)<span class="op">;</span></span>
<span id="cb24-622"><a href=""></a>  </span>
<span id="cb24-623"><a href=""></a>  <span class="co">// Create much more dramatic differences</span></span>
<span id="cb24-624"><a href=""></a>  <span class="kw">const</span> slope <span class="op">=</span> <span class="dv">3</span><span class="op">;</span>  <span class="co">// Steeper slope</span></span>
<span id="cb24-625"><a href=""></a>  <span class="kw">const</span> intercept <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb24-626"><a href=""></a>  <span class="kw">const</span> true_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> slope <span class="op">*</span> xi <span class="op">+</span> intercept)<span class="op">;</span></span>
<span id="cb24-627"><a href=""></a>  </span>
<span id="cb24-628"><a href=""></a>  <span class="co">// Much more dramatic noise differences</span></span>
<span id="cb24-629"><a href=""></a>  <span class="kw">const</span> var_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">variance</span>(true_y)<span class="op">;</span></span>
<span id="cb24-630"><a href=""></a>  <span class="kw">const</span> noise_multiplier <span class="op">=</span> r_squared_dramatic <span class="op">&lt;</span> <span class="fl">0.3</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> r_squared_dramatic <span class="op">&lt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="dv">4</span> <span class="op">:</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb24-631"><a href=""></a>  <span class="kw">const</span> sd_residual <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(var_y <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> r_squared_dramatic)) <span class="op">*</span> noise_multiplier<span class="op">;</span></span>
<span id="cb24-632"><a href=""></a>  <span class="kw">const</span> y <span class="op">=</span> true_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> sd_residual)<span class="op">;</span></span>
<span id="cb24-633"><a href=""></a>  </span>
<span id="cb24-634"><a href=""></a>  <span class="kw">const</span> data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb24-635"><a href=""></a>  </span>
<span id="cb24-636"><a href=""></a>  <span class="co">// Calculate actual RÂ²</span></span>
<span id="cb24-637"><a href=""></a>  <span class="kw">const</span> mean_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(y)<span class="op">;</span></span>
<span id="cb24-638"><a href=""></a>  <span class="kw">const</span> ss_tot <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> (yi <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb24-639"><a href=""></a>  <span class="kw">const</span> predicted_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> slope <span class="op">*</span> xi <span class="op">+</span> intercept)<span class="op">;</span></span>
<span id="cb24-640"><a href=""></a>  <span class="kw">const</span> ss_res <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(y<span class="op">.</span><span class="fu">map</span>((yi<span class="op">,</span> i) <span class="kw">=&gt;</span> (yi <span class="op">-</span> predicted_y[i]) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb24-641"><a href=""></a>  <span class="kw">const</span> actual_r2 <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span> <span class="op">-</span> (ss_res <span class="op">/</span> ss_tot))<span class="op">;</span></span>
<span id="cb24-642"><a href=""></a>  </span>
<span id="cb24-643"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb24-644"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb24-645"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.7</span>})<span class="op">,</span></span>
<span id="cb24-646"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb24-647"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb24-648"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (x)"</span>}<span class="op">,</span></span>
<span id="cb24-649"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (y)"</span>}<span class="op">,</span></span>
<span id="cb24-650"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb24-651"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Target RÂ² = </span><span class="sc">${</span>r_squared_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> | Actual RÂ² = </span><span class="sc">${</span>actual_r2<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> | </span><span class="sc">${</span>actual_r2 <span class="op">&gt;</span> <span class="fl">0.8</span> <span class="op">?</span> <span class="st">"Very tight fit!"</span> <span class="op">:</span> actual_r2 <span class="op">&gt;</span> <span class="fl">0.5</span> <span class="op">?</span> <span class="st">"Moderate fit"</span> <span class="op">:</span> <span class="st">"Loose fit - lots of unexplained variance"</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb24-652"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb24-653"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-19" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Notice:</strong> Low RÂ² = scattered points, High RÂ² = tight clustering around line!</p>
</section></section>
<section>
<section id="the-Î²-statistic" class="title-slide slide level1 center" data-background-color="#dc143c">
<h1>The Î² Statistic</h1>

</section>
<section id="understanding-Î²-a-measure-of-magnitude" class="slide level2">
<h2>Understanding Î²: A Measure of Magnitude</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb25" data-startfrom="664" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 663;"><span id="cb25-664"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; font-size: 36px; margin: 40px 0;"&gt;</span></span>
<span id="cb25-665"><a href=""></a><span class="vs">&lt;strong&gt;Î² = How much y changes each time x changes&lt;/strong&gt;</span></span>
<span id="cb25-666"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb25-667"><a href=""></a><span class="vs">&lt;div style="font-size: 24px;"&gt;</span></span>
<span id="cb25-668"><a href=""></a><span class="vs">This is the &lt;strong&gt;slope&lt;/strong&gt; of the regression line&lt;br/&gt;</span></span>
<span id="cb25-669"><a href=""></a><span class="vs">Steeper line = larger Î²&lt;br/&gt;</span></span>
<span id="cb25-670"><a href=""></a><span class="vs">Î² does NOT tell you how close points are to the line</span></span>
<span id="cb25-671"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb25-672"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="interactive-Î²-vs-rÂ²-can-you-tell-them-apart" class="slide level2">
<h2>Interactive: Î² vs RÂ² â Can You Tell Them Apart?</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb26" data-startfrom="680" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 679;"><span id="cb26-680"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4&gt;Set regression characteristics:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-21-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb27" data-startfrom="682" data-source-offset="-48"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 681;"><span id="cb27-682"><a href=""></a>viewof beta_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span> {  <span class="co">// More extreme slopes!</span></span>
<span id="cb27-683"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb27-684"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb27-685"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Î² (Slope magnitude)"</span></span>
<span id="cb27-686"><a href=""></a>})</span>
<span id="cb27-687"><a href=""></a></span>
<span id="cb27-688"><a href=""></a>viewof r2_dramatic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.1</span><span class="op">,</span> <span class="fl">0.95</span>]<span class="op">,</span> {</span>
<span id="cb27-689"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="fl">0.7</span><span class="op">,</span></span>
<span id="cb27-690"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.05</span><span class="op">,</span></span>
<span id="cb27-691"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"RÂ² (Fit precision)"</span></span>
<span id="cb27-692"><a href=""></a>})</span>
<span id="cb27-693"><a href=""></a></span>
<span id="cb27-694"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #fff3cd; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb27-695"><a href=""></a><span class="vs">&lt;strong&gt;Configuration:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb27-696"><a href=""></a><span class="vs">Slope (Î²): </span><span class="sc">${</span>beta_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">&lt;br/&gt;</span></span>
<span id="cb27-697"><a href=""></a><span class="vs">Precision (RÂ²): </span><span class="sc">${</span>r2_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span></span>
<span id="cb27-698"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb27-699"><a href=""></a><span class="vs">&lt;strong&gt;</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(beta_dramatic) <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> <span class="st">"HIGH"</span> <span class="op">:</span> <span class="st">"LOW"</span><span class="sc">}</span><span class="vs"> magnitude&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb27-700"><a href=""></a><span class="vs">&lt;strong&gt;</span><span class="sc">${</span>r2_dramatic <span class="op">&gt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="st">"HIGH"</span> <span class="op">:</span> <span class="st">"LOW"</span><span class="sc">}</span><span class="vs"> precision&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb27-701"><a href=""></a><span class="vs">&lt;em&gt;</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(beta_dramatic) <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">&amp;&amp;</span> r2_dramatic <span class="op">&gt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="st">"ð¯ Strong &amp; precise!"</span> <span class="op">:</span> </span>
<span id="cb27-702"><a href=""></a>     <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(beta_dramatic) <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">&amp;&amp;</span> r2_dramatic <span class="op">&lt;=</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="st">"ð Strong but imprecise"</span> <span class="op">:</span></span>
<span id="cb27-703"><a href=""></a>     <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(beta_dramatic) <span class="op">&lt;=</span> <span class="dv">2</span> <span class="op">&amp;&amp;</span> r2_dramatic <span class="op">&gt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="st">"ð Weak but precise"</span> <span class="op">:</span></span>
<span id="cb27-704"><a href=""></a>     <span class="st">"â Weak and imprecise"</span><span class="sc">}</span><span class="vs">&lt;/em&gt;</span></span>
<span id="cb27-705"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-21-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-21-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-21-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb28" data-startfrom="709" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 708;"><span id="cb28-709"><a href=""></a>{</span>
<span id="cb28-710"><a href=""></a>  <span class="kw">const</span> n <span class="op">=</span> <span class="dv">70</span><span class="op">;</span></span>
<span id="cb28-711"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(n)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> (i <span class="op">/</span> n) <span class="op">*</span> <span class="dv">8</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span>)<span class="op">;</span></span>
<span id="cb28-712"><a href=""></a>  <span class="kw">const</span> true_y <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> beta_dramatic <span class="op">*</span> xi <span class="op">+</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb28-713"><a href=""></a>  </span>
<span id="cb28-714"><a href=""></a>  <span class="co">// Create more dramatic scatter differences</span></span>
<span id="cb28-715"><a href=""></a>  <span class="kw">const</span> var_y <span class="op">=</span> d3<span class="op">.</span><span class="fu">variance</span>(true_y)<span class="op">;</span></span>
<span id="cb28-716"><a href=""></a>  <span class="kw">const</span> scatter_factor <span class="op">=</span> r2_dramatic <span class="op">&lt;</span> <span class="fl">0.3</span> <span class="op">?</span> <span class="dv">6</span> <span class="op">:</span> r2_dramatic <span class="op">&lt;</span> <span class="fl">0.6</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb28-717"><a href=""></a>  <span class="kw">const</span> sd_residual <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(var_y <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> r2_dramatic)) <span class="op">*</span> scatter_factor<span class="op">;</span></span>
<span id="cb28-718"><a href=""></a>  <span class="kw">const</span> y <span class="op">=</span> true_y<span class="op">.</span><span class="fu">map</span>(yi <span class="kw">=&gt;</span> yi <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> sd_residual)<span class="op">;</span></span>
<span id="cb28-719"><a href=""></a>  </span>
<span id="cb28-720"><a href=""></a>  <span class="kw">const</span> data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>((xi<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y[i]}))<span class="op">;</span></span>
<span id="cb28-721"><a href=""></a>  <span class="kw">const</span> line_data <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(xi <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> xi<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> beta_dramatic <span class="op">*</span> xi <span class="op">+</span> <span class="dv">10</span>}))<span class="op">;</span></span>
<span id="cb28-722"><a href=""></a>  </span>
<span id="cb28-723"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb28-724"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb28-725"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.6</span>})<span class="op">,</span></span>
<span id="cb28-726"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>(line_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">5</span>})</span>
<span id="cb28-727"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb28-728"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (x)"</span>}<span class="op">,</span></span>
<span id="cb28-729"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (y)"</span>}<span class="op">,</span></span>
<span id="cb28-730"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb28-731"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Î² = </span><span class="sc">${</span>beta_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> (slope steepness) | RÂ² = </span><span class="sc">${</span>r2_dramatic<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> (tightness of fit)`</span></span>
<span id="cb28-732"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb28-733"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-22" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Compare the patterns:</strong> - <strong>High Î² + Low RÂ²</strong> = Steep line but very scattered points - <strong>Low Î² + High RÂ²</strong> = Gentle slope but tight fit around line<br>
- <strong>High Î² + High RÂ²</strong> = Steep AND tight = strong, precise relationship!</p>
</section></section>
<section>
<section id="anova-vs-regression-logic" class="title-slide slide level1 center" data-background-color="#2e8b57">
<h1>ANOVA vs Regression Logic</h1>

</section>
<section id="both-use-same-logic-known-value-predicted-outcome-error" class="slide level2">
<h2>Both Use Same Logic: Known Value â Predicted Outcome Â± Error</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="anova-categorical-iv">ANOVA: Categorical IV</h3>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb29" data-startfrom="752" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 751;"><span id="cb29-752"><a href=""></a>{</span>
<span id="cb29-753"><a href=""></a>  <span class="co">// ANOVA-style data with three groups - MORE scatter points</span></span>
<span id="cb29-754"><a href=""></a>  <span class="kw">const</span> group_data <span class="op">=</span> [</span>
<span id="cb29-755"><a href=""></a>    <span class="co">// Group 1 - multiple points with variability</span></span>
<span id="cb29-756"><a href=""></a>    <span class="op">...</span>d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">20</span>)<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> ({<span class="dt">group</span><span class="op">:</span> <span class="st">"Group 1"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">12</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span>}))<span class="op">,</span></span>
<span id="cb29-757"><a href=""></a>    <span class="co">// Group 2  </span></span>
<span id="cb29-758"><a href=""></a>    <span class="op">...</span>d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">20</span>)<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> ({<span class="dt">group</span><span class="op">:</span> <span class="st">"Group 2"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">2</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">16</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span>}))<span class="op">,</span></span>
<span id="cb29-759"><a href=""></a>    <span class="co">// Group 3</span></span>
<span id="cb29-760"><a href=""></a>    <span class="op">...</span>d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">20</span>)<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> ({<span class="dt">group</span><span class="op">:</span> <span class="st">"Group 3"</span><span class="op">,</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">3</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.15</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">20</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span>}))</span>
<span id="cb29-761"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb29-762"><a href=""></a>  </span>
<span id="cb29-763"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb29-764"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb29-765"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(group_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"group"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb29-766"><a href=""></a>      <span class="co">// Group means</span></span>
<span id="cb29-767"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">12</span><span class="op">,</span> <span class="dv">16</span><span class="op">,</span> <span class="dv">20</span>]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>]<span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb29-768"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">12</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">16</span>}<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">20</span>}]<span class="op">,</span> </span>
<span id="cb29-769"><a href=""></a>               {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})</span>
<span id="cb29-770"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb29-771"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Group (categorical)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="fl">0.5</span><span class="op">,</span> <span class="fl">3.5</span>]<span class="op">,</span> <span class="dt">tickFormat</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`Group </span><span class="sc">${</span>d<span class="sc">}</span><span class="vs">`</span>}<span class="op">,</span></span>
<span id="cb29-772"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (Y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">5</span><span class="op">,</span> <span class="dv">25</span>]}<span class="op">,</span></span>
<span id="cb29-773"><a href=""></a>    <span class="dt">color</span><span class="op">:</span> {<span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span>}<span class="op">,</span></span>
<span id="cb29-774"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb29-775"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span></span>
<span id="cb29-776"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb29-777"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"If you know group â predict group mean Â± error"</span></span>
<span id="cb29-778"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb29-779"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-23" data-nodetype="expression">

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<h3 id="regression-continuous-iv">Regression: Continuous IV</h3>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb30" data-startfrom="789" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 788;"><span id="cb30-789"><a href=""></a>{</span>
<span id="cb30-790"><a href=""></a>  <span class="co">// Regression data - MORE scatter points</span></span>
<span id="cb30-791"><a href=""></a>  <span class="kw">const</span> reg_data <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">60</span>)<span class="op">.</span><span class="fu">map</span>(i <span class="kw">=&gt;</span> {</span>
<span id="cb30-792"><a href=""></a>    <span class="kw">const</span> x <span class="op">=</span> (i <span class="op">/</span> <span class="dv">60</span>) <span class="op">*</span> <span class="dv">8</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span><span class="op">;</span></span>
<span id="cb30-793"><a href=""></a>    <span class="kw">const</span> y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">8</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">4</span><span class="op">;</span></span>
<span id="cb30-794"><a href=""></a>    <span class="cf">return</span> {<span class="dt">x</span><span class="op">:</span> x<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> y}<span class="op">;</span></span>
<span id="cb30-795"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb30-796"><a href=""></a>  </span>
<span id="cb30-797"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb30-798"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb30-799"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(reg_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb30-800"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(reg_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb30-801"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb30-802"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Predictor (continuous)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]}<span class="op">,</span></span>
<span id="cb30-803"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Outcome (Y)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">5</span><span class="op">,</span> <span class="dv">25</span>]}<span class="op">,</span></span>
<span id="cb30-804"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb30-805"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">350</span><span class="op">,</span></span>
<span id="cb30-806"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb30-807"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"If you know X â predict from line Â± error"</span></span>
<span id="cb30-808"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb30-809"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-24" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
<p><strong>Same underlying logic:</strong> Use what you know to predict what you donât know, accounting for natural variability!</p>
</section></section>
<section>
<section id="ice-cream-example" class="title-slide slide level1 center" data-background-color="#ffa500">
<h1>Ice Cream Example</h1>

</section>
<section id="research-question-does-temperature-predict-ice-cream-sales" class="slide level2">
<h2>Research Question: Does temperature predict ice cream sales?</h2>
<p><strong>Predictor (IV):</strong> Temperature in degrees C<br>
<strong>Outcome (DV):</strong> Ice cream sales in RM<br>
<strong>Hypothesis:</strong> Temperature will positively predict ice cream sales</p>
</section>
<section id="interactive-ice-cream-analysis" class="slide level2">
<h2>Interactive: Ice Cream Analysis</h2>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb31" data-startfrom="829" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 828;"><span id="cb31-829"><a href=""></a><span class="co">// More realistic ice cream data with more scatter</span></span>
<span id="cb31-830"><a href=""></a>ice_data_realistic <span class="op">=</span> [</span>
<span id="cb31-831"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">4500</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">5200</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">6200</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">5800</span>}<span class="op">,</span></span>
<span id="cb31-832"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">7800</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">6900</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">19</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">6900</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">19</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">7600</span>}<span class="op">,</span></span>
<span id="cb31-833"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">9100</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">8200</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">22</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">8800</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">22</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">9500</span>}<span class="op">,</span></span>
<span id="cb31-834"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">23</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">11200</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">23</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">10400</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">10500</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">11800</span>}<span class="op">,</span></span>
<span id="cb31-835"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">13800</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">12600</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">28</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">12400</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">28</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">13900</span>}<span class="op">,</span></span>
<span id="cb31-836"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">29</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">15600</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">29</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">14200</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">14800</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">16100</span>}<span class="op">,</span></span>
<span id="cb31-837"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">17200</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">15800</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">33</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">16100</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">33</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">17800</span>}<span class="op">,</span></span>
<span id="cb31-838"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">19500</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">18100</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">36</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">18300</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">36</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">20200</span>}<span class="op">,</span></span>
<span id="cb31-839"><a href=""></a>  {<span class="dt">temp</span><span class="op">:</span> <span class="dv">38</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">21800</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">38</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">19900</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">39</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">20100</span>}<span class="op">,</span> {<span class="dt">temp</span><span class="op">:</span> <span class="dv">39</span><span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> <span class="dv">22300</span>}</span>
<span id="cb31-840"><a href=""></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-25" data-nodetype="declaration">

</div>
</div>
</div>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb32" data-startfrom="846" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 845;"><span id="cb32-846"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4&gt;Explore the regression:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-26-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb33" data-startfrom="848" data-source-offset="-40"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 847;"><span id="cb33-848"><a href=""></a>viewof predict_temp_improved <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">10</span><span class="op">,</span> <span class="dv">45</span>]<span class="op">,</span> {</span>
<span id="cb33-849"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span></span>
<span id="cb33-850"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb33-851"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Predict sales at temperature (Â°C):"</span></span>
<span id="cb33-852"><a href=""></a>})</span>
<span id="cb33-853"><a href=""></a></span>
<span id="cb33-854"><a href=""></a>viewof show_elements <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">checkbox</span>(</span>
<span id="cb33-855"><a href=""></a>  [<span class="st">"Show confidence band"</span><span class="op">,</span> <span class="st">"Show residuals"</span><span class="op">,</span> <span class="st">"Show RÂ² breakdown"</span>]<span class="op">,</span></span>
<span id="cb33-856"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> [<span class="st">"Show confidence band"</span>]}</span>
<span id="cb33-857"><a href=""></a>)</span>
<span id="cb33-858"><a href=""></a></span>
<span id="cb33-859"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #ffe4b5; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb33-860"><a href=""></a><span class="vs">&lt;strong&gt;Business Prediction:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb33-861"><a href=""></a><span class="vs">At </span><span class="sc">${</span>predict_temp_improved<span class="sc">}</span><span class="vs">Â°C â &lt;strong&gt;RM </span><span class="sc">${</span>(<span class="dv">380</span> <span class="op">*</span> predict_temp_improved <span class="op">+</span> <span class="dv">1200</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="sc">}</span><span class="vs">&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb33-862"><a href=""></a><span class="vs">&lt;em&gt;Each 1Â°C increase â +RM380 sales&lt;/em&gt;&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb33-863"><a href=""></a><span class="vs">&lt;strong&gt;Purpose:&lt;/strong&gt; Plan inventory &amp; staffing!</span></span>
<span id="cb33-864"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-26-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-26-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-26-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb34" data-startfrom="868" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 867;"><span id="cb34-868"><a href=""></a>{</span>
<span id="cb34-869"><a href=""></a>  <span class="co">// Regression analysis</span></span>
<span id="cb34-870"><a href=""></a>  <span class="kw">const</span> slope <span class="op">=</span> <span class="dv">380</span><span class="op">;</span>  <span class="co">// More realistic slope</span></span>
<span id="cb34-871"><a href=""></a>  <span class="kw">const</span> intercept <span class="op">=</span> <span class="dv">1200</span><span class="op">;</span></span>
<span id="cb34-872"><a href=""></a>  </span>
<span id="cb34-873"><a href=""></a>  <span class="kw">const</span> predicted_y <span class="op">=</span> ice_data_realistic<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> slope <span class="op">*</span> d<span class="op">.</span><span class="at">temp</span> <span class="op">+</span> intercept)<span class="op">;</span></span>
<span id="cb34-874"><a href=""></a>  <span class="kw">const</span> line_data <span class="op">=</span> [{<span class="dt">x</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> slope <span class="op">*</span> <span class="dv">10</span> <span class="op">+</span> intercept}<span class="op">,</span> </span>
<span id="cb34-875"><a href=""></a>                     {<span class="dt">x</span><span class="op">:</span> <span class="dv">45</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> slope <span class="op">*</span> <span class="dv">45</span> <span class="op">+</span> intercept}]<span class="op">;</span></span>
<span id="cb34-876"><a href=""></a>  </span>
<span id="cb34-877"><a href=""></a>  <span class="co">// Calculate RÂ² </span></span>
<span id="cb34-878"><a href=""></a>  <span class="kw">const</span> mean_sales <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(ice_data_realistic<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>)<span class="op">;</span></span>
<span id="cb34-879"><a href=""></a>  <span class="kw">const</span> ss_tot <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(ice_data_realistic<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">sales</span> <span class="op">-</span> mean_sales) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb34-880"><a href=""></a>  <span class="kw">const</span> ss_res <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(ice_data_realistic<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">sales</span> <span class="op">-</span> predicted_y[i]) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb34-881"><a href=""></a>  <span class="kw">const</span> r2 <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> (ss_res <span class="op">/</span> ss_tot)<span class="op">;</span></span>
<span id="cb34-882"><a href=""></a>  </span>
<span id="cb34-883"><a href=""></a>  <span class="kw">const</span> marks <span class="op">=</span> [</span>
<span id="cb34-884"><a href=""></a>    <span class="co">// Data points</span></span>
<span id="cb34-885"><a href=""></a>    Plot<span class="op">.</span><span class="fu">dot</span>(ice_data_realistic<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> </span>
<span id="cb34-886"><a href=""></a>                                  <span class="dt">fill</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb34-887"><a href=""></a>                                  <span class="dt">tip</span><span class="op">:</span> <span class="kw">true</span>})<span class="op">,</span></span>
<span id="cb34-888"><a href=""></a>    <span class="co">// Regression line</span></span>
<span id="cb34-889"><a href=""></a>    Plot<span class="op">.</span><span class="fu">line</span>(line_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb34-890"><a href=""></a>    <span class="co">// Prediction point</span></span>
<span id="cb34-891"><a href=""></a>    Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">temp</span><span class="op">:</span> predict_temp_improved<span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> slope <span class="op">*</span> predict_temp_improved <span class="op">+</span> intercept}]<span class="op">,</span></span>
<span id="cb34-892"><a href=""></a>             {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">12</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})</span>
<span id="cb34-893"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb34-894"><a href=""></a>  </span>
<span id="cb34-895"><a href=""></a>  <span class="co">// Add confidence band if checked</span></span>
<span id="cb34-896"><a href=""></a>  <span class="cf">if</span> (show_elements<span class="op">.</span><span class="fu">includes</span>(<span class="st">"Show confidence band"</span>)) {</span>
<span id="cb34-897"><a href=""></a>    <span class="kw">const</span> confidence_data <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">10</span><span class="op">,</span> <span class="dv">46</span>)<span class="op">.</span><span class="fu">map</span>(temp <span class="kw">=&gt;</span> ({</span>
<span id="cb34-898"><a href=""></a>      <span class="dt">temp</span><span class="op">:</span> temp<span class="op">,</span></span>
<span id="cb34-899"><a href=""></a>      <span class="dt">lower</span><span class="op">:</span> slope <span class="op">*</span> temp <span class="op">+</span> intercept <span class="op">-</span> <span class="dv">2000</span><span class="op">,</span></span>
<span id="cb34-900"><a href=""></a>      <span class="dt">upper</span><span class="op">:</span> slope <span class="op">*</span> temp <span class="op">+</span> intercept <span class="op">+</span> <span class="dv">2000</span></span>
<span id="cb34-901"><a href=""></a>    }))<span class="op">;</span></span>
<span id="cb34-902"><a href=""></a>    marks<span class="op">.</span><span class="fu">unshift</span>(</span>
<span id="cb34-903"><a href=""></a>      Plot<span class="op">.</span><span class="fu">area</span>(confidence_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"lower"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"upper"</span><span class="op">,</span> </span>
<span id="cb34-904"><a href=""></a>                                  <span class="dt">fill</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.1</span>})</span>
<span id="cb34-905"><a href=""></a>    )<span class="op">;</span></span>
<span id="cb34-906"><a href=""></a>  }</span>
<span id="cb34-907"><a href=""></a>  </span>
<span id="cb34-908"><a href=""></a>  <span class="co">// Add residual lines if checked - FIX the x1/x2 error</span></span>
<span id="cb34-909"><a href=""></a>  <span class="cf">if</span> (show_elements<span class="op">.</span><span class="fu">includes</span>(<span class="st">"Show residuals"</span>)) {</span>
<span id="cb34-910"><a href=""></a>    ice_data_realistic<span class="op">.</span><span class="fu">forEach</span>(d <span class="kw">=&gt;</span> {</span>
<span id="cb34-911"><a href=""></a>      marks<span class="op">.</span><span class="fu">push</span>(</span>
<span id="cb34-912"><a href=""></a>        Plot<span class="op">.</span><span class="fu">link</span>([{<span class="dt">x1</span><span class="op">:</span> d<span class="op">.</span><span class="at">temp</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> d<span class="op">.</span><span class="at">sales</span><span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> d<span class="op">.</span><span class="at">temp</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> slope <span class="op">*</span> d<span class="op">.</span><span class="at">temp</span> <span class="op">+</span> intercept}]<span class="op">,</span></span>
<span id="cb34-913"><a href=""></a>                  {<span class="dt">x1</span><span class="op">:</span> <span class="st">"x1"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> <span class="st">"x2"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"gray"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})</span>
<span id="cb34-914"><a href=""></a>      )<span class="op">;</span></span>
<span id="cb34-915"><a href=""></a>    })<span class="op">;</span></span>
<span id="cb34-916"><a href=""></a>  }</span>
<span id="cb34-917"><a href=""></a>  </span>
<span id="cb34-918"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb34-919"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> marks<span class="op">,</span></span>
<span id="cb34-920"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature (Â°C)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">10</span><span class="op">,</span> <span class="dv">45</span>]}<span class="op">,</span></span>
<span id="cb34-921"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Ice Cream Sales (RM)"</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">25000</span>]}<span class="op">,</span></span>
<span id="cb34-922"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb34-923"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> show_elements<span class="op">.</span><span class="fu">includes</span>(<span class="st">"Show RÂ² breakdown"</span>) <span class="op">?</span> </span>
<span id="cb34-924"><a href=""></a>      <span class="vs">`RÂ² = </span><span class="sc">${</span>r2<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs"> | </span><span class="sc">${</span>(r2<span class="op">*</span><span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">% explained by temperature | </span><span class="sc">${</span>((<span class="dv">1</span><span class="op">-</span>r2)<span class="op">*</span><span class="dv">100</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">% due to other factors (weather, events, etc.)`</span> <span class="op">:</span></span>
<span id="cb34-925"><a href=""></a>      <span class="vs">`Temperature significantly predicts sales! RÂ² = </span><span class="sc">${</span>r2<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb34-926"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb34-927"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-27" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Business Interpretation:</strong> Temperature is a significant predictor! But what explains the other 64% of variation?</p>
</section></section>
<section id="interactive-psychology-research-prediction" class="title-slide slide level1 center">
<h1>Interactive: Psychology Research Prediction</h1>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb35" data-startfrom="937" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 936;"><span id="cb35-937"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4&gt;Psychology Research Scenario:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-28-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb36" data-startfrom="939" data-source-offset="-46"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 938;"><span id="cb36-939"><a href=""></a>viewof new_x_realistic <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> {</span>
<span id="cb36-940"><a href=""></a>  <span class="dt">value</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span></span>
<span id="cb36-941"><a href=""></a>  <span class="dt">step</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb36-942"><a href=""></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Study hours per week:"</span></span>
<span id="cb36-943"><a href=""></a>})</span>
<span id="cb36-944"><a href=""></a></span>
<span id="cb36-945"><a href=""></a>viewof scenario_type <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb36-946"><a href=""></a>  [<span class="st">"Highly predictable"</span><span class="op">,</span> <span class="st">"Somewhat predictable"</span><span class="op">,</span> <span class="st">"Barely predictable"</span>]<span class="op">,</span></span>
<span id="cb36-947"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Somewhat predictable"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Relationship strength:"</span>}</span>
<span id="cb36-948"><a href=""></a>)</span>
<span id="cb36-949"><a href=""></a></span>
<span id="cb36-950"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #f0f8ff; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb36-951"><a href=""></a><span class="vs">&lt;strong&gt;Predicted Exam Score:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb36-952"><a href=""></a><span class="sc">${</span>(<span class="fl">4.2</span> <span class="op">*</span> new_x_realistic <span class="op">+</span> <span class="dv">45</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%&lt;br/&gt;</span></span>
<span id="cb36-953"><a href=""></a><span class="vs">&lt;strong&gt;95% Confidence Interval:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb36-954"><a href=""></a><span class="vs">[</span><span class="sc">${</span>(<span class="fl">4.2</span> <span class="op">*</span> new_x_realistic <span class="op">+</span> <span class="dv">45</span> <span class="op">-</span> (scenario_type <span class="op">===</span> <span class="st">"Highly predictable"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Somewhat predictable"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> <span class="dv">15</span>))<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%, </span></span>
<span id="cb36-955"><a href=""></a><span class="sc">${</span>(<span class="fl">4.2</span> <span class="op">*</span> new_x_realistic <span class="op">+</span> <span class="dv">45</span> <span class="op">+</span> (scenario_type <span class="op">===</span> <span class="st">"Highly predictable"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> scenario_type <span class="op">===</span> <span class="st">"Somewhat predictable"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> <span class="dv">15</span>))<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs">%]&lt;br/&gt;</span></span>
<span id="cb36-956"><a href=""></a><span class="vs">&lt;em&gt;Each extra hour â +4.2% on exam&lt;/em&gt;</span></span>
<span id="cb36-957"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-28-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-28-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-28-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb37" data-startfrom="961" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 960;"><span id="cb37-961"><a href=""></a>{</span>
<span id="cb37-962"><a href=""></a>  <span class="co">// Create different datasets based on predictability - MORE scatter points</span></span>
<span id="cb37-963"><a href=""></a>  <span class="kw">let</span> training_data <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb37-964"><a href=""></a>  <span class="kw">const</span> base_slope <span class="op">=</span> <span class="fl">4.2</span><span class="op">;</span></span>
<span id="cb37-965"><a href=""></a>  <span class="kw">const</span> base_intercept <span class="op">=</span> <span class="dv">45</span><span class="op">;</span></span>
<span id="cb37-966"><a href=""></a>  </span>
<span id="cb37-967"><a href=""></a>  <span class="cf">if</span> (scenario_type <span class="op">===</span> <span class="st">"Highly predictable"</span>) {</span>
<span id="cb37-968"><a href=""></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">60</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb37-969"><a href=""></a>      <span class="kw">const</span> hours <span class="op">=</span> (i <span class="op">/</span> <span class="dv">60</span>) <span class="op">*</span> <span class="dv">12</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.3</span><span class="op">;</span></span>
<span id="cb37-970"><a href=""></a>      <span class="kw">const</span> score <span class="op">=</span> base_slope <span class="op">*</span> hours <span class="op">+</span> base_intercept <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">6</span><span class="op">;</span></span>
<span id="cb37-971"><a href=""></a>      training_data<span class="op">.</span><span class="fu">push</span>({<span class="dt">hours</span><span class="op">:</span> hours<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="dv">100</span><span class="op">,</span> score))})<span class="op">;</span></span>
<span id="cb37-972"><a href=""></a>    }</span>
<span id="cb37-973"><a href=""></a>  } <span class="cf">else</span> <span class="cf">if</span> (scenario_type <span class="op">===</span> <span class="st">"Somewhat predictable"</span>) {</span>
<span id="cb37-974"><a href=""></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">75</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb37-975"><a href=""></a>      <span class="kw">const</span> hours <span class="op">=</span> (i <span class="op">/</span> <span class="dv">75</span>) <span class="op">*</span> <span class="dv">14</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.4</span><span class="op">;</span></span>
<span id="cb37-976"><a href=""></a>      <span class="kw">const</span> score <span class="op">=</span> base_slope <span class="op">*</span> hours <span class="op">+</span> base_intercept <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">16</span><span class="op">;</span></span>
<span id="cb37-977"><a href=""></a>      training_data<span class="op">.</span><span class="fu">push</span>({<span class="dt">hours</span><span class="op">:</span> hours<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="dv">100</span><span class="op">,</span> score))})<span class="op">;</span></span>
<span id="cb37-978"><a href=""></a>    }</span>
<span id="cb37-979"><a href=""></a>  } <span class="cf">else</span> {</span>
<span id="cb37-980"><a href=""></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">90</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb37-981"><a href=""></a>      <span class="kw">const</span> hours <span class="op">=</span> (i <span class="op">/</span> <span class="dv">90</span>) <span class="op">*</span> <span class="dv">15</span> <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb37-982"><a href=""></a>      <span class="kw">const</span> score <span class="op">=</span> base_slope <span class="op">*</span> hours <span class="op">+</span> base_intercept <span class="op">+</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">-</span> <span class="fl">0.5</span>) <span class="op">*</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb37-983"><a href=""></a>      training_data<span class="op">.</span><span class="fu">push</span>({<span class="dt">hours</span><span class="op">:</span> hours<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="dv">100</span><span class="op">,</span> score))})<span class="op">;</span></span>
<span id="cb37-984"><a href=""></a>    }</span>
<span id="cb37-985"><a href=""></a>  }</span>
<span id="cb37-986"><a href=""></a>  </span>
<span id="cb37-987"><a href=""></a>  <span class="kw">const</span> predicted_score <span class="op">=</span> base_slope <span class="op">*</span> new_x_realistic <span class="op">+</span> base_intercept<span class="op">;</span></span>
<span id="cb37-988"><a href=""></a>  <span class="kw">const</span> confidence_width <span class="op">=</span> scenario_type <span class="op">===</span> <span class="st">"Highly predictable"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> </span>
<span id="cb37-989"><a href=""></a>                          scenario_type <span class="op">===</span> <span class="st">"Somewhat predictable"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> <span class="dv">15</span><span class="op">;</span></span>
<span id="cb37-990"><a href=""></a>  </span>
<span id="cb37-991"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb37-992"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb37-993"><a href=""></a>      <span class="co">// Training data</span></span>
<span id="cb37-994"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(training_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"score"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"lightblue"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.6</span>})<span class="op">,</span></span>
<span id="cb37-995"><a href=""></a>      <span class="co">// Regression line</span></span>
<span id="cb37-996"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(training_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"score"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb37-997"><a href=""></a>      <span class="co">// New prediction point</span></span>
<span id="cb37-998"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">hours</span><span class="op">:</span> new_x_realistic<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> predicted_score}]<span class="op">,</span></span>
<span id="cb37-999"><a href=""></a>               {<span class="dt">x</span><span class="op">:</span> <span class="st">"hours"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"score"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">12</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb37-1000"><a href=""></a>      <span class="co">// Confidence interval</span></span>
<span id="cb37-1001"><a href=""></a>      Plot<span class="op">.</span><span class="fu">link</span>([{<span class="dt">x1</span><span class="op">:</span> new_x_realistic<span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> predicted_score <span class="op">-</span> confidence_width<span class="op">,</span> </span>
<span id="cb37-1002"><a href=""></a>                  <span class="dt">x2</span><span class="op">:</span> new_x_realistic<span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> predicted_score <span class="op">+</span> confidence_width}]<span class="op">,</span></span>
<span id="cb37-1003"><a href=""></a>                {<span class="dt">x1</span><span class="op">:</span> <span class="st">"x1"</span><span class="op">,</span> <span class="dt">y1</span><span class="op">:</span> <span class="st">"y1"</span><span class="op">,</span> <span class="dt">x2</span><span class="op">:</span> <span class="st">"x2"</span><span class="op">,</span> <span class="dt">y2</span><span class="op">:</span> <span class="st">"y2"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span> <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.5</span>})</span>
<span id="cb37-1004"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb37-1005"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">15</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Study Hours per Week"</span>}<span class="op">,</span></span>
<span id="cb37-1006"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Exam Score (%)"</span>}<span class="op">,</span></span>
<span id="cb37-1007"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb37-1008"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Green dot = prediction | Green line = confidence interval | </span><span class="sc">${</span>scenario_type<span class="sc">}</span><span class="vs"> relationship`</span></span>
<span id="cb37-1009"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb37-1010"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-29" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Key Learning:</strong> More scattered data = wider confidence intervals = less precise predictions!</p>
</section>

<section>
<section id="reporting-results" class="title-slide slide level1 center" data-background-color="#696969">
<h1>Reporting Results</h1>

</section>
<section id="example-professional-reporting" class="slide level2">
<h2>Example: Professional Reporting</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb38" data-startfrom="1021" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1020;"><span id="cb38-1021"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: white; padding: 30px; border-radius: 10px; font-family: 'Times New Roman', serif; font-size: 16px; line-height: 1.6; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"&gt;</span></span>
<span id="cb38-1022"><a href=""></a></span>
<span id="cb38-1023"><a href=""></a><span class="vs">&lt;p&gt;&lt;strong&gt;A simple linear regression analysis&lt;/strong&gt; was used to investigate whether the temperature on each day (in degrees C) predicted the amount of money earned in ice cream sales (in RM).&lt;/p&gt;</span></span>
<span id="cb38-1024"><a href=""></a></span>
<span id="cb38-1025"><a href=""></a><span class="vs">&lt;p&gt;Temperature &lt;strong&gt;significantly and positively predicted&lt;/strong&gt; Ice Cream Sales, &lt;em&gt;RÂ²&lt;/em&gt; = .36, &lt;em&gt;F&lt;/em&gt;(1,98) = 56.07, &lt;em&gt;p&lt;/em&gt; &amp;lt; .001, indicating that Temperature &lt;strong&gt;explained 36% of the variance&lt;/strong&gt; in Ice Cream Sales.&lt;/p&gt;</span></span>
<span id="cb38-1026"><a href=""></a></span>
<span id="cb38-1027"><a href=""></a><span class="vs">&lt;p&gt;The standardised coefficient indicated that as Temperature increased by 1 SD, Ice Cream Sales increased by &lt;strong&gt;.60 SD&lt;/strong&gt;.&lt;/p&gt;</span></span>
<span id="cb38-1028"><a href=""></a></span>
<span id="cb38-1029"><a href=""></a><span class="vs">&lt;hr style="margin: 20px 0;"&gt;</span></span>
<span id="cb38-1030"><a href=""></a></span>
<span id="cb38-1031"><a href=""></a><span class="vs">&lt;div style="background: #f5f5f5; padding: 15px; border-left: 4px solid #2196F3;"&gt;</span></span>
<span id="cb38-1032"><a href=""></a><span class="vs">&lt;strong&gt;Key Reporting Elements:&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb38-1033"><a href=""></a><span class="vs">â Name the specific test: "Simple linear regression"&lt;br/&gt;</span></span>
<span id="cb38-1034"><a href=""></a><span class="vs">â Describe relationship: "significantly and positively predicted"&lt;br/&gt;</span></span>
<span id="cb38-1035"><a href=""></a><span class="vs">â Report RÂ²: "explained 36% of the variance"&lt;br/&gt;</span></span>
<span id="cb38-1036"><a href=""></a><span class="vs">â Include statistics: F-statistic, p-value&lt;br/&gt;</span></span>
<span id="cb38-1037"><a href=""></a><span class="vs">â Interpret standardised coefficient: effect size in SD units</span></span>
<span id="cb38-1038"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb38-1039"><a href=""></a></span>
<span id="cb38-1040"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-30" data-nodetype="expression">

</div>
</div>
</div>
</section></section>
<section>
<section id="standardised-vs-unstandardised-beta" class="title-slide slide level1 center" data-background-color="#800080">
<h1>Standardised vs Unstandardised Beta</h1>

</section>
<section id="the-problem-how-much-is-a-lot" class="slide level2">
<h2>The Problem: How much is âa lotâ?</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb39" data-startfrom="1049" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1048;"><span id="cb39-1049"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 24px; text-align: center; margin: 40px 0;"&gt;</span></span>
<span id="cb39-1050"><a href=""></a><span class="vs">&lt;p&gt;We saw that every degree increase in temperature gets you another &lt;strong&gt;RM 430&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb39-1051"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb39-1052"><a href=""></a><span class="vs">&lt;p&gt;RM 430 = Â£75 (British Pounds)&lt;/p&gt;</span></span>
<span id="cb39-1053"><a href=""></a><span class="vs">&lt;p&gt;RM 430 = $96 (US Dollars)  &lt;/p&gt;</span></span>
<span id="cb39-1054"><a href=""></a><span class="vs">&lt;p&gt;RM 430 = 0.0000059 BTC (Bitcoin)&lt;/p&gt;</span></span>
<span id="cb39-1055"><a href=""></a><span class="vs">&lt;br/&gt;</span></span>
<span id="cb39-1056"><a href=""></a><span class="vs">&lt;p style="color: red;"&gt;When we use Î², it is &lt;strong&gt;not standardised&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb39-1057"><a href=""></a><span class="vs">This means it can't be compared across different measures!&lt;/p&gt;</span></span>
<span id="cb39-1058"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-31" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="interactive-standardised-beta-comparison" class="slide level2">
<h2>Interactive: Standardised Beta Comparison</h2>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="sourceCode cell-code hidden" id="cb40" data-startfrom="1066" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1065;"><span id="cb40-1066"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;h4&gt;Compare effect sizes:&lt;/h4&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb41" data-startfrom="1068" data-source-offset="-38"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1067;"><span id="cb41-1068"><a href=""></a>viewof currency_type <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb41-1069"><a href=""></a>  [<span class="st">"Malaysian Ringgit (RM)"</span><span class="op">,</span> <span class="st">"US Dollars ($)"</span><span class="op">,</span> <span class="st">"British Pounds (Â£)"</span>]<span class="op">,</span></span>
<span id="cb41-1070"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Malaysian Ringgit (RM)"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Currency:"</span>}</span>
<span id="cb41-1071"><a href=""></a>)</span>
<span id="cb41-1072"><a href=""></a></span>
<span id="cb41-1073"><a href=""></a>viewof temp_unit <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb41-1074"><a href=""></a>  [<span class="st">"Celsius (Â°C)"</span><span class="op">,</span> <span class="st">"Fahrenheit (Â°F)"</span>]<span class="op">,</span></span>
<span id="cb41-1075"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="st">"Celsius (Â°C)"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature:"</span>}</span>
<span id="cb41-1076"><a href=""></a>)</span>
<span id="cb41-1077"><a href=""></a></span>
<span id="cb41-1078"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="background: #fff8dc; padding: 15px; margin-top: 20px; border-radius: 5px;"&gt;</span></span>
<span id="cb41-1079"><a href=""></a><span class="vs">&lt;strong&gt;Unstandardised Î² changes!&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb41-1080"><a href=""></a><span class="vs">Currency affects the coefficient&lt;br/&gt;</span></span>
<span id="cb41-1081"><a href=""></a><span class="vs">Temperature scale affects it too&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb41-1082"><a href=""></a><span class="vs">&lt;strong&gt;Standardised Î² stays the same!&lt;/strong&gt;&lt;br/&gt;</span></span>
<span id="cb41-1083"><a href=""></a><span class="vs">Always in Standard Deviation units</span></span>
<span id="cb41-1084"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-32-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb42" data-startfrom="1088" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1087;"><span id="cb42-1088"><a href=""></a>{</span>
<span id="cb42-1089"><a href=""></a>  <span class="co">// Conversion factors</span></span>
<span id="cb42-1090"><a href=""></a>  <span class="kw">const</span> currency_multiplier <span class="op">=</span> currency_type <span class="op">===</span> <span class="st">"Malaysian Ringgit (RM)"</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span></span>
<span id="cb42-1091"><a href=""></a>                             currency_type <span class="op">===</span> <span class="st">"US Dollars ($)"</span> <span class="op">?</span> <span class="fl">0.22</span> <span class="op">:</span></span>
<span id="cb42-1092"><a href=""></a>                             <span class="fl">0.18</span><span class="op">;</span> <span class="co">// British Pounds</span></span>
<span id="cb42-1093"><a href=""></a>  </span>
<span id="cb42-1094"><a href=""></a>  <span class="kw">const</span> temp_multiplier <span class="op">=</span> temp_unit <span class="op">===</span> <span class="st">"Celsius (Â°C)"</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="fl">1.8</span><span class="op">;</span> <span class="co">// Fahrenheit</span></span>
<span id="cb42-1095"><a href=""></a>  <span class="kw">const</span> temp_offset <span class="op">=</span> temp_unit <span class="op">===</span> <span class="st">"Celsius (Â°C)"</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> <span class="dv">32</span><span class="op">;</span></span>
<span id="cb42-1096"><a href=""></a>  </span>
<span id="cb42-1097"><a href=""></a>  <span class="co">// Original data in RM and Celsius - MORE scatter points</span></span>
<span id="cb42-1098"><a href=""></a>  <span class="kw">const</span> base_data <span class="op">=</span> [</span>
<span id="cb42-1099"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">5000</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">4800</span>}<span class="op">,</span> </span>
<span id="cb42-1100"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">8500</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">8200</span>}<span class="op">,</span></span>
<span id="cb42-1101"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">12500</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">25</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">12100</span>}<span class="op">,</span></span>
<span id="cb42-1102"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">17000</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">16400</span>}<span class="op">,</span></span>
<span id="cb42-1103"><a href=""></a>    {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">21000</span>}<span class="op">,</span> {<span class="dt">temp_c</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">sales_rm</span><span class="op">:</span> <span class="dv">20600</span>}</span>
<span id="cb42-1104"><a href=""></a>  ]<span class="op">;</span></span>
<span id="cb42-1105"><a href=""></a>  </span>
<span id="cb42-1106"><a href=""></a>  <span class="co">// Convert data</span></span>
<span id="cb42-1107"><a href=""></a>  <span class="kw">const</span> converted_data <span class="op">=</span> base_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({</span>
<span id="cb42-1108"><a href=""></a>    <span class="dt">temp</span><span class="op">:</span> d<span class="op">.</span><span class="at">temp_c</span> <span class="op">*</span> temp_multiplier <span class="op">+</span> temp_offset<span class="op">,</span></span>
<span id="cb42-1109"><a href=""></a>    <span class="dt">sales</span><span class="op">:</span> d<span class="op">.</span><span class="at">sales_rm</span> <span class="op">*</span> currency_multiplier</span>
<span id="cb42-1110"><a href=""></a>  }))<span class="op">;</span></span>
<span id="cb42-1111"><a href=""></a>  </span>
<span id="cb42-1112"><a href=""></a>  <span class="co">// Calculate regression</span></span>
<span id="cb42-1113"><a href=""></a>  <span class="kw">const</span> mean_temp <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">temp</span>)<span class="op">;</span></span>
<span id="cb42-1114"><a href=""></a>  <span class="kw">const</span> mean_sales <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>)<span class="op">;</span></span>
<span id="cb42-1115"><a href=""></a>  <span class="kw">const</span> slope <span class="op">=</span> d3<span class="op">.</span><span class="fu">sum</span>(converted_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">temp</span> <span class="op">-</span> mean_temp) <span class="op">*</span> (d<span class="op">.</span><span class="at">sales</span> <span class="op">-</span> mean_sales))) <span class="op">/</span> </span>
<span id="cb42-1116"><a href=""></a>                d3<span class="op">.</span><span class="fu">sum</span>(converted_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> (d<span class="op">.</span><span class="at">temp</span> <span class="op">-</span> mean_temp) <span class="op">**</span> <span class="dv">2</span>))<span class="op">;</span></span>
<span id="cb42-1117"><a href=""></a>  <span class="kw">const</span> intercept <span class="op">=</span> mean_sales <span class="op">-</span> slope <span class="op">*</span> mean_temp<span class="op">;</span></span>
<span id="cb42-1118"><a href=""></a>  </span>
<span id="cb42-1119"><a href=""></a>  <span class="co">// Standardised beta (always the same!)</span></span>
<span id="cb42-1120"><a href=""></a>  <span class="kw">const</span> sd_temp <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">variance</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">temp</span>))<span class="op">;</span></span>
<span id="cb42-1121"><a href=""></a>  <span class="kw">const</span> sd_sales <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d3<span class="op">.</span><span class="fu">variance</span>(converted_data<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>))<span class="op">;</span></span>
<span id="cb42-1122"><a href=""></a>  <span class="kw">const</span> standardised_beta <span class="op">=</span> slope <span class="op">*</span> (sd_temp <span class="op">/</span> sd_sales)<span class="op">;</span></span>
<span id="cb42-1123"><a href=""></a>  </span>
<span id="cb42-1124"><a href=""></a>  <span class="kw">const</span> currency_symbol <span class="op">=</span> currency_type <span class="op">===</span> <span class="st">"Malaysian Ringgit (RM)"</span> <span class="op">?</span> <span class="st">"RM"</span> <span class="op">:</span></span>
<span id="cb42-1125"><a href=""></a>                         currency_type <span class="op">===</span> <span class="st">"US Dollars ($)"</span> <span class="op">?</span> <span class="st">"$"</span> <span class="op">:</span> <span class="st">"Â£"</span><span class="op">;</span></span>
<span id="cb42-1126"><a href=""></a>  </span>
<span id="cb42-1127"><a href=""></a>  <span class="cf">return</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb42-1128"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb42-1129"><a href=""></a>      Plot<span class="op">.</span><span class="fu">dot</span>(converted_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">6</span>})<span class="op">,</span></span>
<span id="cb42-1130"><a href=""></a>      Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(converted_data<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"temp"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"sales"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})</span>
<span id="cb42-1131"><a href=""></a>    ]<span class="op">,</span></span>
<span id="cb42-1132"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="vs">`Temperature (</span><span class="sc">${</span>temp_unit<span class="sc">}</span><span class="vs">)`</span>}<span class="op">,</span></span>
<span id="cb42-1133"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="vs">`Sales (</span><span class="sc">${</span>currency_symbol<span class="sc">}</span><span class="vs">)`</span>}<span class="op">,</span></span>
<span id="cb42-1134"><a href=""></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb42-1135"><a href=""></a>    <span class="dt">caption</span><span class="op">:</span> <span class="vs">`Unstandardised Î² = </span><span class="sc">${</span>slope<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>currency_symbol<span class="sc">}</span><span class="vs">/degree | Standardised Î² = </span><span class="sc">${</span>standardised_beta<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> SD (always the same!)`</span></span>
<span id="cb42-1136"><a href=""></a>  })<span class="op">;</span></span>
<span id="cb42-1137"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-33" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p><strong>Key Insight:</strong> Standardised Beta allows comparison across studies with different measures!</p>
</section></section>
<section>
<section id="summary-next-steps" class="title-slide slide level1 center" data-background-color="#2f4f4f">
<h1>Summary &amp; Next Steps</h1>

</section>
<section id="what-we-learned-today" class="slide level2">
<h2>What We Learned Today</h2>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb43" data-startfrom="1148" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1147;"><span id="cb43-1148"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="font-size: 20px; line-height: 2;"&gt;</span></span>
<span id="cb43-1149"><a href=""></a><span class="vs">&lt;strong&gt;â Simple Linear Regression&lt;/strong&gt; determines whether a continuous variable predicts a continuous outcome&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb43-1150"><a href=""></a></span>
<span id="cb43-1151"><a href=""></a><span class="vs">&lt;strong&gt;â The slope (Î²)&lt;/strong&gt; tells you how much the outcome y changes with each change in the predictor x&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb43-1152"><a href=""></a></span>
<span id="cb43-1153"><a href=""></a><span class="vs">&lt;strong&gt;â RÂ²&lt;/strong&gt; tells you how much variance in the outcome is explained by the predictor&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb43-1154"><a href=""></a></span>
<span id="cb43-1155"><a href=""></a><span class="vs">&lt;strong&gt;â The Regression Line&lt;/strong&gt; is described by the formula: &lt;em&gt;y = Î²x + c&lt;/em&gt;&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb43-1156"><a href=""></a></span>
<span id="cb43-1157"><a href=""></a><span class="vs">&lt;strong&gt;â Both ANOVA and Regression&lt;/strong&gt; use the same logic: Known value â Predicted outcome Â± error&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb43-1158"><a href=""></a></span>
<span id="cb43-1159"><a href=""></a><span class="vs">&lt;strong&gt;â Standardised Beta&lt;/strong&gt; allows comparison across different measures and studies&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb43-1160"><a href=""></a></span>
<span id="cb43-1161"><a href=""></a><span class="vs">&lt;strong&gt;â Error = Natural Variability&lt;/strong&gt; that we cannot explain with our predictors</span></span>
<span id="cb43-1162"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-34" data-nodetype="expression">

</div>
</div>
</div>
</section>
<section id="real-world-application" class="slide level2">
<h2>Real-world Application</h2>
<p><strong>âConsultation hours are bad for my mental wellbeing!â</strong></p>
<p>But now you know how to: - <strong>Quantify</strong> the relationship (Î² = how much) - <strong>Assess precision</strong> (RÂ² = how reliable)<br>
- <strong>Make predictions</strong> (with confidence intervals) - <strong>Report professionally</strong> (for research papers)</p>
</section>
<section id="next-week-multiple-regression" class="slide level2">
<h2>Next Week: Multiple Regression</h2>
<p>Multiple Linear Regression = Simple Linear Regression <strong>+ more predictors</strong></p>
<ul>
<li>Some IVs can be <strong>categorical</strong>!</li>
<li>As long as at least one IV is continuous, multiple regression is appropriate</li>
<li><strong>Ice cream example:</strong> Sales predicted by temperature AND country</li>
<li>Visualisation requires <strong>3D plots</strong>!</li>
</ul>
</section></section>
<section id="thank-you" class="title-slide slide level1 center" data-background-color="#000080">
<h1>Thank You!</h1>
<div class="cell panel-fill">
<div class="sourceCode cell-code hidden" id="cb44" data-startfrom="1188" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1187;"><span id="cb44-1188"><a href=""></a><span class="fu">html</span><span class="vs">`&lt;div style="text-align: center; color: white; font-size: 48px; margin-top: 100px;"&gt;</span></span>
<span id="cb44-1189"><a href=""></a><span class="vs">&lt;strong&gt;Questions &amp; Discussion&lt;/strong&gt;</span></span>
<span id="cb44-1190"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb44-1191"><a href=""></a><span class="vs">&lt;div style="font-size: 24px;"&gt;</span></span>
<span id="cb44-1192"><a href=""></a><span class="vs">What questions do you have after exploring these concepts?&lt;br/&gt;</span></span>
<span id="cb44-1193"><a href=""></a><span class="vs">Which interactive element surprised you most?&lt;br/&gt;</span></span>
<span id="cb44-1194"><a href=""></a><span class="vs">What misconceptions did you notice in yourself?</span></span>
<span id="cb44-1195"><a href=""></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb44-1196"><a href=""></a><span class="vs">&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb44-1197"><a href=""></a><span class="vs">&lt;strong&gt;iCheckIn: XXXXX&lt;/strong&gt;</span></span>
<span id="cb44-1198"><a href=""></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-35" data-nodetype="expression">

</div>
</div>
</div>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="regression-lecture-final_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="regression-lecture-final_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="regression-lecture-final_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="regression-lecture-final_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="ojs-module-contents">
    eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgLy8gTWVudGFsIHdlbGxiZWluZyB2cyBjb25zdWx0YXRpb24gaG91cnMgZGF0YSAtIE1PUkUgc2NhdHRlciBwb2ludHNcbiAgY29uc3QgYmFzZV9jb25zdWx0YXRpb25fZGF0YSA9IFtcbiAgICB7aG91cnM6IDIsIHdlbGxiZWluZzogOTV9LCB7aG91cnM6IDIsIHdlbGxiZWluZzogOTN9LCB7aG91cnM6IDIsIHdlbGxiZWluZzogOTd9LFxuICAgIHtob3VyczogMywgd2VsbGJlaW5nOiA5M30sIHtob3VyczogMywgd2VsbGJlaW5nOiA5MX0sIHtob3VyczogMywgd2VsbGJlaW5nOiA5NX0sXG4gICAge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDkwfSwge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDg4fSwge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDkyfSwge2hvdXJzOiA0LCB3ZWxsYmVpbmc6IDg5fSxcbiAgICB7aG91cnM6IDUsIHdlbGxiZWluZzogODh9LCB7aG91cnM6IDUsIHdlbGxiZWluZzogODZ9LCB7aG91cnM6IDUsIHdlbGxiZWluZzogOTB9LCB7aG91cnM6IDUsIHdlbGxiZWluZzogODd9LFxuICAgIHtob3VyczogNiwgd2VsbGJlaW5nOiA4N30sIHtob3VyczogNiwgd2VsbGJlaW5nOiA4NX0sIHtob3VyczogNiwgd2VsbGJlaW5nOiA4OX0sIHtob3VyczogNiwgd2VsbGJlaW5nOiA4NH0sXG4gICAge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDg1fSwge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDgzfSwge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDg3fSwge2hvdXJzOiA3LCB3ZWxsYmVpbmc6IDgyfSxcbiAgICB7aG91cnM6IDgsIHdlbGxiZWluZzogODR9LCB7aG91cnM6IDgsIHdlbGxiZWluZzogODJ9LCB7aG91cnM6IDgsIHdlbGxiZWluZzogODZ9LCB7aG91cnM6IDgsIHdlbGxiZWluZzogODF9LFxuICAgIHtob3VyczogOSwgd2VsbGJlaW5nOiA4Mn0sIHtob3VyczogOSwgd2VsbGJlaW5nOiA4MH0sIHtob3VyczogOSwgd2VsbGJlaW5nOiA4NH0sIHtob3VyczogOSwgd2VsbGJlaW5nOiA3OX0sXG4gICAge2hvdXJzOiAxMCwgd2VsbGJlaW5nOiA4MX0sIHtob3VyczogMTAsIHdlbGxiZWluZzogNzl9LCB7aG91cnM6IDEwLCB3ZWxsYmVpbmc6IDgzfSwge2hvdXJzOiAxMCwgd2VsbGJlaW5nOiA3OH0sXG4gICAge2hvdXJzOiAxMSwgd2VsbGJlaW5nOiA4MH0sIHtob3VyczogMTEsIHdlbGxiZWluZzogNzh9LCB7aG91cnM6IDExLCB3ZWxsYmVpbmc6IDgyfSwge2hvdXJzOiAxMSwgd2VsbGJlaW5nOiA3N31cbiAgXTtcbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChiYXNlX2NvbnN1bHRhdGlvbl9kYXRhLCB7eDogXCJob3Vyc1wiLCB5OiBcIndlbGxiZWluZ1wiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA1fSlcbiAgICBdLFxuICAgIHg6IHtsYWJlbDogXCJIb3VycyBTcGVudCBDb25zdWx0aW5nIFN0dWRlbnRzIFRoaXMgV2Vla1wiLCBkb21haW46IFswLCAxMl19LFxuICAgIHk6IHtsYWJlbDogXCJNZW50YWwgV2VsbGJlaW5nXCIsIGRvbWFpbjogWzc1LCAxMDBdfSxcbiAgICBncmlkOiB0cnVlLFxuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA0MDBcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxwPjxzdHJvbmc+QWRqdXN0IHJlbGF0aW9uc2hpcCBzdHJlbmd0aDo8L3N0cm9uZz48L3A+YFxuXG52aWV3b2YgY29ycmVsYXRpb25fc3RyZW5ndGggPSBJbnB1dHMucmFuZ2UoWzAuMSwgMC45OV0sIHtcbiAgdmFsdWU6IDAuOCxcbiAgc3RlcDogMC4wNSxcbiAgbGFiZWw6IFwiQ29ycmVsYXRpb24gc3RyZW5ndGggKHIpXCJcbn0pXG5cbnZpZXdvZiBkYXRhX3BhdHRlcm4gPSBJbnB1dHMucmFkaW8oXG4gIFtcIkxpbmVhclwiLCBcIkN1cnZlZFwiLCBcIk5vIHJlbGF0aW9uc2hpcFwiXSxcbiAge3ZhbHVlOiBcIkxpbmVhclwiLCBsYWJlbDogXCJEYXRhIHBhdHRlcm46XCJ9XG4pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNlOGY0Zjg7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi10b3A6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbjxzdHJvbmc+UGVhcnNvbidzIHI6PC9zdHJvbmc+ICR7Y29ycmVsYXRpb25fc3RyZW5ndGgudG9GaXhlZCgyKX08YnIvPlxuPHN0cm9uZz5JbnRlcnByZXRhdGlvbjo8L3N0cm9uZz4gJHtjb3JyZWxhdGlvbl9zdHJlbmd0aCA+IDAuNyA/IFwiU3Ryb25nXCIgOiBjb3JyZWxhdGlvbl9zdHJlbmd0aCA+IDAuNCA/IFwiTW9kZXJhdGVcIiA6IFwiV2Vha1wifSByZWxhdGlvbnNoaXBcbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgbiA9IDgwOyAgLy8gTW9yZSBwb2ludHMgZm9yIGJldHRlciBzY2F0dGVyXG4gIGxldCBkYXRhO1xuICBcbiAgaWYgKGRhdGFfcGF0dGVybiA9PT0gXCJMaW5lYXJcIikge1xuICAgIGNvbnN0IHggPSBkMy5yYW5nZShuKS5tYXAoaSA9PiAoaSAvIG4pICogMTAgKyAyICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC41KTtcbiAgICBjb25zdCBiYXNlX3kgPSB4Lm1hcCh4aSA9PiAyICogeGkgKyAxMCk7XG4gICAgY29uc3Qgbm9pc2VfZmFjdG9yID0gTWF0aC5zcXJ0KCgxIC0gY29ycmVsYXRpb25fc3RyZW5ndGggKiBjb3JyZWxhdGlvbl9zdHJlbmd0aCkgLyAoY29ycmVsYXRpb25fc3RyZW5ndGggKiBjb3JyZWxhdGlvbl9zdHJlbmd0aCkpICogMztcbiAgICBjb25zdCB5ID0gYmFzZV95Lm1hcCh5aSA9PiB5aSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIG5vaXNlX2ZhY3RvciAqIDgpO1xuICAgIGRhdGEgPSB4Lm1hcCgoeGksIGkpID0+ICh7eDogeGksIHk6IHlbaV19KSk7XG4gIH0gZWxzZSBpZiAoZGF0YV9wYXR0ZXJuID09PSBcIkN1cnZlZFwiKSB7XG4gICAgY29uc3QgeCA9IGQzLnJhbmdlKG4pLm1hcChpID0+IChpIC8gbikgKiA4ICsgMSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMyk7XG4gICAgY29uc3QgYmFzZV95ID0geC5tYXAoeGkgPT4gTWF0aC5wb3coeGkgLSA0LCAyKSArIDUpO1xuICAgIGNvbnN0IG5vaXNlX2ZhY3RvciA9IDI7XG4gICAgY29uc3QgeSA9IGJhc2VfeS5tYXAoeWkgPT4geWkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBub2lzZV9mYWN0b3IpO1xuICAgIGRhdGEgPSB4Lm1hcCgoeGksIGkpID0+ICh7eDogeGksIHk6IHlbaV19KSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgeCA9IGQzLnJhbmdlKG4pLm1hcChpID0+IChpIC8gbikgKiAxMCArIDIgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjUpO1xuICAgIGNvbnN0IHkgPSBkMy5yYW5nZShuKS5tYXAoaSA9PiBNYXRoLnJhbmRvbSgpICogMTUgKyAxMCk7XG4gICAgZGF0YSA9IHgubWFwKCh4aSwgaSkgPT4gKHt4OiB4aSwgeTogeVtpXX0pKTtcbiAgfVxuICBcbiAgLy8gQ2FsY3VsYXRlIGFjdHVhbCBjb3JyZWxhdGlvblxuICBjb25zdCBtZWFuX3ggPSBkMy5tZWFuKGRhdGEsIGQgPT4gZC54KTtcbiAgY29uc3QgbWVhbl95ID0gZDMubWVhbihkYXRhLCBkID0+IGQueSk7XG4gIGNvbnN0IHIgPSBkMy5zdW0oZGF0YS5tYXAoZCA9PiAoZC54IC0gbWVhbl94KSAqIChkLnkgLSBtZWFuX3kpKSkgLyBcbiAgICAgICAgICAgTWF0aC5zcXJ0KGQzLnN1bShkYXRhLm1hcChkID0+IChkLnggLSBtZWFuX3gpICoqIDIpKSAqIGQzLnN1bShkYXRhLm1hcChkID0+IChkLnkgLSBtZWFuX3kpICoqIDIpKSk7XG4gIFxuICBjb25zdCBtYXJrcyA9IFtQbG90LmRvdChkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA0fSldO1xuICBcbiAgLy8gQUxXQVlTIHNob3cgbGluZWFyIHJlZ3Jlc3Npb24gbGluZSwgZXZlbiBmb3IgY3VydmVzICh0byBzaG93IGl0IGxvb2tzIFwid3JvbmdcIilcbiAgbWFya3MucHVzaChcbiAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKGRhdGEsIHt4OiBcInhcIiwgeTogXCJ5XCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDIsIHN0cm9rZURhc2hhcnJheTogXCI1LDVcIn0pXG4gICk7XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogbWFya3MsXG4gICAgeDoge2xhYmVsOiBcIlZhcmlhYmxlIFhcIn0sXG4gICAgeToge2xhYmVsOiBcIlZhcmlhYmxlIFlcIn0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBkYXRhX3BhdHRlcm4gPT09IFwiQ3VydmVkXCIgPyBcbiAgICAgIGBMaW5lYXIgbGluZSBsb29rcyBXUk9ORyBvbiBjdXJ2ZWQgZGF0YSEgciA9ICR7ci50b0ZpeGVkKDMpfSAobWlzbGVhZGluZyBmb3IgY3VydmVzKWAgOlxuICAgICAgYEFjdHVhbCBjb3JyZWxhdGlvbjogciA9ICR7ci50b0ZpeGVkKDMpfSB8IHIgb25seSBtZWFzdXJlcyBMSU5FQVIgcmVsYXRpb25zaGlwcyFgXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAzNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogNDBweCAwO1wiPlxuPHN0cm9uZz5XaGF0J3MgYSBwaXJhdGUncyBmYXZvdXJpdGUgbGV0dGVyPzwvc3Ryb25nPlxuPGJyLz48YnIvPlxuPHNwYW4gc3R5bGU9XCJjb2xvcjogI2QzMmYyZjsgZm9udC1zaXplOiA3MnB4O1wiPlIhPC9zcGFuPlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICAvLyBNT1JFIHNjYXR0ZXJlZCBjb25zdWx0YXRpb24gZGF0YSBwb2ludHNcbiAgY29uc3QgY29uc3VsdGF0aW9uX3NjYXR0ZXIgPSBbXG4gICAge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDk1fSwge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDkzfSwge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDk3fSwge2hvdXJzOiAyLCB3ZWxsYmVpbmc6IDk0fSxcbiAgICB7aG91cnM6IDMsIHdlbGxiZWluZzogOTN9LCB7aG91cnM6IDMsIHdlbGxiZWluZzogOTF9LCB7aG91cnM6IDMsIHdlbGxiZWluZzogOTV9LCB7aG91cnM6IDMsIHdlbGxiZWluZzogOTJ9LFxuICAgIHtob3VyczogNCwgd2VsbGJlaW5nOiA5MH0sIHtob3VyczogNCwgd2VsbGJlaW5nOiA4OH0sIHtob3VyczogNCwgd2VsbGJlaW5nOiA5Mn0sIHtob3VyczogNCwgd2VsbGJlaW5nOiA4OX0sXG4gICAge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDg4fSwge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDg2fSwge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDkwfSwge2hvdXJzOiA1LCB3ZWxsYmVpbmc6IDg3fSxcbiAgICB7aG91cnM6IDYsIHdlbGxiZWluZzogODd9LCB7aG91cnM6IDYsIHdlbGxiZWluZzogODV9LCB7aG91cnM6IDYsIHdlbGxiZWluZzogODl9LCB7aG91cnM6IDYsIHdlbGxiZWluZzogODR9LFxuICAgIHtob3VyczogNywgd2VsbGJlaW5nOiA4NX0sIHtob3VyczogNywgd2VsbGJlaW5nOiA4M30sIHtob3VyczogNywgd2VsbGJlaW5nOiA4N30sIHtob3VyczogNywgd2VsbGJlaW5nOiA4Mn0sXG4gICAge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDg0fSwge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDgyfSwge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDg2fSwge2hvdXJzOiA4LCB3ZWxsYmVpbmc6IDgxfSxcbiAgICB7aG91cnM6IDksIHdlbGxiZWluZzogODJ9LCB7aG91cnM6IDksIHdlbGxiZWluZzogODB9LCB7aG91cnM6IDksIHdlbGxiZWluZzogODR9LCB7aG91cnM6IDksIHdlbGxiZWluZzogNzl9LFxuICAgIHtob3VyczogMTAsIHdlbGxiZWluZzogODF9LCB7aG91cnM6IDEwLCB3ZWxsYmVpbmc6IDc5fSwge2hvdXJzOiAxMCwgd2VsbGJlaW5nOiA4M30sIHtob3VyczogMTAsIHdlbGxiZWluZzogNzh9LFxuICAgIHtob3VyczogMTEsIHdlbGxiZWluZzogODB9LCB7aG91cnM6IDExLCB3ZWxsYmVpbmc6IDc4fSwge2hvdXJzOiAxMSwgd2VsbGJlaW5nOiA4Mn0sIHtob3VyczogMTEsIHdlbGxiZWluZzogNzd9XG4gIF07XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5kb3QoY29uc3VsdGF0aW9uX3NjYXR0ZXIsIHt4OiBcImhvdXJzXCIsIHk6IFwid2VsbGJlaW5nXCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDZ9KSxcbiAgICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkoY29uc3VsdGF0aW9uX3NjYXR0ZXIsIHt4OiBcImhvdXJzXCIsIHk6IFwid2VsbGJlaW5nXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDN9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIkhvdXJzIFNwZW50IENvbnN1bHRpbmcgU3R1ZGVudHMgVGhpcyBXZWVrXCIsIGRvbWFpbjogWzAsIDEyXX0sXG4gICAgeToge2xhYmVsOiBcIk1lbnRhbCBXZWxsYmVpbmdcIiwgZG9tYWluOiBbNzUsIDEwMF19LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgd2lkdGg6IDgwMCxcbiAgICBoZWlnaHQ6IDQwMFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPHA+PHN0cm9uZz5FeHBsb3JlIHRoZSBkaWZmZXJlbmNlOjwvc3Ryb25nPjwvcD5gXG5cbnZpZXdvZiBzaG93X2FwcHJvYWNoID0gSW5wdXRzLnJhZGlvKFxuICBbXCJDb3JyZWxhdGlvbiB2aWV3XCIsIFwiUmVncmVzc2lvbiB2aWV3XCIsIFwiQm90aCBhcHByb2FjaGVzXCJdLFxuICB7dmFsdWU6IFwiQm90aCBhcHByb2FjaGVzXCIsIGxhYmVsOiBcIlNob3c6XCJ9XG4pXG5cbnZpZXdvZiBub2lzZV9kcmFtYXRpYyA9IElucHV0cy5yYW5nZShbMC41LCA0XSwge1xuICB2YWx1ZTogMS41LFxuICBzdGVwOiAwLjEsXG4gIGxhYmVsOiBcIkRhdGEgc2NhdHRlciBhbW91bnRcIlxufSlcblxuaHRtbGA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2ZmZjljNDsgcGFkZGluZzogMTVweDsgbWFyZ2luLXRvcDogMjBweDsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuPHN0cm9uZz5Db3JyZWxhdGlvbjo8L3N0cm9uZz4gVmFyaWFibGVzIGFyZSBhc3NvY2lhdGVkPGJyLz5cbjxzdHJvbmc+UmVncmVzc2lvbjo8L3N0cm9uZz4gWCBwcmVkaWN0cyBZPGJyLz48YnIvPlxuPGVtPk5laXRoZXIgaW1wbGllcyBjYXVzYXRpb24gd2l0aG91dCB0aGVvcnkgb3IgZXhwZXJpbWVudHMhPC9lbT5cbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgbiA9IDYwOyAgLy8gTW9yZSBzY2F0dGVyIHBvaW50c1xuICBjb25zdCB4ID0gZDMucmFuZ2UobikubWFwKGkgPT4gKGkgLyBuKSAqIDggKyAyICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC40KTtcbiAgY29uc3QgdHJ1ZV95ID0geC5tYXAoeGkgPT4gLTEuNSAqIHhpICsgMjUpO1xuICBjb25zdCB5ID0gdHJ1ZV95Lm1hcCgoeWksIGkpID0+IHlpICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogbm9pc2VfZHJhbWF0aWMgKiAzKTtcbiAgY29uc3QgZGF0YSA9IHgubWFwKCh4aSwgaSkgPT4gKHt4OiB4aSwgeTogeVtpXX0pKTtcbiAgXG4gIGNvbnN0IG1hcmtzID0gW1Bsb3QuZG90KGRhdGEsIHt4OiBcInhcIiwgeTogXCJ5XCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDR9KV07XG4gIFxuICBpZiAoc2hvd19hcHByb2FjaCA9PT0gXCJDb3JyZWxhdGlvbiB2aWV3XCIgfHwgc2hvd19hcHByb2FjaCA9PT0gXCJCb3RoIGFwcHJvYWNoZXNcIikge1xuICAgIG1hcmtzLnB1c2goXG4gICAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKGRhdGEsIHt4OiBcInhcIiwgeTogXCJ5XCIsIHN0cm9rZTogXCJncmF5XCIsIHN0cm9rZVdpZHRoOiAyLCBzdHJva2VEYXNoYXJyYXk6IFwiOCw0XCJ9KVxuICAgICk7XG4gIH1cbiAgXG4gIGlmIChzaG93X2FwcHJvYWNoID09PSBcIlJlZ3Jlc3Npb24gdmlld1wiIHx8IHNob3dfYXBwcm9hY2ggPT09IFwiQm90aCBhcHByb2FjaGVzXCIpIHtcbiAgICBtYXJrcy5wdXNoKFxuICAgICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSlcbiAgICApO1xuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgc3RhdHNcbiAgY29uc3QgbWVhbl94ID0gZDMubWVhbihkYXRhLCBkID0+IGQueCk7XG4gIGNvbnN0IG1lYW5feSA9IGQzLm1lYW4oZGF0YSwgZCA9PiBkLnkpO1xuICBjb25zdCByID0gZDMuc3VtKGRhdGEubWFwKGQgPT4gKGQueCAtIG1lYW5feCkgKiAoZC55IC0gbWVhbl95KSkpIC8gXG4gICAgICAgICAgIE1hdGguc3FydChkMy5zdW0oZGF0YS5tYXAoZCA9PiAoZC54IC0gbWVhbl94KSAqKiAyKSkgKiBkMy5zdW0oZGF0YS5tYXAoZCA9PiAoZC55IC0gbWVhbl95KSAqKiAyKSkpO1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IG1hcmtzLFxuICAgIHg6IHtsYWJlbDogXCJQcmVkaWN0b3IgKHgpIC0gSG91cnMgQ29uc3VsdGluZ1wifSxcbiAgICB5OiB7bGFiZWw6IFwiT3V0Y29tZSAoeSkgLSBNZW50YWwgV2VsbGJlaW5nXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgY2FwdGlvbjogYEdyYXkgZGFzaGVkID0gXCJpbWFnaW5hcnlcIiBjb3JyZWxhdGlvbiBsaW5lIHwgUmVkIHNvbGlkID0gXCJyZWFsXCIgcmVncmVzc2lvbiBsaW5lIHwgciA9ICR7ci50b0ZpeGVkKDMpfWBcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIC8vIE11bHRpcGxlIHNjYXR0ZXIgcG9pbnRzIGF0IGVhY2ggeCB2YWx1ZVxuICBjb25zdCBzY2F0dGVyX3BhaXJzID0gW1xuICAgIHt4OiAyLCB5OiA5NX0sIHt4OiAyLCB5OiA5M30sIHt4OiAyLCB5OiA5N30sXG4gICAge3g6IDQsIHk6IDkwfSwge3g6IDQsIHk6IDg4fSwge3g6IDQsIHk6IDkyfSwge3g6IDQsIHk6IDg5fSxcbiAgICB7eDogNiwgeTogODd9LCB7eDogNiwgeTogODV9LCB7eDogNiwgeTogODl9LCB7eDogNiwgeTogODR9LFxuICAgIHt4OiA4LCB5OiA4NH0sIHt4OiA4LCB5OiA4Mn0sIHt4OiA4LCB5OiA4Nn0sIHt4OiA4LCB5OiA4MX0sXG4gICAge3g6IDEwLCB5OiA4MX0sIHt4OiAxMCwgeTogNzl9LCB7eDogMTAsIHk6IDgzfSwge3g6IDEwLCB5OiA3OH1cbiAgXTtcbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LmRvdChzY2F0dGVyX3BhaXJzLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA2fSksXG4gICAgICBQbG90LnRleHQoW3t4OiA2LCB5OiA3NX1dLCB7eDogXCJ4XCIsIHk6IFwieVwiLCB0ZXh0OiBcIk11bHRpcGxlIG9ic2VydmF0aW9ucyBhdCBlYWNoIHggdmFsdWUgY3JlYXRlcyBwcm9wZXIgc2NhdHRlclwiLCBmb250U2l6ZTogMTR9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIkhvdXJzIENvbnN1bHRpbmcgKHgpXCIsIGRvbWFpbjogWzAsIDEyXX0sXG4gICAgeToge2xhYmVsOiBcIk1lbnRhbCBXZWxsYmVpbmcgKHkpXCIsIGRvbWFpbjogWzc1LCAxMDBdfSxcbiAgICBncmlkOiB0cnVlLFxuICAgIGNhcHRpb246IFwiUmVhbCBkYXRhIGhhcyBuYXR1cmFsIHZhcmlhYmlsaXR5IC0gbXVsdGlwbGUgeSB2YWx1ZXMgZm9yIHNpbWlsYXIgeCB2YWx1ZXNcIlxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBsaW5lX2NvbXBhcmlzb24gPSBJbnB1dHMucmFkaW8oXG4gIFtcIlNob3cgY29ycmVsYXRpb24gbGluZVwiLCBcIlNob3cgcmVncmVzc2lvbiBsaW5lXCIsIFwiU2hvdyBib3RoXCJdLFxuICB7dmFsdWU6IFwiU2hvdyBib3RoXCIsIGxhYmVsOiBcIkRpc3BsYXk6XCJ9XG4pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICAvLyBNb3JlIHJlYWxpc3RpYyBzY2F0dGVyIGRhdGEgd2l0aCBtdWx0aXBsZSBwb2ludHMgcGVyIHhcbiAgY29uc3QgcmVhbGlzdGljX2RhdGEgPSBbXG4gICAge3g6IDIsIHk6IDk1fSwge3g6IDIsIHk6IDkzfSwge3g6IDIsIHk6IDk3fSwge3g6IDIsIHk6IDk0fSxcbiAgICB7eDogNCwgeTogOTB9LCB7eDogNCwgeTogODh9LCB7eDogNCwgeTogOTJ9LCB7eDogNCwgeTogODl9LCB7eDogNCwgeTogOTF9LFxuICAgIHt4OiA2LCB5OiA4N30sIHt4OiA2LCB5OiA4NX0sIHt4OiA2LCB5OiA4OX0sIHt4OiA2LCB5OiA4NH0sIHt4OiA2LCB5OiA4Nn0sXG4gICAge3g6IDgsIHk6IDg0fSwge3g6IDgsIHk6IDgyfSwge3g6IDgsIHk6IDg2fSwge3g6IDgsIHk6IDgxfSwge3g6IDgsIHk6IDgzfSxcbiAgICB7eDogMTAsIHk6IDgxfSwge3g6IDEwLCB5OiA3OX0sIHt4OiAxMCwgeTogODN9LCB7eDogMTAsIHk6IDc4fSwge3g6IDEwLCB5OiA4MH1cbiAgXTtcbiAgXG4gIGNvbnN0IG1hcmtzID0gW1Bsb3QuZG90KHJlYWxpc3RpY19kYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA4fSldO1xuICBcbiAgaWYgKGxpbmVfY29tcGFyaXNvbiA9PT0gXCJTaG93IGNvcnJlbGF0aW9uIGxpbmVcIiB8fCBsaW5lX2NvbXBhcmlzb24gPT09IFwiU2hvdyBib3RoXCIpIHtcbiAgICBtYXJrcy5wdXNoKFxuICAgICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShyZWFsaXN0aWNfZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgc3Ryb2tlOiBcImdyYXlcIiwgc3Ryb2tlV2lkdGg6IDMsIHN0cm9rZURhc2hhcnJheTogXCI4LDRcIn0pXG4gICAgKTtcbiAgfVxuICBcbiAgaWYgKGxpbmVfY29tcGFyaXNvbiA9PT0gXCJTaG93IHJlZ3Jlc3Npb24gbGluZVwiIHx8IGxpbmVfY29tcGFyaXNvbiA9PT0gXCJTaG93IGJvdGhcIikge1xuICAgIG1hcmtzLnB1c2goXG4gICAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKHJlYWxpc3RpY19kYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSlcbiAgICApO1xuICB9XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogbWFya3MsXG4gICAgeDoge2xhYmVsOiBcIkhvdXJzIENvbnN1bHRpbmcgKHgpXCIsIGRvbWFpbjogWzAsIDEyXX0sXG4gICAgeToge2xhYmVsOiBcIk1lbnRhbCBXZWxsYmVpbmcgKHkpXCIsIGRvbWFpbjogWzc1LCAxMDBdfSxcbiAgICBncmlkOiB0cnVlLFxuICAgIHdpZHRoOiA3MDAsXG4gICAgaGVpZ2h0OiA0MDBcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTExIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LXNpemU6IDY0cHg7IG1hcmdpbjogNTBweCAwO1wiPlxuPHN0cm9uZz55ID0gzrJ4ICsgYzwvc3Ryb25nPlxuPC9kaXY+XG5cbjxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsgZm9udC1zaXplOiAyNHB4OyBtYXJnaW4tdG9wOiA0MHB4O1wiPlxuPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbjxzdHJvbmcgc3R5bGU9XCJjb2xvcjogIzFmNzdiNDsgZm9udC1zaXplOiAzMnB4O1wiPnk8L3N0cm9uZz48YnIvPlxuVGhlIHZhbHVlIG9mIHRoZTxici8+XG48c3Ryb25nPm91dGNvbWUgdmFyaWFibGU8L3N0cm9uZz48YnIvPlxuQWxzbyBjYWxsZWQgYSBEVlxuPC9kaXY+XG5cbjxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG48c3Ryb25nIHN0eWxlPVwiY29sb3I6ICNmZjdmMGU7IGZvbnQtc2l6ZTogMzJweDtcIj7Osjwvc3Ryb25nPjxici8+XG48c3Ryb25nPlRoZSBzbG9wZTwvc3Ryb25nPjxici8+XG5UaGUgYW1vdW50IHRoYXQgeSBjaGFuZ2VzPGJyLz5cbmZvciBldmVyeSBhbW91bnQgdGhhdCB4IGNoYW5nZXNcbjwvZGl2PlxuXG48ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPlxuPHN0cm9uZyBzdHlsZT1cImNvbG9yOiAjMmNhMDJjOyBmb250LXNpemU6IDMycHg7XCI+eDwvc3Ryb25nPjxici8+XG5UaGUgdmFsdWUgb2YgdGhlPGJyLz5cbjxzdHJvbmc+cHJlZGljdG9yPC9zdHJvbmc+PGJyLz5cbkFsc28gY2FsbGVkIGFuIElWXG48L2Rpdj5cblxuPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbjxzdHJvbmcgc3R5bGU9XCJjb2xvcjogI2Q2MjcyODsgZm9udC1zaXplOiAzMnB4O1wiPmM8L3N0cm9uZz48YnIvPlxuPHN0cm9uZz5UaGUgaW50ZXJjZXB0PC9zdHJvbmc+PGJyLz5cblRoZSB2YWx1ZSBvZiB5PGJyLz5cbmlmIHggd2FzIDBcbjwvZGl2PlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGg0PkFkanVzdCB0aGUgcmVncmVzc2lvbiBwYXJhbWV0ZXJzOjwvaDQ+YFxuXG52aWV3b2Ygc2xvcGVfYmV0dGVyID0gSW5wdXRzLnJhbmdlKFstMywgNl0sIHtcbiAgdmFsdWU6IE1hdGgucmFuZG9tKCkgKiA0IC0gMSwgIC8vIFJhbmRvbSBzdGFydGluZyBwb2ludCFcbiAgc3RlcDogMC4xLFxuICBsYWJlbDogXCJTbG9wZSAozrIpXCJcbn0pXG5cbnZpZXdvZiBpbnRlcmNlcHRfYmV0dGVyID0gSW5wdXRzLnJhbmdlKFstNSwgMTVdLCB7XG4gIHZhbHVlOiBNYXRoLnJhbmRvbSgpICogMTAgKyAyLCAgLy8gUmFuZG9tIHN0YXJ0aW5nIHBvaW50IVxuICBzdGVwOiAwLjIsXG4gIGxhYmVsOiBcIkludGVyY2VwdCAoYylcIlxufSlcblxuaHRtbGA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2YwZjBmMDsgcGFkZGluZzogMTVweDsgbWFyZ2luLXRvcDogMjBweDsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuPHN0cm9uZz5Zb3VyIGVxdWF0aW9uOjwvc3Ryb25nPjxici8+XG55ID0gJHtzbG9wZV9iZXR0ZXIudG9GaXhlZCgxKX14ICsgJHtpbnRlcmNlcHRfYmV0dGVyLnRvRml4ZWQoMSl9XG48L2Rpdj5gXG5cbnZpZXdvZiBzaG93X2Jlc3RfZml0ID0gSW5wdXRzLmNoZWNrYm94KFtcIlNob3cgYmVzdCBmaXQgbGluZVwiXSwge3ZhbHVlOiBbXX0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICAvLyBNb3JlIHNjYXR0ZXJlZCBhbmQgcmVhbGlzdGljIGRhdGEgcG9pbnRzIC0gbXVsdGlwbGUgcG9pbnRzIHBlciB4XG4gIGNvbnN0IHhfZGF0YSA9IFsxLCAxLCAyLjUsIDIuNSwgMi41LCA0LCA0LCA0LCA1LjUsIDUuNSwgNS41LCA3LCA3LCA3LCA4LjUsIDguNSwgOC41LCAxMCwgMTAsIDEwLCAxMS41LCAxMS41XTtcbiAgY29uc3QgeV9kYXRhID0gWzEyLCAxNCwgOCwgMTAsIDYsIDE1LCAxMywgMTcsIDExLCA5LCAxMywgMTgsIDE2LCAyMCwgMTQsIDEyLCAxNiwgMjEsIDE5LCAyMywgMTcsIDE1XTsgIC8vIE1vcmUgdmFyaWF0aW9uIVxuXG4gIGNvbnN0IHhfbGluZSA9IFstMSwgMTNdO1xuICBjb25zdCB5X2xpbmUgPSB4X2xpbmUubWFwKHhpID0+IHNsb3BlX2JldHRlciAqIHhpICsgaW50ZXJjZXB0X2JldHRlcik7XG5cbiAgLy8gVHJ1ZSByZWdyZXNzaW9uIGxpbmUgKHN0ZWVwZXIgc2xvcGUpXG4gIGNvbnN0IHRydWVfc2xvcGUgPSAxLjI7XG4gIGNvbnN0IHRydWVfaW50ZXJjZXB0ID0gODtcbiAgY29uc3QgeV90cnVlX2xpbmUgPSB4X2xpbmUubWFwKHhpID0+IHRydWVfc2xvcGUgKiB4aSArIHRydWVfaW50ZXJjZXB0KTtcblxuICAvLyBDYWxjdWxhdGUgcHJlZGljdGlvbiBlcnJvcnNcbiAgY29uc3QgZXJyb3JzID0geF9kYXRhLm1hcCgoeGksIGkpID0+IE1hdGguYWJzKChzbG9wZV9iZXR0ZXIgKiB4aSArIGludGVyY2VwdF9iZXR0ZXIpIC0geV9kYXRhW2ldKSk7XG4gIGNvbnN0IHRvdGFsX2Vycm9yID0gZDMuc3VtKGVycm9ycyk7XG4gIGNvbnN0IGJlc3RfZml0X2Vycm9yID0gZDMuc3VtKHhfZGF0YS5tYXAoKHhpLCBpKSA9PiBNYXRoLmFicygodHJ1ZV9zbG9wZSAqIHhpICsgdHJ1ZV9pbnRlcmNlcHQpIC0geV9kYXRhW2ldKSkpO1xuXG4gIGNvbnN0IG1hcmtzID0gW1xuICAgIC8vIFlvdXIgbGluZVxuICAgIFBsb3QubGluZShbe3g6IHhfbGluZVswXSwgeTogeV9saW5lWzBdfSwge3g6IHhfbGluZVsxXSwgeTogeV9saW5lWzFdfV0sIFxuICAgICAgICAgICAgICB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgLy8gRGF0YSBwb2ludHMgKGJpZ2dlciBhbmQgbW9yZSB2aXNpYmxlKVxuICAgIFBsb3QuZG90KHhfZGF0YS5tYXAoKHhpLCBpKSA9PiAoe3g6IHhpLCB5OiB5X2RhdGFbaV19KSksIFxuICAgICAgICAgICAgIHt4OiBcInhcIiwgeTogXCJ5XCIsIHI6IDYsIGZpbGw6IFwic3RlZWxibHVlXCIsIHN0cm9rZTogXCJ3aGl0ZVwiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgIC8vIEVycm9yIGxpbmVzIChtb3JlIGRyYW1hdGljKVxuICAgIFBsb3QubGluayh4X2RhdGEubWFwKCh4aSwgaSkgPT4gKHtcbiAgICAgIHgxOiB4aSwgeTE6IHlfZGF0YVtpXSwgeDI6IHhpLCB5Mjogc2xvcGVfYmV0dGVyICogeGkgKyBpbnRlcmNlcHRfYmV0dGVyXG4gICAgfSkpLCB7XG4gICAgICB4MTogXCJ4MVwiLCB5MTogXCJ5MVwiLCB4MjogXCJ4MlwiLCB5MjogXCJ5MlwiLFxuICAgICAgc3Ryb2tlOiBcIm9yYW5nZVwiLCBzdHJva2VXaWR0aDogMiwgc3Ryb2tlRGFzaGFycmF5OiBcIjMsM1wiXG4gICAgfSlcbiAgXTtcblxuICAvLyBBZGQgYmVzdCBmaXQgbGluZSBpZiBjaGVja2VkXG4gIGlmIChzaG93X2Jlc3RfZml0Lmxlbmd0aCA+IDApIHtcbiAgICBtYXJrcy5wdXNoKFxuICAgICAgUGxvdC5saW5lKFt7eDogeF9saW5lWzBdLCB5OiB5X3RydWVfbGluZVswXX0sIHt4OiB4X2xpbmVbMV0sIHk6IHlfdHJ1ZV9saW5lWzFdfV0sIFxuICAgICAgICAgICAgICAgIHt4OiBcInhcIiwgeTogXCJ5XCIsIHN0cm9rZTogXCJncmVlblwiLCBzdHJva2VXaWR0aDogMywgc3Ryb2tlRGFzaGFycmF5OiBcIjgsNFwiLCBvcGFjaXR5OiAwLjh9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogbWFya3MsXG4gICAgeDoge2RvbWFpbjogWy0xLCAxM10sIGxhYmVsOiBcInggKFByZWRpY3RvcilcIn0sXG4gICAgeToge2RvbWFpbjogWy01LCAyNV0sIGxhYmVsOiBcInkgKE91dGNvbWUpXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgY2FwdGlvbjogYFlvdXIgZXJyb3I6ICR7dG90YWxfZXJyb3IudG9GaXhlZCgxKX0gfCBCZXN0IGZpdCBlcnJvcjogJHtiZXN0X2ZpdF9lcnJvci50b0ZpeGVkKDEpfSB8ICR7dG90YWxfZXJyb3IgPCBiZXN0X2ZpdF9lcnJvciAqIDEuMSA/IFwi8J+OryBWZXJ5IGNsb3NlIVwiIDogXCJLZWVwIGFkanVzdGluZyFcIn1gXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMjhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDQwcHggMDsgbGluZS1oZWlnaHQ6IDEuNjtcIj5cbjxwPjxzdHJvbmc+V2h5IGlzbid0IHByZWRpY3Rpb24gcGVyZmVjdD88L3N0cm9uZz48L3A+XG48YnIvPlxuPHA+SHVtYW5zIGFyZSBuYXR1cmFsbHkgdmFyaWFibGUhIEV2ZW4gd2l0aCB0aGUgc2FtZSBzdHVkeSBob3Vycyw8YnIvPlxuZGlmZmVyZW50IHN0dWRlbnRzIGdldCBkaWZmZXJlbnQgZXhhbSBzY29yZXMgYmVjYXVzZSBvZjo8L3A+XG48YnIvPlxuPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMjRweDsgdGV4dC1hbGlnbjogbGVmdDsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XG7igKIgPHN0cm9uZz5TbGVlcCBxdWFsaXR5PC9zdHJvbmc+IHRoZSBuaWdodCBiZWZvcmU8YnIvPlxu4oCiIDxzdHJvbmc+VGVzdCBhbnhpZXR5PC9zdHJvbmc+IGxldmVsczxici8+XG7igKIgPHN0cm9uZz5QcmlvciBrbm93bGVkZ2U8L3N0cm9uZz4gZGlmZmVyZW5jZXM8YnIvPlxu4oCiIDxzdHJvbmc+TW90aXZhdGlvbjwvc3Ryb25nPiBvbiB0aGF0IGRheTxici8+XG7igKIgPHN0cm9uZz5MdWNrPC9zdHJvbmc+IHdpdGggcXVlc3Rpb24gdG9waWNzPGJyLz5cbuKAoiA8c3Ryb25nPkNvZmZlZSBjb25zdW1wdGlvbjwvc3Ryb25nPiDwn5iKXG48L2Rpdj5cbjxici8+XG48cCBzdHlsZT1cImNvbG9yOiAjZDMyZjJmO1wiPjxzdHJvbmc+RXJyb3IgdGVybSA9IEFsbCB0aGUgbmF0dXJhbCB2YXJpYWJpbGl0eTxici8+XG53ZSBjYW5ub3QgZXhwbGFpbiB3aXRoIG91ciBwcmVkaWN0b3I8L3N0cm9uZz48L3A+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIGVycm9yX3NjZW5hcmlvID0gSW5wdXRzLnJhZGlvKFxuICBbXCJQZXJmZWN0IHByZWRpY3Rpb24gKG5vIGVycm9yKVwiLCBcIlNvbWUgbmF0dXJhbCB2YXJpYWJpbGl0eVwiLCBcIkxvdHMgb2YgbmF0dXJhbCB2YXJpYWJpbGl0eVwiXSxcbiAge3ZhbHVlOiBcIlNvbWUgbmF0dXJhbCB2YXJpYWJpbGl0eVwiLCBsYWJlbDogXCJTY2VuYXJpbzpcIn1cbilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIGNvbnN0IHhfdmFscyA9IGQzLnJhbmdlKDEsIDExKTtcbiAgbGV0IHlfdmFscywgZXJyb3JfbGV2ZWwsIGRhdGFfcG9pbnRzID0gW107XG4gIFxuICBpZiAoZXJyb3Jfc2NlbmFyaW8gPT09IFwiUGVyZmVjdCBwcmVkaWN0aW9uIChubyBlcnJvcilcIikge1xuICAgIC8vIFBlcmZlY3QgLSBldmVyeW9uZSBnZXRzIGV4YWN0bHkgd2hhdCdzIHByZWRpY3RlZFxuICAgIHhfdmFscy5mb3JFYWNoKHggPT4ge1xuICAgICAgZGF0YV9wb2ludHMucHVzaCh7eDogeCwgeTogMiAqIHggKyAzfSk7XG4gICAgfSk7XG4gICAgZXJyb3JfbGV2ZWwgPSAwO1xuICB9IGVsc2UgaWYgKGVycm9yX3NjZW5hcmlvID09PSBcIlNvbWUgbmF0dXJhbCB2YXJpYWJpbGl0eVwiKSB7XG4gICAgLy8gU29tZSB2YXJpYWJpbGl0eSAtIG5hdHVyYWwgaHVtYW4gZGlmZmVyZW5jZXNcbiAgICB4X3ZhbHMuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGNvbnN0IGJhc2VfeSA9IDIgKiB4ICsgMztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGRhdGFfcG9pbnRzLnB1c2goe3g6IHggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjMsIHk6IGJhc2VfeSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDR9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlcnJvcl9sZXZlbCA9IDE7XG4gIH0gZWxzZSB7XG4gICAgLy8gTG90cyBvZiB2YXJpYWJpbGl0eSAtIG1hbnkgb3RoZXIgZmFjdG9ycyBtYXR0ZXJcbiAgICB4X3ZhbHMuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGNvbnN0IGJhc2VfeSA9IDIgKiB4ICsgMztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGRhdGFfcG9pbnRzLnB1c2goe3g6IHggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjQsIHk6IGJhc2VfeSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDEwfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZXJyb3JfbGV2ZWwgPSAyO1xuICB9XG4gIFxuICBjb25zdCBsaW5lX2RhdGEgPSBbe3g6IDAsIHk6IDN9LCB7eDogMTEsIHk6IDI1fV07XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5saW5lKGxpbmVfZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogM30pLFxuICAgICAgUGxvdC5kb3QoZGF0YV9wb2ludHMsIHt4OiBcInhcIiwgeTogXCJ5XCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDUsIG9wYWNpdHk6IDAuN30pXG4gICAgXSxcbiAgICB4OiB7ZG9tYWluOiBbMCwgMTFdLCBsYWJlbDogXCJTdHVkeSBIb3VycyAoeClcIn0sXG4gICAgeToge2RvbWFpbjogWzAsIDMwXSwgbGFiZWw6IFwiRXhhbSBTY29yZSAoeSlcIn0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBlcnJvcl9sZXZlbCA9PT0gMCA/IFwiSW1wb3NzaWJsZTogUGVyZmVjdCBwcmVkaWN0aW9uIG1lYW5zIG5vIGh1bWFuIHZhcmlhYmlsaXR5XCIgOlxuICAgICAgICAgICAgIGVycm9yX2xldmVsID09PSAxID8gXCJSZWFsaXN0aWM6IFNvbWUgbmF0dXJhbCB2YXJpYWJpbGl0eSBiZXR3ZWVuIHBlb3BsZVwiIDpcbiAgICAgICAgICAgICBcIkNvbW1vbjogTG90cyBvZiBmYWN0b3JzIHdlIGRpZG4ndCBtZWFzdXJlIGFmZmVjdCB0aGUgb3V0Y29tZVwiXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1zaXplOiAzNnB4OyBtYXJnaW46IDQwcHggMDtcIj5cbjxzdHJvbmc+UsKyID0gUHJvcG9ydGlvbiBvZiB2YXJpYW5jZSBpbiBZIGV4cGxhaW5lZCBieSBYPC9zdHJvbmc+XG48YnIvPjxici8+XG48ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAyNHB4O1wiPlxuSWYgUsKyID0gMC42MCwgdGhlbjo8YnIvPlxu4oCiIDYwJSBvZiB2YXJpYXRpb24gaW4gWSBpcyBkdWUgdG8gWDxici8+XG7igKIgNDAlIG9mIHZhcmlhdGlvbiBpcyBkdWUgdG8gb3RoZXIgZmFjdG9ycyAobmF0dXJhbCB2YXJpYWJpbGl0eSlcbjwvZGl2PlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPHA+PHN0cm9uZz5Db21wYXJlIFLCsiB2YWx1ZXM6PC9zdHJvbmc+PC9wPmBcblxudmlld29mIHJfc3F1YXJlZF9kcmFtYXRpYyA9IElucHV0cy5yYW5nZShbMC4wNSwgMC45OF0sIHtcbiAgdmFsdWU6IDAuNixcbiAgc3RlcDogMC4wNSxcbiAgbGFiZWw6IFwiVGFyZ2V0IFLCslwiXG59KVxuXG52aWV3b2YgZGF0YXNldF9zaXplID0gSW5wdXRzLnJhbmdlKFs0MCwgMTIwXSwge1xuICB2YWx1ZTogODAsXG4gIHN0ZXA6IDEwLFxuICBsYWJlbDogXCJOdW1iZXIgb2YgZGF0YSBwb2ludHNcIlxufSlcblxuaHRtbGA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2U4ZjRmODsgcGFkZGluZzogMTVweDsgbWFyZ2luLXRvcDogMjBweDsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuPHN0cm9uZz5DdXJyZW50IFLCsjo8L3N0cm9uZz4gJHtyX3NxdWFyZWRfZHJhbWF0aWMudG9GaXhlZCgyKX08YnIvPlxuPHN0cm9uZz5JbnRlcnByZXRhdGlvbjo8L3N0cm9uZz48YnIvPlxuJHsocl9zcXVhcmVkX2RyYW1hdGljICogMTAwKS50b0ZpeGVkKDApfSUgb2YgdmFyaWFuY2UgZXhwbGFpbmVkPGJyLz5cbiR7KDEwMCAtIHJfc3F1YXJlZF9kcmFtYXRpYyAqIDEwMCkudG9GaXhlZCgwKX0lIGR1ZSB0byBuYXR1cmFsIHZhcmlhYmlsaXR5XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICBjb25zdCBuID0gZGF0YXNldF9zaXplO1xuICBjb25zdCB4ID0gZDMucmFuZ2UobikubWFwKGkgPT4gKGkgLyBuKSAqIDEyICsgMSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMyk7XG4gIFxuICAvLyBDcmVhdGUgbXVjaCBtb3JlIGRyYW1hdGljIGRpZmZlcmVuY2VzXG4gIGNvbnN0IHNsb3BlID0gMzsgIC8vIFN0ZWVwZXIgc2xvcGVcbiAgY29uc3QgaW50ZXJjZXB0ID0gNTtcbiAgY29uc3QgdHJ1ZV95ID0geC5tYXAoeGkgPT4gc2xvcGUgKiB4aSArIGludGVyY2VwdCk7XG4gIFxuICAvLyBNdWNoIG1vcmUgZHJhbWF0aWMgbm9pc2UgZGlmZmVyZW5jZXNcbiAgY29uc3QgdmFyX3kgPSBkMy52YXJpYW5jZSh0cnVlX3kpO1xuICBjb25zdCBub2lzZV9tdWx0aXBsaWVyID0gcl9zcXVhcmVkX2RyYW1hdGljIDwgMC4zID8gOCA6IHJfc3F1YXJlZF9kcmFtYXRpYyA8IDAuNiA/IDQgOiAyO1xuICBjb25zdCBzZF9yZXNpZHVhbCA9IE1hdGguc3FydCh2YXJfeSAqICgxIC0gcl9zcXVhcmVkX2RyYW1hdGljKSkgKiBub2lzZV9tdWx0aXBsaWVyO1xuICBjb25zdCB5ID0gdHJ1ZV95Lm1hcCh5aSA9PiB5aSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDIgKiBzZF9yZXNpZHVhbCk7XG4gIFxuICBjb25zdCBkYXRhID0geC5tYXAoKHhpLCBpKSA9PiAoe3g6IHhpLCB5OiB5W2ldfSkpO1xuICBcbiAgLy8gQ2FsY3VsYXRlIGFjdHVhbCBSwrJcbiAgY29uc3QgbWVhbl95ID0gZDMubWVhbih5KTtcbiAgY29uc3Qgc3NfdG90ID0gZDMuc3VtKHkubWFwKHlpID0+ICh5aSAtIG1lYW5feSkgKiogMikpO1xuICBjb25zdCBwcmVkaWN0ZWRfeSA9IHgubWFwKHhpID0+IHNsb3BlICogeGkgKyBpbnRlcmNlcHQpO1xuICBjb25zdCBzc19yZXMgPSBkMy5zdW0oeS5tYXAoKHlpLCBpKSA9PiAoeWkgLSBwcmVkaWN0ZWRfeVtpXSkgKiogMikpO1xuICBjb25zdCBhY3R1YWxfcjIgPSBNYXRoLm1heCgwLCAxIC0gKHNzX3JlcyAvIHNzX3RvdCkpO1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QuZG90KGRhdGEsIHt4OiBcInhcIiwgeTogXCJ5XCIsIGZpbGw6IFwic3RlZWxibHVlXCIsIHI6IDMsIG9wYWNpdHk6IDAuN30pLFxuICAgICAgUGxvdC5saW5lYXJSZWdyZXNzaW9uWShkYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSlcbiAgICBdLFxuICAgIHg6IHtsYWJlbDogXCJQcmVkaWN0b3IgKHgpXCJ9LFxuICAgIHk6IHtsYWJlbDogXCJPdXRjb21lICh5KVwifSxcbiAgICBncmlkOiB0cnVlLFxuICAgIGNhcHRpb246IGBUYXJnZXQgUsKyID0gJHtyX3NxdWFyZWRfZHJhbWF0aWMudG9GaXhlZCgyKX0gfCBBY3R1YWwgUsKyID0gJHthY3R1YWxfcjIudG9GaXhlZCgzKX0gfCAke2FjdHVhbF9yMiA+IDAuOCA/IFwiVmVyeSB0aWdodCBmaXQhXCIgOiBhY3R1YWxfcjIgPiAwLjUgPyBcIk1vZGVyYXRlIGZpdFwiIDogXCJMb29zZSBmaXQgLSBsb3RzIG9mIHVuZXhwbGFpbmVkIHZhcmlhbmNlXCJ9YFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMzZweDsgbWFyZ2luOiA0MHB4IDA7XCI+XG48c3Ryb25nPs6yID0gSG93IG11Y2ggeSBjaGFuZ2VzIGVhY2ggdGltZSB4IGNoYW5nZXM8L3N0cm9uZz5cbjxici8+PGJyLz5cbjxkaXYgc3R5bGU9XCJmb250LXNpemU6IDI0cHg7XCI+XG5UaGlzIGlzIHRoZSA8c3Ryb25nPnNsb3BlPC9zdHJvbmc+IG9mIHRoZSByZWdyZXNzaW9uIGxpbmU8YnIvPlxuU3RlZXBlciBsaW5lID0gbGFyZ2VyIM6yPGJyLz5cbs6yIGRvZXMgTk9UIHRlbGwgeW91IGhvdyBjbG9zZSBwb2ludHMgYXJlIHRvIHRoZSBsaW5lXG48L2Rpdj5cbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxoND5TZXQgcmVncmVzc2lvbiBjaGFyYWN0ZXJpc3RpY3M6PC9oND5gXG5cbnZpZXdvZiBiZXRhX2RyYW1hdGljID0gSW5wdXRzLnJhbmdlKFstNCwgNl0sIHsgIC8vIE1vcmUgZXh0cmVtZSBzbG9wZXMhXG4gIHZhbHVlOiAxLFxuICBzdGVwOiAwLjIsXG4gIGxhYmVsOiBcIs6yIChTbG9wZSBtYWduaXR1ZGUpXCJcbn0pXG5cbnZpZXdvZiByMl9kcmFtYXRpYyA9IElucHV0cy5yYW5nZShbMC4xLCAwLjk1XSwge1xuICB2YWx1ZTogMC43LFxuICBzdGVwOiAwLjA1LFxuICBsYWJlbDogXCJSwrIgKEZpdCBwcmVjaXNpb24pXCJcbn0pXG5cbmh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmZmYzY2Q7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi10b3A6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbjxzdHJvbmc+Q29uZmlndXJhdGlvbjo8L3N0cm9uZz48YnIvPlxuU2xvcGUgKM6yKTogJHtiZXRhX2RyYW1hdGljLnRvRml4ZWQoMSl9PGJyLz5cblByZWNpc2lvbiAoUsKyKTogJHtyMl9kcmFtYXRpYy50b0ZpeGVkKDIpfVxuPGJyLz48YnIvPlxuPHN0cm9uZz4ke01hdGguYWJzKGJldGFfZHJhbWF0aWMpID4gMiA/IFwiSElHSFwiIDogXCJMT1dcIn0gbWFnbml0dWRlPC9zdHJvbmc+PGJyLz5cbjxzdHJvbmc+JHtyMl9kcmFtYXRpYyA+IDAuNiA/IFwiSElHSFwiIDogXCJMT1dcIn0gcHJlY2lzaW9uPC9zdHJvbmc+PGJyLz48YnIvPlxuPGVtPiR7TWF0aC5hYnMoYmV0YV9kcmFtYXRpYykgPiAyICYmIHIyX2RyYW1hdGljID4gMC42ID8gXCLwn46vIFN0cm9uZyAmIHByZWNpc2UhXCIgOiBcbiAgICAgTWF0aC5hYnMoYmV0YV9kcmFtYXRpYykgPiAyICYmIHIyX2RyYW1hdGljIDw9IDAuNiA/IFwi8J+TiCBTdHJvbmcgYnV0IGltcHJlY2lzZVwiIDpcbiAgICAgTWF0aC5hYnMoYmV0YV9kcmFtYXRpYykgPD0gMiAmJiByMl9kcmFtYXRpYyA+IDAuNiA/IFwi8J+TjyBXZWFrIGJ1dCBwcmVjaXNlXCIgOlxuICAgICBcIuKdkyBXZWFrIGFuZCBpbXByZWNpc2VcIn08L2VtPlxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IntcbiAgY29uc3QgbiA9IDcwO1xuICBjb25zdCB4ID0gZDMucmFuZ2UobikubWFwKGkgPT4gKGkgLyBuKSAqIDggKyAxICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4zKTtcbiAgY29uc3QgdHJ1ZV95ID0geC5tYXAoeGkgPT4gYmV0YV9kcmFtYXRpYyAqIHhpICsgMTApO1xuICBcbiAgLy8gQ3JlYXRlIG1vcmUgZHJhbWF0aWMgc2NhdHRlciBkaWZmZXJlbmNlc1xuICBjb25zdCB2YXJfeSA9IGQzLnZhcmlhbmNlKHRydWVfeSk7XG4gIGNvbnN0IHNjYXR0ZXJfZmFjdG9yID0gcjJfZHJhbWF0aWMgPCAwLjMgPyA2IDogcjJfZHJhbWF0aWMgPCAwLjYgPyAzIDogMTtcbiAgY29uc3Qgc2RfcmVzaWR1YWwgPSBNYXRoLnNxcnQodmFyX3kgKiAoMSAtIHIyX2RyYW1hdGljKSkgKiBzY2F0dGVyX2ZhY3RvcjtcbiAgY29uc3QgeSA9IHRydWVfeS5tYXAoeWkgPT4geWkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyICogc2RfcmVzaWR1YWwpO1xuICBcbiAgY29uc3QgZGF0YSA9IHgubWFwKCh4aSwgaSkgPT4gKHt4OiB4aSwgeTogeVtpXX0pKTtcbiAgY29uc3QgbGluZV9kYXRhID0geC5tYXAoeGkgPT4gKHt4OiB4aSwgeTogYmV0YV9kcmFtYXRpYyAqIHhpICsgMTB9KSk7XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5kb3QoZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgZmlsbDogXCJzdGVlbGJsdWVcIiwgcjogNCwgb3BhY2l0eTogMC42fSksXG4gICAgICBQbG90LmxpbmUobGluZV9kYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA1fSlcbiAgICBdLFxuICAgIHg6IHtsYWJlbDogXCJQcmVkaWN0b3IgKHgpXCJ9LFxuICAgIHk6IHtsYWJlbDogXCJPdXRjb21lICh5KVwifSxcbiAgICBncmlkOiB0cnVlLFxuICAgIGNhcHRpb246IGDOsiA9ICR7YmV0YV9kcmFtYXRpYy50b0ZpeGVkKDEpfSAoc2xvcGUgc3RlZXBuZXNzKSB8IFLCsiA9ICR7cjJfZHJhbWF0aWMudG9GaXhlZCgyKX0gKHRpZ2h0bmVzcyBvZiBmaXQpYFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIC8vIEFOT1ZBLXN0eWxlIGRhdGEgd2l0aCB0aHJlZSBncm91cHMgLSBNT1JFIHNjYXR0ZXIgcG9pbnRzXG4gIGNvbnN0IGdyb3VwX2RhdGEgPSBbXG4gICAgLy8gR3JvdXAgMSAtIG11bHRpcGxlIHBvaW50cyB3aXRoIHZhcmlhYmlsaXR5XG4gICAgLi4uZDMucmFuZ2UoMjApLm1hcCgoKSA9PiAoe2dyb3VwOiBcIkdyb3VwIDFcIiwgeDogMSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMTUsIHk6IDEyICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNn0pKSxcbiAgICAvLyBHcm91cCAyICBcbiAgICAuLi5kMy5yYW5nZSgyMCkubWFwKCgpID0+ICh7Z3JvdXA6IFwiR3JvdXAgMlwiLCB4OiAyICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xNSwgeTogMTYgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA2fSkpLFxuICAgIC8vIEdyb3VwIDNcbiAgICAuLi5kMy5yYW5nZSgyMCkubWFwKCgpID0+ICh7Z3JvdXA6IFwiR3JvdXAgM1wiLCB4OiAzICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xNSwgeTogMjAgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA2fSkpXG4gIF07XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5kb3QoZ3JvdXBfZGF0YSwge3g6IFwieFwiLCB5OiBcInlcIiwgZmlsbDogXCJncm91cFwiLCByOiA0fSksXG4gICAgICAvLyBHcm91cCBtZWFuc1xuICAgICAgUGxvdC5ydWxlWShbMTIsIDE2LCAyMF0sIHt4OiBbMSwgMiwgM10sIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QuZG90KFt7eDogMSwgeTogMTJ9LCB7eDogMiwgeTogMTZ9LCB7eDogMywgeTogMjB9XSwgXG4gICAgICAgICAgICAgICB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInJlZFwiLCByOiA4LCBzdHJva2U6IFwid2hpdGVcIiwgc3Ryb2tlV2lkdGg6IDJ9KVxuICAgIF0sXG4gICAgeDoge2xhYmVsOiBcIkdyb3VwIChjYXRlZ29yaWNhbClcIiwgZG9tYWluOiBbMC41LCAzLjVdLCB0aWNrRm9ybWF0OiBkID0+IGBHcm91cCAke2R9YH0sXG4gICAgeToge2xhYmVsOiBcIk91dGNvbWUgKFkpXCIsIGRvbWFpbjogWzUsIDI1XX0sXG4gICAgY29sb3I6IHtsZWdlbmQ6IHRydWV9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgd2lkdGg6IDM1MCxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICBjYXB0aW9uOiBcIklmIHlvdSBrbm93IGdyb3VwIOKGkiBwcmVkaWN0IGdyb3VwIG1lYW4gwrEgZXJyb3JcIlxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIC8vIFJlZ3Jlc3Npb24gZGF0YSAtIE1PUkUgc2NhdHRlciBwb2ludHNcbiAgY29uc3QgcmVnX2RhdGEgPSBkMy5yYW5nZSg2MCkubWFwKGkgPT4ge1xuICAgIGNvbnN0IHggPSAoaSAvIDYwKSAqIDggKyAxICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4zO1xuICAgIGNvbnN0IHkgPSAyICogeCArIDggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA0O1xuICAgIHJldHVybiB7eDogeCwgeTogeX07XG4gIH0pO1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QuZG90KHJlZ19kYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBmaWxsOiBcInN0ZWVsYmx1ZVwiLCByOiA0fSksXG4gICAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKHJlZ19kYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSlcbiAgICBdLFxuICAgIHg6IHtsYWJlbDogXCJQcmVkaWN0b3IgKGNvbnRpbnVvdXMpXCIsIGRvbWFpbjogWzAsIDEwXX0sXG4gICAgeToge2xhYmVsOiBcIk91dGNvbWUgKFkpXCIsIGRvbWFpbjogWzUsIDI1XX0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICB3aWR0aDogMzUwLFxuICAgIGhlaWdodDogMzAwLFxuICAgIGNhcHRpb246IFwiSWYgeW91IGtub3cgWCDihpIgcHJlZGljdCBmcm9tIGxpbmUgwrEgZXJyb3JcIlxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyBNb3JlIHJlYWxpc3RpYyBpY2UgY3JlYW0gZGF0YSB3aXRoIG1vcmUgc2NhdHRlclxuaWNlX2RhdGFfcmVhbGlzdGljID0gW1xuICB7dGVtcDogMTUsIHNhbGVzOiA0NTAwfSwge3RlbXA6IDE1LCBzYWxlczogNTIwMH0sIHt0ZW1wOiAxNiwgc2FsZXM6IDYyMDB9LCB7dGVtcDogMTYsIHNhbGVzOiA1ODAwfSxcbiAge3RlbXA6IDE4LCBzYWxlczogNzgwMH0sIHt0ZW1wOiAxOCwgc2FsZXM6IDY5MDB9LCB7dGVtcDogMTksIHNhbGVzOiA2OTAwfSwge3RlbXA6IDE5LCBzYWxlczogNzYwMH0sXG4gIHt0ZW1wOiAyMCwgc2FsZXM6IDkxMDB9LCB7dGVtcDogMjAsIHNhbGVzOiA4MjAwfSwge3RlbXA6IDIyLCBzYWxlczogODgwMH0sIHt0ZW1wOiAyMiwgc2FsZXM6IDk1MDB9LFxuICB7dGVtcDogMjMsIHNhbGVzOiAxMTIwMH0sIHt0ZW1wOiAyMywgc2FsZXM6IDEwNDAwfSwge3RlbXA6IDI1LCBzYWxlczogMTA1MDB9LCB7dGVtcDogMjUsIHNhbGVzOiAxMTgwMH0sXG4gIHt0ZW1wOiAyNiwgc2FsZXM6IDEzODAwfSwge3RlbXA6IDI2LCBzYWxlczogMTI2MDB9LCB7dGVtcDogMjgsIHNhbGVzOiAxMjQwMH0sIHt0ZW1wOiAyOCwgc2FsZXM6IDEzOTAwfSxcbiAge3RlbXA6IDI5LCBzYWxlczogMTU2MDB9LCB7dGVtcDogMjksIHNhbGVzOiAxNDIwMH0sIHt0ZW1wOiAzMCwgc2FsZXM6IDE0ODAwfSwge3RlbXA6IDMwLCBzYWxlczogMTYxMDB9LFxuICB7dGVtcDogMzIsIHNhbGVzOiAxNzIwMH0sIHt0ZW1wOiAzMiwgc2FsZXM6IDE1ODAwfSwge3RlbXA6IDMzLCBzYWxlczogMTYxMDB9LCB7dGVtcDogMzMsIHNhbGVzOiAxNzgwMH0sXG4gIHt0ZW1wOiAzNSwgc2FsZXM6IDE5NTAwfSwge3RlbXA6IDM1LCBzYWxlczogMTgxMDB9LCB7dGVtcDogMzYsIHNhbGVzOiAxODMwMH0sIHt0ZW1wOiAzNiwgc2FsZXM6IDIwMjAwfSxcbiAge3RlbXA6IDM4LCBzYWxlczogMjE4MDB9LCB7dGVtcDogMzgsIHNhbGVzOiAxOTkwMH0sIHt0ZW1wOiAzOSwgc2FsZXM6IDIwMTAwfSwge3RlbXA6IDM5LCBzYWxlczogMjIzMDB9XG5dXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTI2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8aDQ+RXhwbG9yZSB0aGUgcmVncmVzc2lvbjo8L2g0PmBcblxudmlld29mIHByZWRpY3RfdGVtcF9pbXByb3ZlZCA9IElucHV0cy5yYW5nZShbMTAsIDQ1XSwge1xuICB2YWx1ZTogMjUsXG4gIHN0ZXA6IDEsXG4gIGxhYmVsOiBcIlByZWRpY3Qgc2FsZXMgYXQgdGVtcGVyYXR1cmUgKMKwQyk6XCJcbn0pXG5cbnZpZXdvZiBzaG93X2VsZW1lbnRzID0gSW5wdXRzLmNoZWNrYm94KFxuICBbXCJTaG93IGNvbmZpZGVuY2UgYmFuZFwiLCBcIlNob3cgcmVzaWR1YWxzXCIsIFwiU2hvdyBSwrIgYnJlYWtkb3duXCJdLFxuICB7dmFsdWU6IFtcIlNob3cgY29uZmlkZW5jZSBiYW5kXCJdfVxuKVxuXG5odG1sYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZlNGI1OyBwYWRkaW5nOiAxNXB4OyBtYXJnaW4tdG9wOiAyMHB4OyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG48c3Ryb25nPkJ1c2luZXNzIFByZWRpY3Rpb246PC9zdHJvbmc+PGJyLz5cbkF0ICR7cHJlZGljdF90ZW1wX2ltcHJvdmVkfcKwQyDihpIgPHN0cm9uZz5STSAkeygzODAgKiBwcmVkaWN0X3RlbXBfaW1wcm92ZWQgKyAxMjAwKS50b0ZpeGVkKDApfTwvc3Ryb25nPjxici8+XG48ZW0+RWFjaCAxwrBDIGluY3JlYXNlIOKGkiArUk0zODAgc2FsZXM8L2VtPjxici8+PGJyLz5cbjxzdHJvbmc+UHVycG9zZTo8L3N0cm9uZz4gUGxhbiBpbnZlbnRvcnkgJiBzdGFmZmluZyFcbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIC8vIFJlZ3Jlc3Npb24gYW5hbHlzaXNcbiAgY29uc3Qgc2xvcGUgPSAzODA7ICAvLyBNb3JlIHJlYWxpc3RpYyBzbG9wZVxuICBjb25zdCBpbnRlcmNlcHQgPSAxMjAwO1xuICBcbiAgY29uc3QgcHJlZGljdGVkX3kgPSBpY2VfZGF0YV9yZWFsaXN0aWMubWFwKGQgPT4gc2xvcGUgKiBkLnRlbXAgKyBpbnRlcmNlcHQpO1xuICBjb25zdCBsaW5lX2RhdGEgPSBbe3g6IDEwLCB5OiBzbG9wZSAqIDEwICsgaW50ZXJjZXB0fSwgXG4gICAgICAgICAgICAgICAgICAgICB7eDogNDUsIHk6IHNsb3BlICogNDUgKyBpbnRlcmNlcHR9XTtcbiAgXG4gIC8vIENhbGN1bGF0ZSBSwrIgXG4gIGNvbnN0IG1lYW5fc2FsZXMgPSBkMy5tZWFuKGljZV9kYXRhX3JlYWxpc3RpYywgZCA9PiBkLnNhbGVzKTtcbiAgY29uc3Qgc3NfdG90ID0gZDMuc3VtKGljZV9kYXRhX3JlYWxpc3RpYy5tYXAoZCA9PiAoZC5zYWxlcyAtIG1lYW5fc2FsZXMpICoqIDIpKTtcbiAgY29uc3Qgc3NfcmVzID0gZDMuc3VtKGljZV9kYXRhX3JlYWxpc3RpYy5tYXAoKGQsIGkpID0+IChkLnNhbGVzIC0gcHJlZGljdGVkX3lbaV0pICoqIDIpKTtcbiAgY29uc3QgcjIgPSAxIC0gKHNzX3JlcyAvIHNzX3RvdCk7XG4gIFxuICBjb25zdCBtYXJrcyA9IFtcbiAgICAvLyBEYXRhIHBvaW50c1xuICAgIFBsb3QuZG90KGljZV9kYXRhX3JlYWxpc3RpYywge3g6IFwidGVtcFwiLCB5OiBcInNhbGVzXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IFwib3JhbmdlXCIsIHI6IDUsIHN0cm9rZTogXCJ3aGl0ZVwiLCBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXA6IHRydWV9KSxcbiAgICAvLyBSZWdyZXNzaW9uIGxpbmVcbiAgICBQbG90LmxpbmUobGluZV9kYXRhLCB7eDogXCJ4XCIsIHk6IFwieVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgLy8gUHJlZGljdGlvbiBwb2ludFxuICAgIFBsb3QuZG90KFt7dGVtcDogcHJlZGljdF90ZW1wX2ltcHJvdmVkLCBzYWxlczogc2xvcGUgKiBwcmVkaWN0X3RlbXBfaW1wcm92ZWQgKyBpbnRlcmNlcHR9XSxcbiAgICAgICAgICAgICB7eDogXCJ0ZW1wXCIsIHk6IFwic2FsZXNcIiwgZmlsbDogXCJncmVlblwiLCByOiAxMiwgc3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAyfSlcbiAgXTtcbiAgXG4gIC8vIEFkZCBjb25maWRlbmNlIGJhbmQgaWYgY2hlY2tlZFxuICBpZiAoc2hvd19lbGVtZW50cy5pbmNsdWRlcyhcIlNob3cgY29uZmlkZW5jZSBiYW5kXCIpKSB7XG4gICAgY29uc3QgY29uZmlkZW5jZV9kYXRhID0gZDMucmFuZ2UoMTAsIDQ2KS5tYXAodGVtcCA9PiAoe1xuICAgICAgdGVtcDogdGVtcCxcbiAgICAgIGxvd2VyOiBzbG9wZSAqIHRlbXAgKyBpbnRlcmNlcHQgLSAyMDAwLFxuICAgICAgdXBwZXI6IHNsb3BlICogdGVtcCArIGludGVyY2VwdCArIDIwMDBcbiAgICB9KSk7XG4gICAgbWFya3MudW5zaGlmdChcbiAgICAgIFBsb3QuYXJlYShjb25maWRlbmNlX2RhdGEsIHt4OiBcInRlbXBcIiwgeTE6IFwibG93ZXJcIiwgeTI6IFwidXBwZXJcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJyZWRcIiwgb3BhY2l0eTogMC4xfSlcbiAgICApO1xuICB9XG4gIFxuICAvLyBBZGQgcmVzaWR1YWwgbGluZXMgaWYgY2hlY2tlZCAtIEZJWCB0aGUgeDEveDIgZXJyb3JcbiAgaWYgKHNob3dfZWxlbWVudHMuaW5jbHVkZXMoXCJTaG93IHJlc2lkdWFsc1wiKSkge1xuICAgIGljZV9kYXRhX3JlYWxpc3RpYy5mb3JFYWNoKGQgPT4ge1xuICAgICAgbWFya3MucHVzaChcbiAgICAgICAgUGxvdC5saW5rKFt7eDE6IGQudGVtcCwgeTE6IGQuc2FsZXMsIHgyOiBkLnRlbXAsIHkyOiBzbG9wZSAqIGQudGVtcCArIGludGVyY2VwdH1dLFxuICAgICAgICAgICAgICAgICAge3gxOiBcIngxXCIsIHkxOiBcInkxXCIsIHgyOiBcIngyXCIsIHkyOiBcInkyXCIsIHN0cm9rZTogXCJncmF5XCIsIHN0cm9rZVdpZHRoOiAxfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHJldHVybiBQbG90LnBsb3Qoe1xuICAgIG1hcmtzOiBtYXJrcyxcbiAgICB4OiB7bGFiZWw6IFwiVGVtcGVyYXR1cmUgKMKwQylcIiwgZG9tYWluOiBbMTAsIDQ1XX0sXG4gICAgeToge2xhYmVsOiBcIkljZSBDcmVhbSBTYWxlcyAoUk0pXCIsIGRvbWFpbjogWzAsIDI1MDAwXX0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBzaG93X2VsZW1lbnRzLmluY2x1ZGVzKFwiU2hvdyBSwrIgYnJlYWtkb3duXCIpID8gXG4gICAgICBgUsKyID0gJHtyMi50b0ZpeGVkKDMpfSB8ICR7KHIyKjEwMCkudG9GaXhlZCgxKX0lIGV4cGxhaW5lZCBieSB0ZW1wZXJhdHVyZSB8ICR7KCgxLXIyKSoxMDApLnRvRml4ZWQoMSl9JSBkdWUgdG8gb3RoZXIgZmFjdG9ycyAod2VhdGhlciwgZXZlbnRzLCBldGMuKWAgOlxuICAgICAgYFRlbXBlcmF0dXJlIHNpZ25pZmljYW50bHkgcHJlZGljdHMgc2FsZXMhIFLCsiA9ICR7cjIudG9GaXhlZCgzKX1gXG4gIH0pO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGg0PlBzeWNob2xvZ3kgUmVzZWFyY2ggU2NlbmFyaW86PC9oND5gXG5cbnZpZXdvZiBuZXdfeF9yZWFsaXN0aWMgPSBJbnB1dHMucmFuZ2UoWzAsIDE1XSwge1xuICB2YWx1ZTogOCxcbiAgc3RlcDogMC41LFxuICBsYWJlbDogXCJTdHVkeSBob3VycyBwZXIgd2VlazpcIlxufSlcblxudmlld29mIHNjZW5hcmlvX3R5cGUgPSBJbnB1dHMucmFkaW8oXG4gIFtcIkhpZ2hseSBwcmVkaWN0YWJsZVwiLCBcIlNvbWV3aGF0IHByZWRpY3RhYmxlXCIsIFwiQmFyZWx5IHByZWRpY3RhYmxlXCJdLFxuICB7dmFsdWU6IFwiU29tZXdoYXQgcHJlZGljdGFibGVcIiwgbGFiZWw6IFwiUmVsYXRpb25zaGlwIHN0cmVuZ3RoOlwifVxuKVxuXG5odG1sYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZjBmOGZmOyBwYWRkaW5nOiAxNXB4OyBtYXJnaW4tdG9wOiAyMHB4OyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG48c3Ryb25nPlByZWRpY3RlZCBFeGFtIFNjb3JlOjwvc3Ryb25nPjxici8+XG4keyg0LjIgKiBuZXdfeF9yZWFsaXN0aWMgKyA0NSkudG9GaXhlZCgxKX0lPGJyLz5cbjxzdHJvbmc+OTUlIENvbmZpZGVuY2UgSW50ZXJ2YWw6PC9zdHJvbmc+PGJyLz5cblskeyg0LjIgKiBuZXdfeF9yZWFsaXN0aWMgKyA0NSAtIChzY2VuYXJpb190eXBlID09PSBcIkhpZ2hseSBwcmVkaWN0YWJsZVwiID8gMyA6IHNjZW5hcmlvX3R5cGUgPT09IFwiU29tZXdoYXQgcHJlZGljdGFibGVcIiA/IDggOiAxNSkpLnRvRml4ZWQoMSl9JSwgXG4keyg0LjIgKiBuZXdfeF9yZWFsaXN0aWMgKyA0NSArIChzY2VuYXJpb190eXBlID09PSBcIkhpZ2hseSBwcmVkaWN0YWJsZVwiID8gMyA6IHNjZW5hcmlvX3R5cGUgPT09IFwiU29tZXdoYXQgcHJlZGljdGFibGVcIiA/IDggOiAxNSkpLnRvRml4ZWQoMSl9JV08YnIvPlxuPGVtPkVhY2ggZXh0cmEgaG91ciDihpIgKzQuMiUgb24gZXhhbTwvZW0+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTI5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuICAvLyBDcmVhdGUgZGlmZmVyZW50IGRhdGFzZXRzIGJhc2VkIG9uIHByZWRpY3RhYmlsaXR5IC0gTU9SRSBzY2F0dGVyIHBvaW50c1xuICBsZXQgdHJhaW5pbmdfZGF0YSA9IFtdO1xuICBjb25zdCBiYXNlX3Nsb3BlID0gNC4yO1xuICBjb25zdCBiYXNlX2ludGVyY2VwdCA9IDQ1O1xuICBcbiAgaWYgKHNjZW5hcmlvX3R5cGUgPT09IFwiSGlnaGx5IHByZWRpY3RhYmxlXCIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDYwOyBpKyspIHtcbiAgICAgIGNvbnN0IGhvdXJzID0gKGkgLyA2MCkgKiAxMiArIDEgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjM7XG4gICAgICBjb25zdCBzY29yZSA9IGJhc2Vfc2xvcGUgKiBob3VycyArIGJhc2VfaW50ZXJjZXB0ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNjtcbiAgICAgIHRyYWluaW5nX2RhdGEucHVzaCh7aG91cnM6IGhvdXJzLCBzY29yZTogTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBzY29yZSkpfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNjZW5hcmlvX3R5cGUgPT09IFwiU29tZXdoYXQgcHJlZGljdGFibGVcIikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzU7IGkrKykge1xuICAgICAgY29uc3QgaG91cnMgPSAoaSAvIDc1KSAqIDE0ICsgMC41ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC40O1xuICAgICAgY29uc3Qgc2NvcmUgPSBiYXNlX3Nsb3BlICogaG91cnMgKyBiYXNlX2ludGVyY2VwdCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDE2O1xuICAgICAgdHJhaW5pbmdfZGF0YS5wdXNoKHtob3VyczogaG91cnMsIHNjb3JlOiBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHNjb3JlKSl9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5MDsgaSsrKSB7XG4gICAgICBjb25zdCBob3VycyA9IChpIC8gOTApICogMTUgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjU7XG4gICAgICBjb25zdCBzY29yZSA9IGJhc2Vfc2xvcGUgKiBob3VycyArIGJhc2VfaW50ZXJjZXB0ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMzA7XG4gICAgICB0cmFpbmluZ19kYXRhLnB1c2goe2hvdXJzOiBob3Vycywgc2NvcmU6IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgc2NvcmUpKX0pO1xuICAgIH1cbiAgfVxuICBcbiAgY29uc3QgcHJlZGljdGVkX3Njb3JlID0gYmFzZV9zbG9wZSAqIG5ld194X3JlYWxpc3RpYyArIGJhc2VfaW50ZXJjZXB0O1xuICBjb25zdCBjb25maWRlbmNlX3dpZHRoID0gc2NlbmFyaW9fdHlwZSA9PT0gXCJIaWdobHkgcHJlZGljdGFibGVcIiA/IDMgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmFyaW9fdHlwZSA9PT0gXCJTb21ld2hhdCBwcmVkaWN0YWJsZVwiID8gOCA6IDE1O1xuICBcbiAgcmV0dXJuIFBsb3QucGxvdCh7XG4gICAgbWFya3M6IFtcbiAgICAgIC8vIFRyYWluaW5nIGRhdGFcbiAgICAgIFBsb3QuZG90KHRyYWluaW5nX2RhdGEsIHt4OiBcImhvdXJzXCIsIHk6IFwic2NvcmVcIiwgZmlsbDogXCJsaWdodGJsdWVcIiwgcjogNCwgb3BhY2l0eTogMC42fSksXG4gICAgICAvLyBSZWdyZXNzaW9uIGxpbmVcbiAgICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkodHJhaW5pbmdfZGF0YSwge3g6IFwiaG91cnNcIiwgeTogXCJzY29yZVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAzfSksXG4gICAgICAvLyBOZXcgcHJlZGljdGlvbiBwb2ludFxuICAgICAgUGxvdC5kb3QoW3tob3VyczogbmV3X3hfcmVhbGlzdGljLCBzY29yZTogcHJlZGljdGVkX3Njb3JlfV0sXG4gICAgICAgICAgICAgICB7eDogXCJob3Vyc1wiLCB5OiBcInNjb3JlXCIsIGZpbGw6IFwiZ3JlZW5cIiwgcjogMTIsIHN0cm9rZTogXCJ3aGl0ZVwiLCBzdHJva2VXaWR0aDogM30pLFxuICAgICAgLy8gQ29uZmlkZW5jZSBpbnRlcnZhbFxuICAgICAgUGxvdC5saW5rKFt7eDE6IG5ld194X3JlYWxpc3RpYywgeTE6IHByZWRpY3RlZF9zY29yZSAtIGNvbmZpZGVuY2Vfd2lkdGgsIFxuICAgICAgICAgICAgICAgICAgeDI6IG5ld194X3JlYWxpc3RpYywgeTI6IHByZWRpY3RlZF9zY29yZSArIGNvbmZpZGVuY2Vfd2lkdGh9XSxcbiAgICAgICAgICAgICAgICB7eDE6IFwieDFcIiwgeTE6IFwieTFcIiwgeDI6IFwieDJcIiwgeTI6IFwieTJcIiwgc3Ryb2tlOiBcImdyZWVuXCIsIHN0cm9rZVdpZHRoOiA2LCBvcGFjaXR5OiAwLjV9KVxuICAgIF0sXG4gICAgeDoge2RvbWFpbjogWzAsIDE1XSwgbGFiZWw6IFwiU3R1ZHkgSG91cnMgcGVyIFdlZWtcIn0sXG4gICAgeToge2RvbWFpbjogWzAsIDEwMF0sIGxhYmVsOiBcIkV4YW0gU2NvcmUgKCUpXCJ9LFxuICAgIGdyaWQ6IHRydWUsXG4gICAgY2FwdGlvbjogYEdyZWVuIGRvdCA9IHByZWRpY3Rpb24gfCBHcmVlbiBsaW5lID0gY29uZmlkZW5jZSBpbnRlcnZhbCB8ICR7c2NlbmFyaW9fdHlwZX0gcmVsYXRpb25zaGlwYFxuICB9KTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMzBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgZm9udC1mYW1pbHk6ICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZjsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLDAsMCwwLjEpO1wiPlxuXG48cD48c3Ryb25nPkEgc2ltcGxlIGxpbmVhciByZWdyZXNzaW9uIGFuYWx5c2lzPC9zdHJvbmc+IHdhcyB1c2VkIHRvIGludmVzdGlnYXRlIHdoZXRoZXIgdGhlIHRlbXBlcmF0dXJlIG9uIGVhY2ggZGF5IChpbiBkZWdyZWVzIEMpIHByZWRpY3RlZCB0aGUgYW1vdW50IG9mIG1vbmV5IGVhcm5lZCBpbiBpY2UgY3JlYW0gc2FsZXMgKGluIFJNKS48L3A+XG5cbjxwPlRlbXBlcmF0dXJlIDxzdHJvbmc+c2lnbmlmaWNhbnRseSBhbmQgcG9zaXRpdmVseSBwcmVkaWN0ZWQ8L3N0cm9uZz4gSWNlIENyZWFtIFNhbGVzLCA8ZW0+UsKyPC9lbT4gPSAuMzYsIDxlbT5GPC9lbT4oMSw5OCkgPSA1Ni4wNywgPGVtPnA8L2VtPiAmbHQ7IC4wMDEsIGluZGljYXRpbmcgdGhhdCBUZW1wZXJhdHVyZSA8c3Ryb25nPmV4cGxhaW5lZCAzNiUgb2YgdGhlIHZhcmlhbmNlPC9zdHJvbmc+IGluIEljZSBDcmVhbSBTYWxlcy48L3A+XG5cbjxwPlRoZSBzdGFuZGFyZGlzZWQgY29lZmZpY2llbnQgaW5kaWNhdGVkIHRoYXQgYXMgVGVtcGVyYXR1cmUgaW5jcmVhc2VkIGJ5IDEgU0QsIEljZSBDcmVhbSBTYWxlcyBpbmNyZWFzZWQgYnkgPHN0cm9uZz4uNjAgU0Q8L3N0cm9uZz4uPC9wPlxuXG48aHIgc3R5bGU9XCJtYXJnaW46IDIwcHggMDtcIj5cblxuPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmNWY1ZjU7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzIxOTZGMztcIj5cbjxzdHJvbmc+S2V5IFJlcG9ydGluZyBFbGVtZW50czo8L3N0cm9uZz48YnIvPlxu4pyTIE5hbWUgdGhlIHNwZWNpZmljIHRlc3Q6IFwiU2ltcGxlIGxpbmVhciByZWdyZXNzaW9uXCI8YnIvPlxu4pyTIERlc2NyaWJlIHJlbGF0aW9uc2hpcDogXCJzaWduaWZpY2FudGx5IGFuZCBwb3NpdGl2ZWx5IHByZWRpY3RlZFwiPGJyLz5cbuKckyBSZXBvcnQgUsKyOiBcImV4cGxhaW5lZCAzNiUgb2YgdGhlIHZhcmlhbmNlXCI8YnIvPlxu4pyTIEluY2x1ZGUgc3RhdGlzdGljczogRi1zdGF0aXN0aWMsIHAtdmFsdWU8YnIvPlxu4pyTIEludGVycHJldCBzdGFuZGFyZGlzZWQgY29lZmZpY2llbnQ6IGVmZmVjdCBzaXplIGluIFNEIHVuaXRzXG48L2Rpdj5cblxuPC9kaXY+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMjRweDsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDQwcHggMDtcIj5cbjxwPldlIHNhdyB0aGF0IGV2ZXJ5IGRlZ3JlZSBpbmNyZWFzZSBpbiB0ZW1wZXJhdHVyZSBnZXRzIHlvdSBhbm90aGVyIDxzdHJvbmc+Uk0gNDMwPC9zdHJvbmc+PC9wPlxuPGJyLz5cbjxwPlJNIDQzMCA9IMKjNzUgKEJyaXRpc2ggUG91bmRzKTwvcD5cbjxwPlJNIDQzMCA9ICQ5NiAoVVMgRG9sbGFycykgIDwvcD5cbjxwPlJNIDQzMCA9IDAuMDAwMDA1OSBCVEMgKEJpdGNvaW4pPC9wPlxuPGJyLz5cbjxwIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5XaGVuIHdlIHVzZSDOsiwgaXQgaXMgPHN0cm9uZz5ub3Qgc3RhbmRhcmRpc2VkPC9zdHJvbmc+PGJyLz5cblRoaXMgbWVhbnMgaXQgY2FuJ3QgYmUgY29tcGFyZWQgYWNyb3NzIGRpZmZlcmVudCBtZWFzdXJlcyE8L3A+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8aDQ+Q29tcGFyZSBlZmZlY3Qgc2l6ZXM6PC9oND5gXG5cbnZpZXdvZiBjdXJyZW5jeV90eXBlID0gSW5wdXRzLnJhZGlvKFxuICBbXCJNYWxheXNpYW4gUmluZ2dpdCAoUk0pXCIsIFwiVVMgRG9sbGFycyAoJClcIiwgXCJCcml0aXNoIFBvdW5kcyAowqMpXCJdLFxuICB7dmFsdWU6IFwiTWFsYXlzaWFuIFJpbmdnaXQgKFJNKVwiLCBsYWJlbDogXCJDdXJyZW5jeTpcIn1cbilcblxudmlld29mIHRlbXBfdW5pdCA9IElucHV0cy5yYWRpbyhcbiAgW1wiQ2Vsc2l1cyAowrBDKVwiLCBcIkZhaHJlbmhlaXQgKMKwRilcIl0sXG4gIHt2YWx1ZTogXCJDZWxzaXVzICjCsEMpXCIsIGxhYmVsOiBcIlRlbXBlcmF0dXJlOlwifVxuKVxuXG5odG1sYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZmOGRjOyBwYWRkaW5nOiAxNXB4OyBtYXJnaW4tdG9wOiAyMHB4OyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG48c3Ryb25nPlVuc3RhbmRhcmRpc2VkIM6yIGNoYW5nZXMhPC9zdHJvbmc+PGJyLz5cbkN1cnJlbmN5IGFmZmVjdHMgdGhlIGNvZWZmaWNpZW50PGJyLz5cblRlbXBlcmF0dXJlIHNjYWxlIGFmZmVjdHMgaXQgdG9vPGJyLz48YnIvPlxuPHN0cm9uZz5TdGFuZGFyZGlzZWQgzrIgc3RheXMgdGhlIHNhbWUhPC9zdHJvbmc+PGJyLz5cbkFsd2F5cyBpbiBTdGFuZGFyZCBEZXZpYXRpb24gdW5pdHNcbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIC8vIENvbnZlcnNpb24gZmFjdG9yc1xuICBjb25zdCBjdXJyZW5jeV9tdWx0aXBsaWVyID0gY3VycmVuY3lfdHlwZSA9PT0gXCJNYWxheXNpYW4gUmluZ2dpdCAoUk0pXCIgPyAxIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lfdHlwZSA9PT0gXCJVUyBEb2xsYXJzICgkKVwiID8gMC4yMiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuMTg7IC8vIEJyaXRpc2ggUG91bmRzXG4gIFxuICBjb25zdCB0ZW1wX211bHRpcGxpZXIgPSB0ZW1wX3VuaXQgPT09IFwiQ2Vsc2l1cyAowrBDKVwiID8gMSA6IDEuODsgLy8gRmFocmVuaGVpdFxuICBjb25zdCB0ZW1wX29mZnNldCA9IHRlbXBfdW5pdCA9PT0gXCJDZWxzaXVzICjCsEMpXCIgPyAwIDogMzI7XG4gIFxuICAvLyBPcmlnaW5hbCBkYXRhIGluIFJNIGFuZCBDZWxzaXVzIC0gTU9SRSBzY2F0dGVyIHBvaW50c1xuICBjb25zdCBiYXNlX2RhdGEgPSBbXG4gICAge3RlbXBfYzogMTUsIHNhbGVzX3JtOiA1MDAwfSwge3RlbXBfYzogMTUsIHNhbGVzX3JtOiA0ODAwfSwgXG4gICAge3RlbXBfYzogMjAsIHNhbGVzX3JtOiA4NTAwfSwge3RlbXBfYzogMjAsIHNhbGVzX3JtOiA4MjAwfSxcbiAgICB7dGVtcF9jOiAyNSwgc2FsZXNfcm06IDEyNTAwfSwge3RlbXBfYzogMjUsIHNhbGVzX3JtOiAxMjEwMH0sXG4gICAge3RlbXBfYzogMzAsIHNhbGVzX3JtOiAxNzAwMH0sIHt0ZW1wX2M6IDMwLCBzYWxlc19ybTogMTY0MDB9LFxuICAgIHt0ZW1wX2M6IDM1LCBzYWxlc19ybTogMjEwMDB9LCB7dGVtcF9jOiAzNSwgc2FsZXNfcm06IDIwNjAwfVxuICBdO1xuICBcbiAgLy8gQ29udmVydCBkYXRhXG4gIGNvbnN0IGNvbnZlcnRlZF9kYXRhID0gYmFzZV9kYXRhLm1hcChkID0+ICh7XG4gICAgdGVtcDogZC50ZW1wX2MgKiB0ZW1wX211bHRpcGxpZXIgKyB0ZW1wX29mZnNldCxcbiAgICBzYWxlczogZC5zYWxlc19ybSAqIGN1cnJlbmN5X211bHRpcGxpZXJcbiAgfSkpO1xuICBcbiAgLy8gQ2FsY3VsYXRlIHJlZ3Jlc3Npb25cbiAgY29uc3QgbWVhbl90ZW1wID0gZDMubWVhbihjb252ZXJ0ZWRfZGF0YSwgZCA9PiBkLnRlbXApO1xuICBjb25zdCBtZWFuX3NhbGVzID0gZDMubWVhbihjb252ZXJ0ZWRfZGF0YSwgZCA9PiBkLnNhbGVzKTtcbiAgY29uc3Qgc2xvcGUgPSBkMy5zdW0oY29udmVydGVkX2RhdGEubWFwKGQgPT4gKGQudGVtcCAtIG1lYW5fdGVtcCkgKiAoZC5zYWxlcyAtIG1lYW5fc2FsZXMpKSkgLyBcbiAgICAgICAgICAgICAgICBkMy5zdW0oY29udmVydGVkX2RhdGEubWFwKGQgPT4gKGQudGVtcCAtIG1lYW5fdGVtcCkgKiogMikpO1xuICBjb25zdCBpbnRlcmNlcHQgPSBtZWFuX3NhbGVzIC0gc2xvcGUgKiBtZWFuX3RlbXA7XG4gIFxuICAvLyBTdGFuZGFyZGlzZWQgYmV0YSAoYWx3YXlzIHRoZSBzYW1lISlcbiAgY29uc3Qgc2RfdGVtcCA9IE1hdGguc3FydChkMy52YXJpYW5jZShjb252ZXJ0ZWRfZGF0YSwgZCA9PiBkLnRlbXApKTtcbiAgY29uc3Qgc2Rfc2FsZXMgPSBNYXRoLnNxcnQoZDMudmFyaWFuY2UoY29udmVydGVkX2RhdGEsIGQgPT4gZC5zYWxlcykpO1xuICBjb25zdCBzdGFuZGFyZGlzZWRfYmV0YSA9IHNsb3BlICogKHNkX3RlbXAgLyBzZF9zYWxlcyk7XG4gIFxuICBjb25zdCBjdXJyZW5jeV9zeW1ib2wgPSBjdXJyZW5jeV90eXBlID09PSBcIk1hbGF5c2lhbiBSaW5nZ2l0IChSTSlcIiA/IFwiUk1cIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lfdHlwZSA9PT0gXCJVUyBEb2xsYXJzICgkKVwiID8gXCIkXCIgOiBcIsKjXCI7XG4gIFxuICByZXR1cm4gUGxvdC5wbG90KHtcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5kb3QoY29udmVydGVkX2RhdGEsIHt4OiBcInRlbXBcIiwgeTogXCJzYWxlc1wiLCBmaWxsOiBcIm9yYW5nZVwiLCByOiA2fSksXG4gICAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKGNvbnZlcnRlZF9kYXRhLCB7eDogXCJ0ZW1wXCIsIHk6IFwic2FsZXNcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogM30pXG4gICAgXSxcbiAgICB4OiB7bGFiZWw6IGBUZW1wZXJhdHVyZSAoJHt0ZW1wX3VuaXR9KWB9LFxuICAgIHk6IHtsYWJlbDogYFNhbGVzICgke2N1cnJlbmN5X3N5bWJvbH0pYH0sXG4gICAgZ3JpZDogdHJ1ZSxcbiAgICBjYXB0aW9uOiBgVW5zdGFuZGFyZGlzZWQgzrIgPSAke3Nsb3BlLnRvRml4ZWQoMSl9ICR7Y3VycmVuY3lfc3ltYm9sfS9kZWdyZWUgfCBTdGFuZGFyZGlzZWQgzrIgPSAke3N0YW5kYXJkaXNlZF9iZXRhLnRvRml4ZWQoMil9IFNEIChhbHdheXMgdGhlIHNhbWUhKWBcbiAgfSk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTM0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAyMHB4OyBsaW5lLWhlaWdodDogMjtcIj5cbjxzdHJvbmc+4pyTIFNpbXBsZSBMaW5lYXIgUmVncmVzc2lvbjwvc3Ryb25nPiBkZXRlcm1pbmVzIHdoZXRoZXIgYSBjb250aW51b3VzIHZhcmlhYmxlIHByZWRpY3RzIGEgY29udGludW91cyBvdXRjb21lPGJyLz48YnIvPlxuXG48c3Ryb25nPuKckyBUaGUgc2xvcGUgKM6yKTwvc3Ryb25nPiB0ZWxscyB5b3UgaG93IG11Y2ggdGhlIG91dGNvbWUgeSBjaGFuZ2VzIHdpdGggZWFjaCBjaGFuZ2UgaW4gdGhlIHByZWRpY3RvciB4PGJyLz48YnIvPlxuXG48c3Ryb25nPuKckyBSwrI8L3N0cm9uZz4gdGVsbHMgeW91IGhvdyBtdWNoIHZhcmlhbmNlIGluIHRoZSBvdXRjb21lIGlzIGV4cGxhaW5lZCBieSB0aGUgcHJlZGljdG9yPGJyLz48YnIvPlxuXG48c3Ryb25nPuKckyBUaGUgUmVncmVzc2lvbiBMaW5lPC9zdHJvbmc+IGlzIGRlc2NyaWJlZCBieSB0aGUgZm9ybXVsYTogPGVtPnkgPSDOsnggKyBjPC9lbT48YnIvPjxici8+XG5cbjxzdHJvbmc+4pyTIEJvdGggQU5PVkEgYW5kIFJlZ3Jlc3Npb248L3N0cm9uZz4gdXNlIHRoZSBzYW1lIGxvZ2ljOiBLbm93biB2YWx1ZSDihpIgUHJlZGljdGVkIG91dGNvbWUgwrEgZXJyb3I8YnIvPjxici8+XG5cbjxzdHJvbmc+4pyTIFN0YW5kYXJkaXNlZCBCZXRhPC9zdHJvbmc+IGFsbG93cyBjb21wYXJpc29uIGFjcm9zcyBkaWZmZXJlbnQgbWVhc3VyZXMgYW5kIHN0dWRpZXM8YnIvPjxici8+XG5cbjxzdHJvbmc+4pyTIEVycm9yID0gTmF0dXJhbCBWYXJpYWJpbGl0eTwvc3Ryb25nPiB0aGF0IHdlIGNhbm5vdCBleHBsYWluIHdpdGggb3VyIHByZWRpY3RvcnNcbjwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJodG1sYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiB3aGl0ZTsgZm9udC1zaXplOiA0OHB4OyBtYXJnaW4tdG9wOiAxMDBweDtcIj5cbjxzdHJvbmc+UXVlc3Rpb25zICYgRGlzY3Vzc2lvbjwvc3Ryb25nPlxuPGJyLz48YnIvPlxuPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMjRweDtcIj5cbldoYXQgcXVlc3Rpb25zIGRvIHlvdSBoYXZlIGFmdGVyIGV4cGxvcmluZyB0aGVzZSBjb25jZXB0cz88YnIvPlxuV2hpY2ggaW50ZXJhY3RpdmUgZWxlbWVudCBzdXJwcmlzZWQgeW91IG1vc3Q/PGJyLz5cbldoYXQgbWlzY29uY2VwdGlvbnMgZGlkIHlvdSBub3RpY2UgaW4geW91cnNlbGY/XG48L2Rpdj5cbjxici8+PGJyLz5cbjxzdHJvbmc+aUNoZWNrSW46IFhYWFhYPC9zdHJvbmc+XG48L2Rpdj5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2NvcnJlbGF0aW9uX3N0cmVuZ3RoJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2RhdGFfcGF0dGVybicpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzaG93X2FwcHJvYWNoJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ25vaXNlX2RyYW1hdGljJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2xpbmVfY29tcGFyaXNvbicpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzbG9wZV9iZXR0ZXInKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnaW50ZXJjZXB0X2JldHRlcicpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzaG93X2Jlc3RfZml0JykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2Vycm9yX3NjZW5hcmlvJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3Jfc3F1YXJlZF9kcmFtYXRpYycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdkYXRhc2V0X3NpemUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnYmV0YV9kcmFtYXRpYycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdyMl9kcmFtYXRpYycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdwcmVkaWN0X3RlbXBfaW1wcm92ZWQnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2hvd19lbGVtZW50cycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCduZXdfeF9yZWFsaXN0aWMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2NlbmFyaW9fdHlwZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdjdXJyZW5jeV90eXBlJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3RlbXBfdW5pdCcpIn1dfQ==
    </script>
    <script type="module">
    if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
    window._ojs.paths.runtimeToDoc = "../../..";
    window._ojs.paths.runtimeToRoot = "../../..";
    window._ojs.paths.docToRoot = "";
    window._ojs.selfContained = false;
    window._ojs.runtime.interpretFromScriptTags();
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>